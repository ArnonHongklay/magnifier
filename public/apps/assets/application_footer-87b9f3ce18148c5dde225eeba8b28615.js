(function(){var e,t,n,i,r,o,a,s,l,c,u,d,f,h,p,m,g,v,b,y,x,C,w,k,_,E,S,N,T,M,A,R,D,P,B,I,L,F,O,H,z,W,$=[].slice,q={}.hasOwnProperty,j=function(e,t){function n(){this.constructor=e}for(var i in t)q.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},U=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};b={catchupTime:500,initialRate:.03,minTime:500,ghostTime:500,maxProgressPerFrame:10,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!1}},S=function(){var e;return null!=(e="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?e:+new Date},T=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,v=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==T&&(T=function(e){return setTimeout(e,50)},v=function(e){return clearTimeout(e)}),A=function(e){var t,n;return t=S(),(n=function(){var i;return i=S()-t,i>=33?(t=S(),e(i,function(){return T(n)})):setTimeout(n,33-i)})()},M=function(){var e,t,n;return n=arguments[0],t=arguments[1],e=3<=arguments.length?$.call(arguments,2):[],"function"==typeof n[t]?n[t].apply(n,e):n[t]},y=function(){var e,t,n,i,r,o,a;for(t=arguments[0],i=2<=arguments.length?$.call(arguments,1):[],o=0,a=i.length;a>o;o++)if(n=i[o])for(e in n)q.call(n,e)&&(r=n[e],null!=t[e]&&"object"==typeof t[e]&&null!=r&&"object"==typeof r?y(t[e],r):t[e]=r);return t},p=function(e){var t,n,i,r,o;for(n=t=0,r=0,o=e.length;o>r;r++)i=e[r],n+=Math.abs(i),t++;return n/t},C=function(e,t){var n,i,r;if(null==e&&(e="options"),null==t&&(t=!0),r=document.querySelector("[data-pace-"+e+"]")){if(n=r.getAttribute("data-pace-"+e),!t)return n;try{return JSON.parse(n)}catch(o){return i=o,"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",i):void 0}}},null==window.Pace&&(window.Pace={}),N=Pace.options=y(b,window.paceOptions,C()),s=function(e){function t(){return z=t.__super__.constructor.apply(this,arguments)}return j(t,e),t}(Error),t=function(){function e(){this.progress=0}return e.prototype.getElement=function(){var e;if(null==this.el){if(e=document.querySelector(N.target),!e)throw new s;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace("pace-done",""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=e.firstChild?e.insertBefore(this.el,e.firstChild):e.appendChild(this.el)}return this.el},e.prototype.finish=function(){var e;return e=this.getElement(),e.className=e.className.replace("pace-active",""),e.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},e.prototype.update=function(e){return this.progress=e,this.render()},e.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(e){s=e}return this.el=void 0},e.prototype.render=function(){var e,t;return null==document.querySelector(N.target)?!1:(e=this.getElement(),e.children[0].style.width=""+this.progress+"%",(!this.lastRenderedProgress||0|(this.lastRenderedProgress|0!==this.progress))&&(e.children[0].setAttribute("data-progress-text",""+(0|this.progress)+"%"),this.progress>=100?t="99":(t=this.progress<10?"0":"",t+=0|this.progress),e.children[0].setAttribute("data-progress",""+t)),this.lastRenderedProgress=this.progress)},e.prototype.done=function(){return this.progress>=100},e}(),a=function(){function e(){this.bindings={}}return e.prototype.trigger=function(e,t){var n,i,r,o,a;if(null!=this.bindings[e]){for(o=this.bindings[e],a=[],i=0,r=o.length;r>i;i++)n=o[i],a.push(n.call(this,t));return a}},e.prototype.on=function(e,t){var n;return null==(n=this.bindings)[e]&&(n[e]=[]),this.bindings[e].push(t)},e}(),F=window.XMLHttpRequest,L=window.XDomainRequest,I=window.WebSocket,x=function(e,t){var n,i,r,o;o=[];for(i in t.prototype)try{r=t.prototype[i],o.push(null==e[i]&&"function"!=typeof r?e[i]=r:void 0)}catch(a){n=a}return o},_=[],Pace.ignore=function(){var e,t,n;return t=arguments[0],e=2<=arguments.length?$.call(arguments,1):[],_.unshift("ignore"),n=t.apply(null,e),_.shift(),n},Pace.track=function(){var e,t,n;return t=arguments[0],e=2<=arguments.length?$.call(arguments,1):[],_.unshift("track"),n=t.apply(null,e),_.shift(),n},D=function(e){var t;if(null==e&&(e="GET"),"track"===_[0])return"force";if(!_.length&&N.ajax){if("socket"===e&&N.ajax.trackWebSockets)return!0;if(t=e.toUpperCase(),U.call(N.ajax.trackMethods,t)>=0)return!0}return!1},l=function(e){function t(){var e,n=this;t.__super__.constructor.apply(this,arguments),e=function(e){var t;return t=e.open,e.open=function(i,r){return D(i)&&n.trigger("request",{type:i,url:r,request:e}),t.apply(e,arguments)}},window.XMLHttpRequest=function(t){var n;return n=new F(t),e(n),n},x(window.XMLHttpRequest,F),null!=L&&(window.XDomainRequest=function(){var t;return t=new L,e(t),t},x(window.XDomainRequest,L)),null!=I&&N.ajax.trackWebSockets&&(window.WebSocket=function(e,t){var i;return i=new I(e,t),D("socket")&&n.trigger("request",{type:"socket",url:e,protocols:t,request:i}),i},x(window.WebSocket,I))}return j(t,e),t}(a),O=null,w=function(){return null==O&&(O=new l),O},w().on("request",function(t){var n,i,r,o;return o=t.type,r=t.request,Pace.running||N.restartOnRequestAfter===!1&&"force"!==D(o)?void 0:(i=arguments,n=N.restartOnRequestAfter||0,"boolean"==typeof n&&(n=0),setTimeout(function(){var t,n,a,s,l,c,u;if(n="socket"===o?r.readyState<2:0<(l=r.readyState)&&4>l){for(Pace.restart(),c=Pace.sources,u=[],a=0,s=c.length;s>a;a++){if(t=c[a],t instanceof e){t.watch.apply(t,i);break}u.push(void 0)}return u}},n))}),e=function(){function e(){var e=this;this.elements=[],w().on("request",function(){return e.watch.apply(e,arguments)})}return e.prototype.watch=function(e){var t,n,i;return i=e.type,t=e.request,n="socket"===i?new d(t):new f(t),this.elements.push(n)},e}(),f=function(){function e(e){var t,n,i,r,o,a,s=this;if(this.progress=0,null!=window.ProgressEvent)for(n=null,e.addEventListener("progress",function(e){return s.progress=e.lengthComputable?100*e.loaded/e.total:s.progress+(100-s.progress)/2}),a=["load","abort","timeout","error"],i=0,r=a.length;r>i;i++)t=a[i],e.addEventListener(t,function(){return s.progress=100});else o=e.onreadystatechange,e.onreadystatechange=function(){var t;return 0===(t=e.readyState)||4===t?s.progress=100:3===e.readyState&&(s.progress=50),"function"==typeof o?o.apply(null,arguments):void 0}}return e}(),d=function(){function e(e){var t,n,i,r,o=this;for(this.progress=0,r=["error","open"],n=0,i=r.length;i>n;n++)t=r[n],e.addEventListener(t,function(){return o.progress=100})}return e}(),i=function(){function e(e){var t,n,i,o;for(null==e&&(e={}),this.elements=[],null==e.selectors&&(e.selectors=[]),o=e.selectors,n=0,i=o.length;i>n;n++)t=o[n],this.elements.push(new r(t))}return e}(),r=function(){function e(e){this.selector=e,this.progress=0,this.check()}return e.prototype.check=function(){var e=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return e.check()},N.elements.checkInterval)},e.prototype.done=function(){return this.progress=100},e}(),n=function(){function e(){var e,t,n=this;this.progress=null!=(t=this.states[document.readyState])?t:100,e=document.onreadystatechange,document.onreadystatechange=function(){return null!=n.states[document.readyState]&&(n.progress=n.states[document.readyState]),"function"==typeof e?e.apply(null,arguments):void 0}}return e.prototype.states={loading:0,interactive:50,complete:100},e}(),o=function(){function e(){var e,t,n,i,r,o=this;this.progress=0,e=0,r=[],i=0,n=S(),t=setInterval(function(){var a;return a=S()-n-50,n=S(),r.push(a),r.length>N.eventLag.sampleCount&&r.shift(),e=p(r),++i>=N.eventLag.minSamples&&e<N.eventLag.lagThreshold?(o.progress=100,clearInterval(t)):o.progress=100*(3/(e+3))},50)}return e}(),u=function(){function e(e){this.source=e,this.last=this.sinceLastUpdate=0,this.rate=N.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=M(this.source,"progress"))}return e.prototype.tick=function(e,t){var n;return null==t&&(t=M(this.source,"progress")),t>=100&&(this.done=!0),t===this.last?this.sinceLastUpdate+=e:(this.sinceLastUpdate&&(this.rate=(t-this.last)/this.sinceLastUpdate),this.catchup=(t-this.progress)/N.catchupTime,this.sinceLastUpdate=0,this.last=t),t>this.progress&&(this.progress+=this.catchup*e),n=1-Math.pow(this.progress/100,N.easeFactor),this.progress+=n*this.rate*e,this.progress=Math.min(this.lastProgress+N.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},e}(),P=null,R=null,m=null,B=null,h=null,g=null,Pace.running=!1,k=function(){return N.restartOnPushState?Pace.restart():void 0},null!=window.history.pushState&&(H=window.history.pushState,window.history.pushState=function(){return k(),H.apply(window.history,arguments)}),null!=window.history.replaceState&&(W=window.history.replaceState,window.history.replaceState=function(){return k(),W.apply(window.history,arguments)}),c={ajax:e,elements:i,document:n,eventLag:o},(E=function(){var e,n,i,r,o,a,s,l,d;for(Pace.sources=P=[],s=["ajax","elements","document","eventLag"],i=0,o=s.length;o>i;i++)n=s[i],N[n]!==!1&&P.push(new c[n](N[n]));for(d=null!=(l=N.extraSources)?l:[],r=0,a=d.length;a>r;r++)e=d[r],P.push(new e(N));return Pace.bar=m=new t,R=[],B=new u})(),Pace.stop=function(){return Pace.running=!1,m.destroy(),g=!0,null!=h&&("function"==typeof v&&v(h),h=null),E()},Pace.restart=function(){return Pace.stop(),Pace.start()},Pace.go=function(){return Pace.running=!0,m.render(),g=!1,h=A(function(e,t){var n,i,r,o,a,s,l,c,d,f,h,p,v,b,y,x,C,w;for(c=100-m.progress,i=v=0,r=!0,s=b=0,x=P.length;x>b;s=++b)for(h=P[s],f=null!=R[s]?R[s]:R[s]=[],a=null!=(w=h.elements)?w:[h],l=y=0,C=a.length;C>y;l=++y)o=a[l],d=null!=f[l]?f[l]:f[l]=new u(o),r&=d.done,d.done||(i++,v+=d.tick(e));return n=v/i,m.update(B.tick(e,n)),p=S(),m.done()||r||g?(m.update(100),setTimeout(function(){return m.finish(),Pace.running=!1},Math.max(N.ghostTime,Math.min(N.minTime,S()-p)))):t()})},Pace.start=function(e){y(N,e),Pace.running=!0;try{m.render()}catch(t){s=t}return document.querySelector(".pace")?Pace.go():setTimeout(Pace.start,50)},"function"==typeof define&&define.amd?define(function(){return Pace}):"object"==typeof exports?module.exports=Pace:N.startOnPageLoad&&Pace.start()}).call(this),function(e){jQuery.fn.extend({slimScroll:function(n){var i=e.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},n);return this.each(function(){function r(t){if(u){t=t||window.event;var n=0;t.wheelDelta&&(n=-t.wheelDelta/120),t.detail&&(n=t.detail/3),e(t.target||t.srcTarget||t.srcElement).closest("."+i.wrapperClass).is(x.parent())&&o(n,!0),t.preventDefault&&!y&&t.preventDefault(),y||(t.returnValue=!1)}}function o(e,t,n){y=!1;var r=e,o=x.outerHeight()-w.outerHeight();t&&(r=parseInt(w.css("top"))+e*parseInt(i.wheelStep)/100*w.outerHeight(),r=Math.min(Math.max(r,0),o),r=e>0?Math.ceil(r):Math.floor(r),w.css({top:r+"px"})),g=parseInt(w.css("top"))/(x.outerHeight()-w.outerHeight()),r=g*(x[0].scrollHeight-x.outerHeight()),n&&(r=e,e=r/x[0].scrollHeight*x.outerHeight(),e=Math.min(Math.max(e,0),o),w.css({top:e+"px"})),x.scrollTop(r),x.trigger("slimscrolling",~~r),l(),c()}function a(){window.addEventListener?(this.addEventListener("DOMMouseScroll",r,!1),this.addEventListener("mousewheel",r,!1),this.addEventListener("MozMousePixelScroll",null,!1)):document.attachEvent("onmousewheel",r)}function s(){m=Math.max(x.outerHeight()/x[0].scrollHeight*x.outerHeight(),b),w.css({height:m+"px"});var e=m==x.outerHeight()?"none":"block";w.css({display:e})}function l(){s(),clearTimeout(h),g==~~g?(y=i.allowPageScroll,v!=g&&x.trigger("slimscroll",0==~~g?"top":"bottom")):y=!1,v=g,m>=x.outerHeight()?y=!0:(w.stop(!0,!0).fadeIn("fast"),i.railVisible&&k.stop(!0,!0).fadeIn("fast"))}function c(){i.alwaysVisible||(h=setTimeout(function(){i.disableFadeOut&&u||d||f||(w.fadeOut("slow"),k.fadeOut("slow"))},1e3))}var u,d,f,h,p,m,g,v,b=30,y=!1,x=e(this);if(x.parent().hasClass(i.wrapperClass)){var C=x.scrollTop(),w=x.parent().find("."+i.barClass),k=x.parent().find("."+i.railClass);if(s(),e.isPlainObject(n)){if("height"in n&&"auto"==n.height){x.parent().css("height","auto"),x.css("height","auto");var _=x.parent().parent().height();x.parent().css("height",_),x.css("height",_)}if("scrollTo"in n)C=parseInt(i.scrollTo);else if("scrollBy"in n)C+=parseInt(i.scrollBy);else if("destroy"in n)return w.remove(),k.remove(),void x.unwrap();o(C,!1,!0)}}else{i.height="auto"==i.height?x.parent().height():i.height,C=e("<div></div>").addClass(i.wrapperClass).css({position:"relative",overflow:"hidden",width:i.width,height:i.height}),x.css({overflow:"hidden",width:i.width,height:i.height});var k=e("<div></div>").addClass(i.railClass).css({width:i.size,height:"100%",position:"absolute",top:0,display:i.alwaysVisible&&i.railVisible?"block":"none","border-radius":i.railBorderRadius,background:i.railColor,opacity:i.railOpacity,zIndex:90}),w=e("<div></div>").addClass(i.barClass).css({background:i.color,width:i.size,position:"absolute",top:0,opacity:i.opacity,display:i.alwaysVisible?"block":"none","border-radius":i.borderRadius,BorderRadius:i.borderRadius,MozBorderRadius:i.borderRadius,WebkitBorderRadius:i.borderRadius,zIndex:99}),_="right"==i.position?{right:i.distance}:{left:i.distance};k.css(_),w.css(_),x.wrap(C),x.parent().append(w),x.parent().append(k),i.railDraggable&&w.bind("mousedown",function(n){var i=e(document);return f=!0,t=parseFloat(w.css("top")),pageY=n.pageY,i.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,w.css("top",currTop),o(0,w.position().top,!1)}),i.bind("mouseup.slimscroll",function(){f=!1,c(),i.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(e){return e.stopPropagation(),e.preventDefault(),!1}),k.hover(function(){l()},function(){c()}),w.hover(function(){d=!0},function(){d=!1}),x.hover(function(){u=!0,l(),c()},function(){u=!1,c()}),x.bind("touchstart",function(e){e.originalEvent.touches.length&&(p=e.originalEvent.touches[0].pageY)}),x.bind("touchmove",function(e){y||e.originalEvent.preventDefault(),e.originalEvent.touches.length&&(o((p-e.originalEvent.touches[0].pageY)/i.touchScrollStep,!0),p=e.originalEvent.touches[0].pageY)}),s(),"bottom"===i.start?(w.css({top:x.outerHeight()-w.outerHeight()}),o(0,!0)):"top"!==i.start&&(o(e(i.start).position().top,null,!0),i.alwaysVisible||w.hide()),a()}}),this}}),jQuery.fn.extend({slimscroll:jQuery.fn.slimScroll})}(jQuery),function(e){jQuery.fn.extend({slimScrollHorizontal:function(t){var n={wheelStep:20,height:"auto",width:"250px",size:"7px",color:"#000",position:"bottom",distance:"1px",start:"left",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:"0.2",railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,scroll:0,touchScrollStep:200},i=e.extend(n,t);return this.each(function(){function t(e,t,n){var a=e;if("auto"==x.css("left")&&x.css("left","0px"),t){a=parseInt(x.css("left"))+e*parseInt(i.wheelStep)/100*x.outerWidth();var s=v.outerWidth()-x.outerWidth();a=Math.min(Math.max(a,0),s),x.css({left:a+"px"})}if(f=parseInt(x.css("left"))/(v.outerWidth()-x.outerWidth()),a=f*(v[0].scrollWidth-v.outerWidth()),n){a=e;var l=a/v[0].scrollWidth*v.outerWidth();x.css({left:l+"px"})}v.scrollLeft(a),r(),o()}function n(){d=Math.max(v.outerWidth()/v[0].scrollWidth*v.outerWidth(),m),x.css({width:d+"px"})}function r(){if(n(),clearTimeout(c),f==~~f&&(g=i.allowPageScroll,h!=f)){var e=0==~~f?"left":"right";v.trigger("slimscroll",e)}return h=f,d>=v.outerWidth()?void(g=!0):(x.stop(!0,!0).fadeIn("fast"),void(i.railVisible&&y.stop(!0,!0).fadeIn("fast")))}function o(){i.alwaysVisible||(c=setTimeout(function(){i.disableFadeOut&&a||s||l||(x.fadeOut("slow"),y.fadeOut("slow"))},1e3))}var a,s,l,c,u,d,f,h,p="<div></div>",m=30,g=!1,v=e(this);if(v.parent().hasClass("slimScrollDiv"))return void(scroll&&(x=v.parent().find(".slimScrollBar"),y=v.parent().find(".slimScrollRail"),t(v.scrollLeft()+parseInt(scroll),!1,!0)));var b=e(p).addClass(i.wrapperClass).css({position:"relative",overflow:"hidden",width:i.width,height:i.height});v.css({overflow:"hidden",width:i.width,height:i.height});var y=e(p).addClass(i.railClass).css({width:"100%",height:i.size,position:"absolute",bottom:0,display:i.alwaysVisible&&i.railVisible?"block":"none","border-radius":i.size,background:i.railColor,opacity:i.railOpacity,zIndex:90}),x=e(p).addClass(i.barClass).css({background:i.color,height:i.size,position:"absolute",bottom:0,opacity:i.opacity,display:i.alwaysVisible?"block":"none","border-radius":i.size,BorderRadius:i.size,MozBorderRadius:i.size,WebkitBorderRadius:i.size,zIndex:99}),C="top"==i.position?{top:i.distance}:{bottom:i.distance};y.css(C),x.css(C),v.wrap(b),v.parent().append(x),v.parent().append(y),x.draggable({axis:"x",containment:"parent",start:function(){l=!0},stop:function(){l=!1,o()},drag:function(){t(0,e(this).position().left,!1)}}),y.hover(function(){r()},function(){o()}),x.hover(function(){s=!0},function(){s=!1}),v.hover(function(){a=!0,r(),o()},function(){a=!1,o()}),v.bind("touchstart",function(e){e.originalEvent.touches.length&&(u=e.originalEvent.touches[0].pageX)}),v.bind("touchmove",function(e){if(e.originalEvent.preventDefault(),e.originalEvent.touches.length){var n=(u-e.originalEvent.touches[0].pageX)/i.touchScrollStep;t(n,!0)}});var w=function(e){if(a){var e=e||window.event,n=0;e.wheelDelta&&(n=-e.wheelDelta/120),e.detail&&(n=e.detail/3),t(n,!0),e.preventDefault&&!g&&e.preventDefault(),g||(e.returnValue=!1)}},k=function(){window.addEventListener?(this.addEventListener("DOMMouseScroll",w,!1),this.addEventListener("mousewheel",w,!1)):document.attachEvent("onmousewheel",w)};k(),n(),"right"==i.start?(x.css({left:v.outerWidth()-x.outerWidth()}),t(0,!0)):"object"==typeof i.start&&(t(e(i.start).position().left,null,!0),i.alwaysVisible||x.hide())}),this}}),jQuery.fn.extend({slimscrollHorizontal:jQuery.fn.slimScrollHorizontal})}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(window.jQuery||window.$)}(function(e){var t,n={className:"autosizejs",append:"",callback:!1,resizeDelay:10},i='<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>',r=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],o=e(i).data("autosize",!0)[0];o.style.lineHeight="99px","99px"===e(o).css("lineHeight")&&r.push("lineHeight"),o.style.lineHeight="",e.fn.autosize=function(i){return this.length?(i=e.extend({},n,i||{}),o.parentNode!==document.body&&e(document.body).append(o),this.each(function(){function n(){var t,n;"getComputedStyle"in window?(t=window.getComputedStyle(f),n=f.getBoundingClientRect().width,e.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(e,i){n-=parseInt(t[i],10)}),o.style.width=n+"px"):o.style.width=Math.max(h.width(),0)+"px"}function a(){var a={};if(t=f,o.className=i.className,c=parseInt(h.css("maxHeight"),10),e.each(r,function(e,t){a[t]=h.css(t)}),e(o).css(a),n(),window.chrome){var s=f.style.width;f.style.width="0px";{f.offsetWidth}f.style.width=s}}function s(){var e,r;t!==f?a():n(),o.value=f.value+i.append,o.style.overflowY=f.style.overflowY,r=parseInt(f.style.height,10),o.scrollTop=0,o.scrollTop=9e4,e=o.scrollTop,c&&e>c?(f.style.overflowY="scroll",e=c):(f.style.overflowY="hidden",u>e&&(e=u)),e+=p,r!==e&&(f.style.height=e+"px",m&&i.callback.call(f,f))}function l(){clearTimeout(d),d=setTimeout(function(){var e=h.width();e!==v&&(v=e,s())},parseInt(i.resizeDelay,10))}var c,u,d,f=this,h=e(f),p=0,m=e.isFunction(i.callback),g={height:f.style.height,overflow:f.style.overflow,overflowY:f.style.overflowY,wordWrap:f.style.wordWrap,resize:f.style.resize},v=h.width();h.data("autosize")||(h.data("autosize",!0),("border-box"===h.css("box-sizing")||"border-box"===h.css("-moz-box-sizing")||"border-box"===h.css("-webkit-box-sizing"))&&(p=h.outerHeight()-h.height()),u=Math.max(parseInt(h.css("minHeight"),10)-p||0,h.height()),h.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word",resize:"none"===h.css("resize")||"vertical"===h.css("resize")?"none":"horizontal"}),"onpropertychange"in f?"oninput"in f?h.on("input.autosize keyup.autosize",s):h.on("propertychange.autosize",function(){"value"===event.propertyName&&s()}):h.on("input.autosize",s),i.resizeDelay!==!1&&e(window).on("resize.autosize",l),h.on("autosize.resize",s),h.on("autosize.resizeIncludeStyle",function(){t=null,s()}),h.on("autosize.destroy",function(){t=null,clearTimeout(d),e(window).off("resize",l),h.off("autosize").off(".autosize").css(g).removeData("autosize")}),s())})):this}}),function(e,t){"use strict";e.quicksearch={defaults:{delay:100,selector:null,stripeRows:null,loader:null,noResults:"",matchedResultsCount:0,bind:"keyup search input",removeDiacritics:!1,minValLength:0,onBefore:e.noop,onAfter:e.noop,onValTooSmall:e.noop,show:function(){e(this).show()},hide:function(){e(this).hide()},prepareQuery:function(e){return e.toLowerCase().split(" ")},testQuery:function(e,t){for(var n=0;n<e.length;n+=1)if(-1===t.indexOf(e[n]))return!1;return!0}},diacriticsRemovalMap:[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}]},e.fn.quicksearch=function(n,i){this.removeDiacritics=function(t){for(var n=e.quicksearch.diacriticsRemovalMap,i=0;i<n.length;i++)t=t.replace(n[i].letters,n[i].base);return t};var r,o,a,s,l="",c="",u=this,d=e.extend({},e.quicksearch.defaults,i);return d.noResults=d.noResults?e(d.noResults):e(),d.loader=d.loader?e(d.loader):e(),this.go=function(){var e,t=0,n=0,i=0,r=!0,s=0===l.replace(" ","").length;for(d.removeDiacritics&&(l=u.removeDiacritics(l)),e=d.prepareQuery(l),t=0,n=a.length;n>t;t++)e.length>0&&e[0].length<d.minValLength?(d.show.apply(a[t]),r=!1,i++):s||d.testQuery(e,o[t],a[t])?(d.show.apply(a[t]),r=!1,i++):d.hide.apply(a[t]);return r?this.results(!1):(this.results(!0),this.stripe()),this.matchedResultsCount=i,this.loader(!1),d.onAfter.call(this),c=l,this},this.search=function(e){l=e,u.trigger()},this.reset=function(){l="",this.loader(!0),d.onBefore.call(this),t.clearTimeout(r),r=t.setTimeout(function(){u.go()},d.delay)},this.currentMatchedResults=function(){return this.matchedResultsCount},this.stripe=function(){if("object"==typeof d.stripeRows&&null!==d.stripeRows){var t=d.stripeRows.join(" "),n=d.stripeRows.length;s.not(":hidden").each(function(i){e(this).removeClass(t).addClass(d.stripeRows[i%n])})}return this},this.strip_html=function(t){var n=t.replace(new RegExp("<[^<]+\\>","g"),"");return n=e.trim(n.toLowerCase())},this.results=function(e){return d.noResults.length&&d.noResults[e?"hide":"show"](),this},this.loader=function(e){return d.loader.length&&d.loader[e?"show":"hide"](),this},this.cache=function(t){t="undefined"==typeof t?!0:t,s=d.noResults?e(n).not(d.noResults):e(n);var i="string"==typeof d.selector?s.find(d.selector):e(n).not(d.noResults);return o=i.map(function(){var e=u.strip_html(this.innerHTML);return d.removeDiacritics?u.removeDiacritics(e):e}),a=s.map(function(){return this}),l=l||this.val()||"",t&&this.go(),this},this.trigger=function(){return l.length<d.minValLength&&l.length>c.length||l.length<d.minValLength-1&&l.length<c.length?(d.onValTooSmall.call(this,l),u.go()):(this.loader(!0),d.onBefore.call(this),t.clearTimeout(r),r=t.setTimeout(function(){u.go()},d.delay)),this},this.cache(),this.results(!0),this.stripe(),this.loader(!1),this.each(function(){e(this).on(d.bind,function(){l=e(this).val(),u.trigger()}),e(this).on(d.resetBind,function(){l="",u.reset()})})}}(jQuery,this,document),function(e){e.color={},e.color.make=function(t,n,i,r){var o={};return o.r=t||0,o.g=n||0,o.b=i||0,o.a=null!=r?r:1,o.add=function(e,t){for(var n=0;n<e.length;++n)o[e.charAt(n)]+=t;return o.normalize()},o.scale=function(e,t){for(var n=0;n<e.length;++n)o[e.charAt(n)]*=t;return o.normalize()},o.toString=function(){return o.a>=1?"rgb("+[o.r,o.g,o.b].join(",")+")":"rgba("+[o.r,o.g,o.b,o.a].join(",")+")"},o.normalize=function(){function e(e,t,n){return e>t?e:t>n?n:t}return o.r=e(0,parseInt(o.r),255),o.g=e(0,parseInt(o.g),255),o.b=e(0,parseInt(o.b),255),o.a=e(0,o.a,1),o},o.clone=function(){return e.color.make(o.r,o.b,o.g,o.a)},o.normalize()},e.color.extract=function(t,n){var i;do{if(i=t.css(n).toLowerCase(),""!=i&&"transparent"!=i)break;
t=t.parent()}while(!e.nodeName(t.get(0),"body"));return"rgba(0, 0, 0, 0)"==i&&(i="transparent"),e.color.parse(i)},e.color.parse=function(n){var i,r=e.color.make;if(i=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(n))return r(parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10));if(i=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n))return r(parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10),parseFloat(i[4]));if(i=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(n))return r(2.55*parseFloat(i[1]),2.55*parseFloat(i[2]),2.55*parseFloat(i[3]));if(i=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n))return r(2.55*parseFloat(i[1]),2.55*parseFloat(i[2]),2.55*parseFloat(i[3]),parseFloat(i[4]));if(i=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(n))return r(parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16));if(i=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(n))return r(parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16));var o=e.trim(n).toLowerCase();return"transparent"==o?r(255,255,255,0):(i=t[o]||[0,0,0],r(i[0],i[1],i[2]))};var t={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(e){function t(t,n){var i=n.children("."+t)[0];if(null==i&&(i=document.createElement("canvas"),i.className=t,e(i).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(n),!i.getContext)){if(!window.G_vmlCanvasManager)throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");i=window.G_vmlCanvasManager.initElement(i)}this.element=i;var r=this.context=i.getContext("2d"),o=window.devicePixelRatio||1,a=r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1;this.pixelRatio=o/a,this.resize(n.width(),n.height()),this.textContainer=null,this.text={},this._textCache={}}function n(n,r,o,a){function s(e,t){t=[gt].concat(t);for(var n=0;n<e.length;++n)e[n].apply(this,t)}function l(){for(var n={Canvas:t},i=0;i<a.length;++i){var r=a[i];r.init(gt,n),r.options&&e.extend(!0,rt,r.options)}}function c(t){e.extend(!0,rt,t),t&&t.colors&&(rt.colors=t.colors),null==rt.xaxis.color&&(rt.xaxis.color=e.color.parse(rt.grid.color).scale("a",.22).toString()),null==rt.yaxis.color&&(rt.yaxis.color=e.color.parse(rt.grid.color).scale("a",.22).toString()),null==rt.xaxis.tickColor&&(rt.xaxis.tickColor=rt.grid.tickColor||rt.xaxis.color),null==rt.yaxis.tickColor&&(rt.yaxis.tickColor=rt.grid.tickColor||rt.yaxis.color),null==rt.grid.borderColor&&(rt.grid.borderColor=rt.grid.color),null==rt.grid.tickColor&&(rt.grid.tickColor=e.color.parse(rt.grid.color).scale("a",.22).toString());var i,r,o,a={style:n.css("font-style"),size:Math.round(.8*(+n.css("font-size").replace("px","")||13)),variant:n.css("font-variant"),weight:n.css("font-weight"),family:n.css("font-family")};for(a.lineHeight=1.15*a.size,o=rt.xaxes.length||1,i=0;o>i;++i)r=rt.xaxes[i],r&&!r.tickColor&&(r.tickColor=r.color),r=e.extend(!0,{},rt.xaxis,r),rt.xaxes[i]=r,r.font&&(r.font=e.extend({},a,r.font),r.font.color||(r.font.color=r.color));for(o=rt.yaxes.length||1,i=0;o>i;++i)r=rt.yaxes[i],r&&!r.tickColor&&(r.tickColor=r.color),r=e.extend(!0,{},rt.yaxis,r),rt.yaxes[i]=r,r.font&&(r.font=e.extend({},a,r.font),r.font.color||(r.font.color=r.color));for(rt.xaxis.noTicks&&null==rt.xaxis.ticks&&(rt.xaxis.ticks=rt.xaxis.noTicks),rt.yaxis.noTicks&&null==rt.yaxis.ticks&&(rt.yaxis.ticks=rt.yaxis.noTicks),rt.x2axis&&(rt.xaxes[1]=e.extend(!0,{},rt.xaxis,rt.x2axis),rt.xaxes[1].position="top"),rt.y2axis&&(rt.yaxes[1]=e.extend(!0,{},rt.yaxis,rt.y2axis),rt.yaxes[1].position="right"),rt.grid.coloredAreas&&(rt.grid.markings=rt.grid.coloredAreas),rt.grid.coloredAreasColor&&(rt.grid.markingsColor=rt.grid.coloredAreasColor),rt.lines&&e.extend(!0,rt.series.lines,rt.lines),rt.points&&e.extend(!0,rt.series.points,rt.points),rt.bars&&e.extend(!0,rt.series.bars,rt.bars),null!=rt.shadowSize&&(rt.series.shadowSize=rt.shadowSize),null!=rt.highlightColor&&(rt.series.highlightColor=rt.highlightColor),i=0;i<rt.xaxes.length;++i)g(ut,i+1).options=rt.xaxes[i];for(i=0;i<rt.yaxes.length;++i)g(dt,i+1).options=rt.yaxes[i];for(var l in mt)rt.hooks[l]&&rt.hooks[l].length&&(mt[l]=mt[l].concat(rt.hooks[l]));s(mt.processOptions,[rt])}function u(e){it=d(e),v(),b()}function d(t){for(var n=[],i=0;i<t.length;++i){var r=e.extend(!0,{},rt.series);null!=t[i].data?(r.data=t[i].data,delete t[i].data,e.extend(!0,r,t[i]),t[i].data=r.data):r.data=t[i],n.push(r)}return n}function f(e,t){var n=e[t+"axis"];return"object"==typeof n&&(n=n.n),"number"!=typeof n&&(n=1),n}function h(){return e.grep(ut.concat(dt),function(e){return e})}function p(e){var t,n,i={};for(t=0;t<ut.length;++t)n=ut[t],n&&n.used&&(i["x"+n.n]=n.c2p(e.left));for(t=0;t<dt.length;++t)n=dt[t],n&&n.used&&(i["y"+n.n]=n.c2p(e.top));return void 0!==i.x1&&(i.x=i.x1),void 0!==i.y1&&(i.y=i.y1),i}function m(e){var t,n,i,r={};for(t=0;t<ut.length;++t)if(n=ut[t],n&&n.used&&(i="x"+n.n,null==e[i]&&1==n.n&&(i="x"),null!=e[i])){r.left=n.p2c(e[i]);break}for(t=0;t<dt.length;++t)if(n=dt[t],n&&n.used&&(i="y"+n.n,null==e[i]&&1==n.n&&(i="y"),null!=e[i])){r.top=n.p2c(e[i]);break}return r}function g(t,n){return t[n-1]||(t[n-1]={n:n,direction:t==ut?"x":"y",options:e.extend(!0,{},t==ut?rt.xaxis:rt.yaxis)}),t[n-1]}function v(){var t,n=it.length,i=-1;for(t=0;t<it.length;++t){var r=it[t].color;null!=r&&(n--,"number"==typeof r&&r>i&&(i=r))}i>=n&&(n=i+1);var o,a=[],s=rt.colors,l=s.length,c=0;for(t=0;n>t;t++)o=e.color.parse(s[t%l]||"#666"),t%l==0&&t&&(c=c>=0?.5>c?-c-.2:0:-c),a[t]=o.scale("rgb",1+c);var u,d=0;for(t=0;t<it.length;++t){if(u=it[t],null==u.color?(u.color=a[d].toString(),++d):"number"==typeof u.color&&(u.color=a[u.color].toString()),null==u.lines.show){var h,p=!0;for(h in u)if(u[h]&&u[h].show){p=!1;break}p&&(u.lines.show=!0)}null==u.lines.zero&&(u.lines.zero=!!u.lines.fill),u.xaxis=g(ut,f(u,"x")),u.yaxis=g(dt,f(u,"y"))}}function b(){function t(e,t,n){t<e.datamin&&t!=-b&&(e.datamin=t),n>e.datamax&&n!=b&&(e.datamax=n)}var n,i,r,o,a,l,c,u,d,f,p,m,g=Number.POSITIVE_INFINITY,v=Number.NEGATIVE_INFINITY,b=Number.MAX_VALUE;for(e.each(h(),function(e,t){t.datamin=g,t.datamax=v,t.used=!1}),n=0;n<it.length;++n)a=it[n],a.datapoints={points:[]},s(mt.processRawData,[a,a.data,a.datapoints]);for(n=0;n<it.length;++n){if(a=it[n],p=a.data,m=a.datapoints.format,!m){if(m=[],m.push({x:!0,number:!0,required:!0}),m.push({y:!0,number:!0,required:!0}),a.bars.show||a.lines.show&&a.lines.fill){var y=!!(a.bars.show&&a.bars.zero||a.lines.show&&a.lines.zero);m.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:y}),a.bars.horizontal&&(delete m[m.length-1].y,m[m.length-1].x=!0)}a.datapoints.format=m}if(null==a.datapoints.pointsize){a.datapoints.pointsize=m.length,c=a.datapoints.pointsize,l=a.datapoints.points;var x=a.lines.show&&a.lines.steps;for(a.xaxis.used=a.yaxis.used=!0,i=r=0;i<p.length;++i,r+=c){f=p[i];var C=null==f;if(!C)for(o=0;c>o;++o)u=f[o],d=m[o],d&&(d.number&&null!=u&&(u=+u,isNaN(u)?u=null:1/0==u?u=b:u==-1/0&&(u=-b)),null==u&&(d.required&&(C=!0),null!=d.defaultValue&&(u=d.defaultValue))),l[r+o]=u;if(C)for(o=0;c>o;++o)u=l[r+o],null!=u&&(d=m[o],d.autoscale!==!1&&(d.x&&t(a.xaxis,u,u),d.y&&t(a.yaxis,u,u))),l[r+o]=null;else if(x&&r>0&&null!=l[r-c]&&l[r-c]!=l[r]&&l[r-c+1]!=l[r+1]){for(o=0;c>o;++o)l[r+c+o]=l[r+o];l[r+1]=l[r-c+1],r+=c}}}}for(n=0;n<it.length;++n)a=it[n],s(mt.processDatapoints,[a,a.datapoints]);for(n=0;n<it.length;++n){a=it[n],l=a.datapoints.points,c=a.datapoints.pointsize,m=a.datapoints.format;var w=g,k=g,_=v,E=v;for(i=0;i<l.length;i+=c)if(null!=l[i])for(o=0;c>o;++o)u=l[i+o],d=m[o],d&&d.autoscale!==!1&&u!=b&&u!=-b&&(d.x&&(w>u&&(w=u),u>_&&(_=u)),d.y&&(k>u&&(k=u),u>E&&(E=u)));if(a.bars.show){var S;switch(a.bars.align){case"left":S=0;break;case"right":S=-a.bars.barWidth;break;default:S=-a.bars.barWidth/2}a.bars.horizontal?(k+=S,E+=S+a.bars.barWidth):(w+=S,_+=S+a.bars.barWidth)}t(a.xaxis,w,_),t(a.yaxis,k,E)}e.each(h(),function(e,t){t.datamin==g&&(t.datamin=null),t.datamax==v&&(t.datamax=null)})}function y(){n.css("padding",0).children(":not(.flot-base,.flot-overlay)").remove(),"static"==n.css("position")&&n.css("position","relative"),ot=new t("flot-base",n),at=new t("flot-overlay",n),lt=ot.context,ct=at.context,st=e(at.element).unbind();var i=n.data("plot");i&&(i.shutdown(),at.clear()),n.data("plot",gt)}function x(){rt.grid.hoverable&&(st.mousemove(U),st.bind("mouseleave",V)),rt.grid.clickable&&st.click(Y),s(mt.bindEvents,[st])}function C(){bt&&clearTimeout(bt),st.unbind("mousemove",U),st.unbind("mouseleave",V),st.unbind("click",Y),s(mt.shutdown,[st])}function w(e){function t(e){return e}var n,i,r=e.options.transform||t,o=e.options.inverseTransform;"x"==e.direction?(n=e.scale=ht/Math.abs(r(e.max)-r(e.min)),i=Math.min(r(e.max),r(e.min))):(n=e.scale=pt/Math.abs(r(e.max)-r(e.min)),n=-n,i=Math.max(r(e.max),r(e.min))),e.p2c=r==t?function(e){return(e-i)*n}:function(e){return(r(e)-i)*n},e.c2p=o?function(e){return o(i+e/n)}:function(e){return i+e/n}}function k(e){for(var t=e.options,n=e.ticks||[],i=t.labelWidth||0,r=t.labelHeight||0,o=i||"x"==e.direction?Math.floor(ot.width/(n.length||1)):null,a=e.direction+"Axis "+e.direction+e.n+"Axis",s="flot-"+e.direction+"-axis flot-"+e.direction+e.n+"-axis "+a,l=t.font||"flot-tick-label tickLabel",c=0;c<n.length;++c){var u=n[c];if(u.label){var d=ot.getTextInfo(s,u.label,l,null,o);i=Math.max(i,d.width),r=Math.max(r,d.height)}}e.labelWidth=t.labelWidth||i,e.labelHeight=t.labelHeight||r}function _(t){var n,i=t.labelWidth,r=t.labelHeight,o=t.options.position,a=t.options.tickLength,s=rt.grid.axisMargin,l=rt.grid.labelMargin,c="x"==t.direction?ut:dt,u=e.grep(c,function(e){return e&&e.options.position==o&&e.reserveSpace});e.inArray(t,u)==u.length-1&&(s=0),n=0==e.inArray(t,u),null==a&&(a=n?"full":5),isNaN(+a)||(l+=+a),"x"==t.direction?(r+=l,"bottom"==o?(ft.bottom+=r+s,t.box={top:ot.height-ft.bottom,height:r}):(t.box={top:ft.top+s,height:r},ft.top+=r+s)):(i+=l,"left"==o?(t.box={left:ft.left+s,width:i},ft.left+=i+s):(ft.right+=i+s,t.box={left:ot.width-ft.right,width:i})),t.position=o,t.tickLength=a,t.box.padding=l,t.innermost=n}function E(e){"x"==e.direction?(e.box.left=ft.left-e.labelWidth/2,e.box.width=ot.width-ft.left-ft.right+e.labelWidth):(e.box.top=ft.top-e.labelHeight/2,e.box.height=ot.height-ft.bottom-ft.top+e.labelHeight)}function S(){var t,n=rt.grid.minBorderMargin,i={x:0,y:0};if(null==n)for(n=0,t=0;t<it.length;++t)n=Math.max(n,2*(it[t].points.radius+it[t].points.lineWidth/2));i.x=i.y=Math.ceil(n),e.each(h(),function(e,t){var n=t.direction;t.reserveSpace&&(i[n]=Math.ceil(Math.max(i[n],("x"==n?t.labelWidth:t.labelHeight)/2)))}),ft.left=Math.max(i.x,ft.left),ft.right=Math.max(i.x,ft.right),ft.top=Math.max(i.y,ft.top),ft.bottom=Math.max(i.y,ft.bottom)}function N(){var t,n=h(),i=rt.grid.show;for(var r in ft){var o=rt.grid.margin||0;ft[r]="number"==typeof o?o:o[r]||0}s(mt.processOffset,[ft]);for(var r in ft)ft[r]+="object"==typeof rt.grid.borderWidth?i?rt.grid.borderWidth[r]:0:i?rt.grid.borderWidth:0;if(e.each(n,function(e,t){t.show=t.options.show,null==t.show&&(t.show=t.used),t.reserveSpace=t.show||t.options.reserveSpace,T(t)}),i){var a=e.grep(n,function(e){return e.reserveSpace});for(e.each(a,function(e,t){M(t),A(t),R(t,t.ticks),k(t)}),t=a.length-1;t>=0;--t)_(a[t]);S(),e.each(a,function(e,t){E(t)})}ht=ot.width-ft.left-ft.right,pt=ot.height-ft.bottom-ft.top,e.each(n,function(e,t){w(t)}),i&&L(),q()}function T(e){var t=e.options,n=+(null!=t.min?t.min:e.datamin),i=+(null!=t.max?t.max:e.datamax),r=i-n;if(0==r){var o=0==i?1:.01;null==t.min&&(n-=o),(null==t.max||null!=t.min)&&(i+=o)}else{var a=t.autoscaleMargin;null!=a&&(null==t.min&&(n-=r*a,0>n&&null!=e.datamin&&e.datamin>=0&&(n=0)),null==t.max&&(i+=r*a,i>0&&null!=e.datamax&&e.datamax<=0&&(i=0)))}e.min=n,e.max=i}function M(t){var n,r=t.options;n="number"==typeof r.ticks&&r.ticks>0?r.ticks:.3*Math.sqrt("x"==t.direction?ot.width:ot.height);var o=(t.max-t.min)/n,a=-Math.floor(Math.log(o)/Math.LN10),s=r.tickDecimals;null!=s&&a>s&&(a=s);var l,c=Math.pow(10,-a),u=o/c;if(1.5>u?l=1:3>u?(l=2,u>2.25&&(null==s||s>=a+1)&&(l=2.5,++a)):l=7.5>u?5:10,l*=c,null!=r.minTickSize&&l<r.minTickSize&&(l=r.minTickSize),t.delta=o,t.tickDecimals=Math.max(0,null!=s?s:a),t.tickSize=r.tickSize||l,"time"==r.mode&&!t.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(t.tickGenerator||(t.tickGenerator=function(e){var t,n=[],r=i(e.min,e.tickSize),o=0,a=Number.NaN;do t=a,a=r+o*e.tickSize,n.push(a),++o;while(a<e.max&&a!=t);return n},t.tickFormatter=function(e,t){var n=t.tickDecimals?Math.pow(10,t.tickDecimals):1,i=""+Math.round(e*n)/n;if(null!=t.tickDecimals){var r=i.indexOf("."),o=-1==r?0:i.length-r-1;if(o<t.tickDecimals)return(o?i:i+".")+(""+n).substr(1,t.tickDecimals-o)}return i}),e.isFunction(r.tickFormatter)&&(t.tickFormatter=function(e,t){return""+r.tickFormatter(e,t)}),null!=r.alignTicksWithAxis){var d=("x"==t.direction?ut:dt)[r.alignTicksWithAxis-1];if(d&&d.used&&d!=t){var f=t.tickGenerator(t);if(f.length>0&&(null==r.min&&(t.min=Math.min(t.min,f[0])),null==r.max&&f.length>1&&(t.max=Math.max(t.max,f[f.length-1]))),t.tickGenerator=function(e){var t,n,i=[];for(n=0;n<d.ticks.length;++n)t=(d.ticks[n].v-d.min)/(d.max-d.min),t=e.min+t*(e.max-e.min),i.push(t);return i},!t.mode&&null==r.tickDecimals){var h=Math.max(0,-Math.floor(Math.log(t.delta)/Math.LN10)+1),p=t.tickGenerator(t);p.length>1&&/\..*0$/.test((p[1]-p[0]).toFixed(h))||(t.tickDecimals=h)}}}}function A(t){var n=t.options.ticks,i=[];null==n||"number"==typeof n&&n>0?i=t.tickGenerator(t):n&&(i=e.isFunction(n)?n(t):n);var r,o;for(t.ticks=[],r=0;r<i.length;++r){var a=null,s=i[r];"object"==typeof s?(o=+s[0],s.length>1&&(a=s[1])):o=+s,null==a&&(a=t.tickFormatter(o,t)),isNaN(o)||t.ticks.push({v:o,label:a})}}function R(e,t){e.options.autoscaleMargin&&t.length>0&&(null==e.options.min&&(e.min=Math.min(e.min,t[0].v)),null==e.options.max&&t.length>1&&(e.max=Math.max(e.max,t[t.length-1].v)))}function D(){ot.clear(),s(mt.drawBackground,[lt]);var e=rt.grid;e.show&&e.backgroundColor&&B(),e.show&&!e.aboveData&&I();for(var t=0;t<it.length;++t)s(mt.drawSeries,[lt,it[t]]),F(it[t]);s(mt.draw,[lt]),e.show&&e.aboveData&&I(),ot.render(),K()}function P(e,t){for(var n,i,r,o,a=h(),s=0;s<a.length;++s)if(n=a[s],n.direction==t&&(o=t+n.n+"axis",e[o]||1!=n.n||(o=t+"axis"),e[o])){i=e[o].from,r=e[o].to;break}if(e[o]||(n="x"==t?ut[0]:dt[0],i=e[t+"1"],r=e[t+"2"]),null!=i&&null!=r&&i>r){var l=i;i=r,r=l}return{from:i,to:r,axis:n}}function B(){lt.save(),lt.translate(ft.left,ft.top),lt.fillStyle=nt(rt.grid.backgroundColor,pt,0,"rgba(255, 255, 255, 0)"),lt.fillRect(0,0,ht,pt),lt.restore()}function I(){var t,n,i,r;lt.save(),lt.translate(ft.left,ft.top);var o=rt.grid.markings;if(o)for(e.isFunction(o)&&(n=gt.getAxes(),n.xmin=n.xaxis.min,n.xmax=n.xaxis.max,n.ymin=n.yaxis.min,n.ymax=n.yaxis.max,o=o(n)),t=0;t<o.length;++t){var a=o[t],s=P(a,"x"),l=P(a,"y");null==s.from&&(s.from=s.axis.min),null==s.to&&(s.to=s.axis.max),null==l.from&&(l.from=l.axis.min),null==l.to&&(l.to=l.axis.max),s.to<s.axis.min||s.from>s.axis.max||l.to<l.axis.min||l.from>l.axis.max||(s.from=Math.max(s.from,s.axis.min),s.to=Math.min(s.to,s.axis.max),l.from=Math.max(l.from,l.axis.min),l.to=Math.min(l.to,l.axis.max),(s.from!=s.to||l.from!=l.to)&&(s.from=s.axis.p2c(s.from),s.to=s.axis.p2c(s.to),l.from=l.axis.p2c(l.from),l.to=l.axis.p2c(l.to),s.from==s.to||l.from==l.to?(lt.beginPath(),lt.strokeStyle=a.color||rt.grid.markingsColor,lt.lineWidth=a.lineWidth||rt.grid.markingsLineWidth,lt.moveTo(s.from,l.from),lt.lineTo(s.to,l.to),lt.stroke()):(lt.fillStyle=a.color||rt.grid.markingsColor,lt.fillRect(s.from,l.to,s.to-s.from,l.from-l.to))))}n=h(),i=rt.grid.borderWidth;for(var c=0;c<n.length;++c){var u,d,f,p,m=n[c],g=m.box,v=m.tickLength;if(m.show&&0!=m.ticks.length){for(lt.lineWidth=1,"x"==m.direction?(u=0,d="full"==v?"top"==m.position?0:pt:g.top-ft.top+("top"==m.position?g.height:0)):(d=0,u="full"==v?"left"==m.position?0:ht:g.left-ft.left+("left"==m.position?g.width:0)),m.innermost||(lt.strokeStyle=m.options.color,lt.beginPath(),f=p=0,"x"==m.direction?f=ht+1:p=pt+1,1==lt.lineWidth&&("x"==m.direction?d=Math.floor(d)+.5:u=Math.floor(u)+.5),lt.moveTo(u,d),lt.lineTo(u+f,d+p),lt.stroke()),lt.strokeStyle=m.options.tickColor,lt.beginPath(),t=0;t<m.ticks.length;++t){var b=m.ticks[t].v;f=p=0,isNaN(b)||b<m.min||b>m.max||"full"==v&&("object"==typeof i&&i[m.position]>0||i>0)&&(b==m.min||b==m.max)||("x"==m.direction?(u=m.p2c(b),p="full"==v?-pt:v,"top"==m.position&&(p=-p)):(d=m.p2c(b),f="full"==v?-ht:v,"left"==m.position&&(f=-f)),1==lt.lineWidth&&("x"==m.direction?u=Math.floor(u)+.5:d=Math.floor(d)+.5),lt.moveTo(u,d),lt.lineTo(u+f,d+p))}lt.stroke()}}i&&(r=rt.grid.borderColor,"object"==typeof i||"object"==typeof r?("object"!=typeof i&&(i={top:i,right:i,bottom:i,left:i}),"object"!=typeof r&&(r={top:r,right:r,bottom:r,left:r}),i.top>0&&(lt.strokeStyle=r.top,lt.lineWidth=i.top,lt.beginPath(),lt.moveTo(0-i.left,0-i.top/2),lt.lineTo(ht,0-i.top/2),lt.stroke()),i.right>0&&(lt.strokeStyle=r.right,lt.lineWidth=i.right,lt.beginPath(),lt.moveTo(ht+i.right/2,0-i.top),lt.lineTo(ht+i.right/2,pt),lt.stroke()),i.bottom>0&&(lt.strokeStyle=r.bottom,lt.lineWidth=i.bottom,lt.beginPath(),lt.moveTo(ht+i.right,pt+i.bottom/2),lt.lineTo(0,pt+i.bottom/2),lt.stroke()),i.left>0&&(lt.strokeStyle=r.left,lt.lineWidth=i.left,lt.beginPath(),lt.moveTo(0-i.left/2,pt+i.bottom),lt.lineTo(0-i.left/2,0),lt.stroke())):(lt.lineWidth=i,lt.strokeStyle=rt.grid.borderColor,lt.strokeRect(-i/2,-i/2,ht+i,pt+i))),lt.restore()}function L(){e.each(h(),function(e,t){var n,i,r,o,a,s=t.box,l=t.direction+"Axis "+t.direction+t.n+"Axis",c="flot-"+t.direction+"-axis flot-"+t.direction+t.n+"-axis "+l,u=t.options.font||"flot-tick-label tickLabel";if(ot.removeText(c),t.show&&0!=t.ticks.length)for(var d=0;d<t.ticks.length;++d)n=t.ticks[d],!n.label||n.v<t.min||n.v>t.max||("x"==t.direction?(o="center",i=ft.left+t.p2c(n.v),"bottom"==t.position?r=s.top+s.padding:(r=s.top+s.height-s.padding,a="bottom")):(a="middle",r=ft.top+t.p2c(n.v),"left"==t.position?(i=s.left+s.width-s.padding,o="right"):i=s.left+s.padding),ot.addText(c,i,r,n.label,u,null,null,o,a))})}function F(e){e.lines.show&&O(e),e.bars.show&&W(e),e.points.show&&H(e)}function O(e){function t(e,t,n,i,r){var o=e.points,a=e.pointsize,s=null,l=null;lt.beginPath();for(var c=a;c<o.length;c+=a){var u=o[c-a],d=o[c-a+1],f=o[c],h=o[c+1];if(null!=u&&null!=f){if(h>=d&&d<r.min){if(h<r.min)continue;u=(r.min-d)/(h-d)*(f-u)+u,d=r.min}else if(d>=h&&h<r.min){if(d<r.min)continue;f=(r.min-d)/(h-d)*(f-u)+u,h=r.min}if(d>=h&&d>r.max){if(h>r.max)continue;u=(r.max-d)/(h-d)*(f-u)+u,d=r.max}else if(h>=d&&h>r.max){if(d>r.max)continue;f=(r.max-d)/(h-d)*(f-u)+u,h=r.max}if(f>=u&&u<i.min){if(f<i.min)continue;d=(i.min-u)/(f-u)*(h-d)+d,u=i.min}else if(u>=f&&f<i.min){if(u<i.min)continue;h=(i.min-u)/(f-u)*(h-d)+d,f=i.min}if(u>=f&&u>i.max){if(f>i.max)continue;d=(i.max-u)/(f-u)*(h-d)+d,u=i.max}else if(f>=u&&f>i.max){if(u>i.max)continue;h=(i.max-u)/(f-u)*(h-d)+d,f=i.max}(u!=s||d!=l)&&lt.moveTo(i.p2c(u)+t,r.p2c(d)+n),s=f,l=h,lt.lineTo(i.p2c(f)+t,r.p2c(h)+n)}}lt.stroke()}function n(e,t,n){for(var i=e.points,r=e.pointsize,o=Math.min(Math.max(0,n.min),n.max),a=0,s=!1,l=1,c=0,u=0;;){if(r>0&&a>i.length+r)break;a+=r;var d=i[a-r],f=i[a-r+l],h=i[a],p=i[a+l];if(s){if(r>0&&null!=d&&null==h){u=a,r=-r,l=2;continue}if(0>r&&a==c+r){lt.fill(),s=!1,r=-r,l=1,a=c=u+r;continue}}if(null!=d&&null!=h){if(h>=d&&d<t.min){if(h<t.min)continue;f=(t.min-d)/(h-d)*(p-f)+f,d=t.min}else if(d>=h&&h<t.min){if(d<t.min)continue;p=(t.min-d)/(h-d)*(p-f)+f,h=t.min}if(d>=h&&d>t.max){if(h>t.max)continue;f=(t.max-d)/(h-d)*(p-f)+f,d=t.max}else if(h>=d&&h>t.max){if(d>t.max)continue;p=(t.max-d)/(h-d)*(p-f)+f,h=t.max}if(s||(lt.beginPath(),lt.moveTo(t.p2c(d),n.p2c(o)),s=!0),f>=n.max&&p>=n.max)lt.lineTo(t.p2c(d),n.p2c(n.max)),lt.lineTo(t.p2c(h),n.p2c(n.max));else if(f<=n.min&&p<=n.min)lt.lineTo(t.p2c(d),n.p2c(n.min)),lt.lineTo(t.p2c(h),n.p2c(n.min));else{var m=d,g=h;p>=f&&f<n.min&&p>=n.min?(d=(n.min-f)/(p-f)*(h-d)+d,f=n.min):f>=p&&p<n.min&&f>=n.min&&(h=(n.min-f)/(p-f)*(h-d)+d,p=n.min),f>=p&&f>n.max&&p<=n.max?(d=(n.max-f)/(p-f)*(h-d)+d,f=n.max):p>=f&&p>n.max&&f<=n.max&&(h=(n.max-f)/(p-f)*(h-d)+d,p=n.max),d!=m&&lt.lineTo(t.p2c(m),n.p2c(f)),lt.lineTo(t.p2c(d),n.p2c(f)),lt.lineTo(t.p2c(h),n.p2c(p)),h!=g&&(lt.lineTo(t.p2c(h),n.p2c(p)),lt.lineTo(t.p2c(g),n.p2c(p)))}}}}lt.save(),lt.translate(ft.left,ft.top),lt.lineJoin="round";var i=e.lines.lineWidth,r=e.shadowSize;if(i>0&&r>0){lt.lineWidth=r,lt.strokeStyle="rgba(0,0,0,0.1)";var o=Math.PI/18;t(e.datapoints,Math.sin(o)*(i/2+r/2),Math.cos(o)*(i/2+r/2),e.xaxis,e.yaxis),lt.lineWidth=r/2,t(e.datapoints,Math.sin(o)*(i/2+r/4),Math.cos(o)*(i/2+r/4),e.xaxis,e.yaxis)}lt.lineWidth=i,lt.strokeStyle=e.color;var a=$(e.lines,e.color,0,pt);a&&(lt.fillStyle=a,n(e.datapoints,e.xaxis,e.yaxis)),i>0&&t(e.datapoints,0,0,e.xaxis,e.yaxis),lt.restore()}function H(e){function t(e,t,n,i,r,o,a,s){for(var l=e.points,c=e.pointsize,u=0;u<l.length;u+=c){var d=l[u],f=l[u+1];null==d||d<o.min||d>o.max||f<a.min||f>a.max||(lt.beginPath(),d=o.p2c(d),f=a.p2c(f)+i,"circle"==s?lt.arc(d,f,t,0,r?Math.PI:2*Math.PI,!1):s(lt,d,f,t,r),lt.closePath(),n&&(lt.fillStyle=n,lt.fill()),lt.stroke())}}lt.save(),lt.translate(ft.left,ft.top);var n=e.points.lineWidth,i=e.shadowSize,r=e.points.radius,o=e.points.symbol;if(0==n&&(n=1e-4),n>0&&i>0){var a=i/2;lt.lineWidth=a,lt.strokeStyle="rgba(0,0,0,0.1)",t(e.datapoints,r,null,a+a/2,!0,e.xaxis,e.yaxis,o),lt.strokeStyle="rgba(0,0,0,0.2)",t(e.datapoints,r,null,a/2,!0,e.xaxis,e.yaxis,o)}lt.lineWidth=n,lt.strokeStyle=e.points.strokeColor?e.points.strokeColor:e.color,t(e.datapoints,r,$(e.points,e.color),0,!1,e.xaxis,e.yaxis,o),lt.restore()}function z(e,t,n,i,r,o,a,s,l,c,u){var d,f,h,p,m,g,v,b,y;c?(b=g=v=!0,m=!1,d=n,f=e,p=t+i,h=t+r,d>f&&(y=f,f=d,d=y,m=!0,g=!1)):(m=g=v=!0,b=!1,d=e+i,f=e+r,h=n,p=t,h>p&&(y=p,p=h,h=y,b=!0,v=!1)),f<a.min||d>a.max||p<s.min||h>s.max||(d<a.min&&(d=a.min,m=!1),f>a.max&&(f=a.max,g=!1),h<s.min&&(h=s.min,b=!1),p>s.max&&(p=s.max,v=!1),d=a.p2c(d),h=s.p2c(h),f=a.p2c(f),p=s.p2c(p),o&&(l.fillStyle=o(h,p),l.fillRect(d,p,f-d,h-p)),u>0&&(m||g||v||b)&&(l.beginPath(),l.moveTo(d,h),m?l.lineTo(d,p):l.moveTo(d,p),v?l.lineTo(f,p):l.moveTo(f,p),g?l.lineTo(f,h):l.moveTo(f,h),b?l.lineTo(d,h):l.moveTo(d,h),l.stroke()))}function W(e){function t(t,n,i,r,o,a){for(var s=t.points,l=t.pointsize,c=0;c<s.length;c+=l)null!=s[c]&&z(s[c],s[c+1],s[c+2],n,i,r,o,a,lt,e.bars.horizontal,e.bars.lineWidth)}lt.save(),lt.translate(ft.left,ft.top),lt.lineWidth=e.bars.lineWidth,lt.strokeStyle=e.color;var n;switch(e.bars.align){case"left":n=0;break;case"right":n=-e.bars.barWidth;break;default:n=-e.bars.barWidth/2}var i=e.bars.fill?function(t,n){return $(e.bars,e.color,t,n)}:null;t(e.datapoints,n,n+e.bars.barWidth,i,e.xaxis,e.yaxis),lt.restore()}function $(t,n,i,r){var o=t.fill;if(!o)return null;if(t.fillColor)return nt(t.fillColor,i,r,n);var a=e.color.parse(n);return a.a="number"==typeof o?o:.4,a.normalize(),a.toString()}function q(){if(n.find(".legend").remove(),rt.legend.show){for(var t,i,r=[],o=[],a=!1,s=rt.legend.labelFormatter,l=0;l<it.length;++l)t=it[l],t.label&&(i=s?s(t.label,t):t.label,i&&o.push({label:i,color:t.color}));if(rt.legend.sorted)if(e.isFunction(rt.legend.sorted))o.sort(rt.legend.sorted);else if("reverse"==rt.legend.sorted)o.reverse();else{var c="descending"!=rt.legend.sorted;o.sort(function(e,t){return e.label==t.label?0:e.label<t.label!=c?1:-1})}for(var l=0;l<o.length;++l){var u=o[l];l%rt.legend.noColumns==0&&(a&&r.push("</tr>"),r.push("<tr>"),a=!0),r.push(rt.legend.hideSquare?'<td class="legendLabel">'+u.label+"</td>":'<td class="legendColorBox"><div style="border:1px solid '+rt.legend.labelBoxBorderColor+';padding: 1px"><div style="width:4px;height:0;border:5px solid '+u.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+u.label+"</td>")}if(a&&r.push("</tr>"),0!=r.length){var d='<table style="font-size:smaller;color:'+rt.grid.color+'">'+r.join("")+"</table>";if(null!=rt.legend.container)e(rt.legend.container).html(d);else{var f="",h=rt.legend.position,p=rt.legend.margin;null==p[0]&&(p=[p,p]),"n"==h.charAt(0)?f+="top:"+(p[1]+ft.top)+"px;":"s"==h.charAt(0)&&(f+="bottom:"+(p[1]+ft.bottom)+"px;"),"e"==h.charAt(1)?f+="right:"+(p[0]+ft.right)+"px;":"w"==h.charAt(1)&&(f+="left:"+(p[0]+ft.left)+"px;");var m=e('<div class="legend">'+d.replace('style="','style="position:absolute;'+f+";")+"</div>").appendTo(n);if(0!=rt.legend.backgroundOpacity){var g=rt.legend.backgroundColor;null==g&&(g=rt.grid.backgroundColor,g=g&&"string"==typeof g?e.color.parse(g):e.color.extract(m,"background-color"),g.a=1,g=g.toString());var v=m.children();e('<div style="position:absolute;width:'+v.width()+"px;height:"+v.height()+"px;"+f+"background-color:"+g+';"> </div>').prependTo(m).css("opacity",rt.legend.backgroundOpacity)}}}}}function j(e,t,n){var i,r,o,a=rt.grid.mouseActiveRadius,s=a*a+1,l=null;for(i=it.length-1;i>=0;--i)if(n(it[i])){var c=it[i],u=c.xaxis,d=c.yaxis,f=c.datapoints.points,h=u.c2p(e),p=d.c2p(t),m=a/u.scale,g=a/d.scale;if(o=c.datapoints.pointsize,u.options.inverseTransform&&(m=Number.MAX_VALUE),d.options.inverseTransform&&(g=Number.MAX_VALUE),c.lines.show||c.points.show)for(r=0;r<f.length;r+=o){var v=f[r],b=f[r+1];if(null!=v&&!(v-h>m||-m>v-h||b-p>g||-g>b-p)){var y=Math.abs(u.p2c(v)-e),x=Math.abs(d.p2c(b)-t),C=y*y+x*x;s>C&&(s=C,l=[i,r/o])}}if(c.bars.show&&!l){var w,k;switch(c.bars.align){case"left":w=0;break;case"right":w=-c.bars.barWidth;break;default:w=-c.bars.barWidth/2}for(k=w+c.bars.barWidth,r=0;r<f.length;r+=o){var v=f[r],b=f[r+1],_=f[r+2];null!=v&&(it[i].bars.horizontal?h<=Math.max(_,v)&&h>=Math.min(_,v)&&p>=b+w&&b+k>=p:h>=v+w&&v+k>=h&&p>=Math.min(_,b)&&p<=Math.max(_,b))&&(l=[i,r/o])}}}return l?(i=l[0],r=l[1],o=it[i].datapoints.pointsize,{datapoint:it[i].datapoints.points.slice(r*o,(r+1)*o),dataIndex:r,series:it[i],seriesIndex:i}):null}function U(e){rt.grid.hoverable&&X("plothover",e,function(e){return 0!=e.hoverable})}function V(e){rt.grid.hoverable&&X("plothover",e,function(){return!1})}function Y(e){X("plotclick",e,function(e){return 0!=e.clickable})}function X(e,t,i){var r=st.offset(),o=t.pageX-r.left-ft.left,a=t.pageY-r.top-ft.top,s=p({left:o,top:a});s.pageX=t.pageX,s.pageY=t.pageY;var l=j(o,a,i);if(l&&(l.pageX=parseInt(l.series.xaxis.p2c(l.datapoint[0])+r.left+ft.left,10),l.pageY=parseInt(l.series.yaxis.p2c(l.datapoint[1])+r.top+ft.top,10)),rt.grid.autoHighlight){for(var c=0;c<vt.length;++c){var u=vt[c];u.auto!=e||l&&u.series==l.series&&u.point[0]==l.datapoint[0]&&u.point[1]==l.datapoint[1]||J(u.series,u.point)}l&&G(l.series,l.datapoint,e)}n.trigger(e,[s,l])}function K(){var e=rt.interaction.redrawOverlayInterval;return-1==e?void Q():void(bt||(bt=setTimeout(Q,e)))}function Q(){bt=null,ct.save(),at.clear(),ct.translate(ft.left,ft.top);var e,t;for(e=0;e<vt.length;++e)t=vt[e],t.series.bars.show?tt(t.series,t.point):et(t.series,t.point);ct.restore(),s(mt.drawOverlay,[ct])}function G(e,t,n){if("number"==typeof e&&(e=it[e]),"number"==typeof t){var i=e.datapoints.pointsize;t=e.datapoints.points.slice(i*t,i*(t+1))}var r=Z(e,t);-1==r?(vt.push({series:e,point:t,auto:n}),K()):n||(vt[r].auto=!1)}function J(e,t){if(null==e&&null==t)return vt=[],void K();if("number"==typeof e&&(e=it[e]),"number"==typeof t){var n=e.datapoints.pointsize;t=e.datapoints.points.slice(n*t,n*(t+1))}var i=Z(e,t);-1!=i&&(vt.splice(i,1),K())}function Z(e,t){for(var n=0;n<vt.length;++n){var i=vt[n];if(i.series==e&&i.point[0]==t[0]&&i.point[1]==t[1])return n}return-1}function et(t,n){var i=n[0],r=n[1],o=t.xaxis,a=t.yaxis,s="string"==typeof t.highlightColor?t.highlightColor:e.color.parse(t.color).scale("a",.5).toString();if(!(i<o.min||i>o.max||r<a.min||r>a.max)){var l=t.points.radius+t.points.lineWidth/2;ct.lineWidth=l,ct.strokeStyle=s;var c=1.5*l;i=o.p2c(i),r=a.p2c(r),ct.beginPath(),"circle"==t.points.symbol?ct.arc(i,r,c,0,2*Math.PI,!1):t.points.symbol(ct,i,r,c,!1),ct.closePath(),ct.stroke()}}function tt(t,n){var i,r="string"==typeof t.highlightColor?t.highlightColor:e.color.parse(t.color).scale("a",.5).toString(),o=r;switch(t.bars.align){case"left":i=0;break;case"right":i=-t.bars.barWidth;break;default:i=-t.bars.barWidth/2}ct.lineWidth=t.bars.lineWidth,ct.strokeStyle=r,z(n[0],n[1],n[2]||0,i,i+t.bars.barWidth,function(){return o},t.xaxis,t.yaxis,ct,t.bars.horizontal,t.bars.lineWidth)}function nt(t,n,i,r){if("string"==typeof t)return t;for(var o=lt.createLinearGradient(0,i,0,n),a=0,s=t.colors.length;s>a;++a){var l=t.colors[a];if("string"!=typeof l){var c=e.color.parse(r);null!=l.brightness&&(c=c.scale("rgb",l.brightness)),null!=l.opacity&&(c.a*=l.opacity),l=c.toString()}o.addColorStop(a/(s-1),l)}return o}var it=[],rt={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",strokeColor:null,symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},ot=null,at=null,st=null,lt=null,ct=null,ut=[],dt=[],ft={left:0,right:0,top:0,bottom:0},ht=0,pt=0,mt={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},gt=this;gt.setData=u,gt.setupGrid=N,gt.draw=D,gt.getPlaceholder=function(){return n},gt.getCanvas=function(){return ot.element},gt.getPlotOffset=function(){return ft},gt.width=function(){return ht},gt.height=function(){return pt},gt.offset=function(){var e=st.offset();return e.left+=ft.left,e.top+=ft.top,e},gt.getData=function(){return it},gt.getAxes=function(){var t={};return e.each(ut.concat(dt),function(e,n){n&&(t[n.direction+(1!=n.n?n.n:"")+"axis"]=n)}),t},gt.getXAxes=function(){return ut},gt.getYAxes=function(){return dt},gt.c2p=p,gt.p2c=m,gt.getOptions=function(){return rt},gt.highlight=G,gt.unhighlight=J,gt.triggerRedrawOverlay=K,gt.pointOffset=function(e){return{left:parseInt(ut[f(e,"x")-1].p2c(+e.x)+ft.left,10),top:parseInt(dt[f(e,"y")-1].p2c(+e.y)+ft.top,10)}},gt.shutdown=C,gt.resize=function(){var e=n.width(),t=n.height();ot.resize(e,t),at.resize(e,t)},gt.hooks=mt,l(gt),c(o),y(),u(r),N(),D(),x();var vt=[],bt=null}function i(e,t){return t*Math.floor(e/t)}var r=Object.prototype.hasOwnProperty;t.prototype.resize=function(e,t){if(0>=e||0>=t)throw new Error("Invalid dimensions for plot, width = "+e+", height = "+t);var n=this.element,i=this.context,r=this.pixelRatio;this.width!=e&&(n.width=e*r,n.style.width=e+"px",this.width=e),this.height!=t&&(n.height=t*r,n.style.height=t+"px",this.height=t),i.restore(),i.save(),i.scale(r,r)},t.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},t.prototype.render=function(){var e=this._textCache;
for(var t in e)if(r.call(e,t)){var n=this.getTextLayer(t),i=e[t];n.hide();for(var o in i)if(r.call(i,o)){var a=i[o];for(var s in a)if(r.call(a,s)){for(var l,c=a[s].positions,u=0;l=c[u];u++)l.active?l.rendered||(n.append(l.element),l.rendered=!0):(c.splice(u--,1),l.rendered&&l.element.detach());0==c.length&&delete a[s]}}n.show()}},t.prototype.getTextLayer=function(t){var n=this.text[t];return null==n&&(null==this.textContainer&&(this.textContainer=e("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),n=this.text[t]=e("<div></div>").addClass(t).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),n},t.prototype.getTextInfo=function(t,n,i,r,o){var a,s,l,c;if(n=""+n,a="object"==typeof i?i.style+" "+i.variant+" "+i.weight+" "+i.size+"px/"+i.lineHeight+"px "+i.family:i,s=this._textCache[t],null==s&&(s=this._textCache[t]={}),l=s[a],null==l&&(l=s[a]={}),c=l[n],null==c){var u=e("<div></div>").html(n).css({position:"absolute","max-width":o,top:-9999}).appendTo(this.getTextLayer(t));"object"==typeof i?u.css({font:a,color:i.color}):"string"==typeof i&&u.addClass(i),c=l[n]={width:u.outerWidth(!0),height:u.outerHeight(!0),element:u,positions:[]},u.detach()}return c},t.prototype.addText=function(e,t,n,i,r,o,a,s,l){var c=this.getTextInfo(e,i,r,o,a),u=c.positions;"center"==s?t-=c.width/2:"right"==s&&(t-=c.width),"middle"==l?n-=c.height/2:"bottom"==l&&(n-=c.height);for(var d,f=0;d=u[f];f++)if(d.x==t&&d.y==n)return void(d.active=!0);d={active:!0,rendered:!1,element:u.length?c.element.clone():c.element,x:t,y:n},u.push(d),d.element.css({top:Math.round(n),left:Math.round(t),"text-align":s})},t.prototype.removeText=function(e,t,n,i,o,a){if(null==i){var s=this._textCache[e];if(null!=s)for(var l in s)if(r.call(s,l)){var c=s[l];for(var u in c)if(r.call(c,u))for(var d,f=c[u].positions,h=0;d=f[h];h++)d.active=!1}}else for(var d,f=this.getTextInfo(e,i,o,a).positions,h=0;d=f[h];h++)d.x==t&&d.y==n&&(d.active=!1)},e.plot=function(t,i,r){var o=new n(e(t),i,r,e.plot.plugins);return o},e.plot.version="0.8.2-alpha",e.plot.plugins=[],e.fn.plot=function(t,n){return this.each(function(){e.plot(this,t,n)})}}(jQuery),function(e){function t(t){function r(t){k||(k=!0,v=t.getCanvas(),b=e(v).parent(),y=t.getOptions(),t.setData(o(t.getData())))}function o(t){for(var n=0,i=0,r=0,o=y.series.pie.combine.color,a=[],s=0;s<t.length;++s){var l=t[s].data;e.isArray(l)&&1==l.length&&(l=l[0]),e.isArray(l)?l[1]=!isNaN(parseFloat(l[1]))&&isFinite(l[1])?+l[1]:0:l=!isNaN(parseFloat(l))&&isFinite(l)?[1,+l]:[1,0],t[s].data=[l]}for(var s=0;s<t.length;++s)n+=t[s].data[0][1];for(var s=0;s<t.length;++s){var l=t[s].data[0][1];l/n<=y.series.pie.combine.threshold&&(i+=l,r++,o||(o=t[s].color))}for(var s=0;s<t.length;++s){var l=t[s].data[0][1];(2>r||l/n>y.series.pie.combine.threshold)&&a.push({data:[[1,l]],color:t[s].color,label:t[s].label,angle:l*Math.PI*2/n,percent:l/(n/100)})}return r>1&&a.push({data:[[1,i]],color:o,label:y.series.pie.combine.label,angle:i*Math.PI*2/n,percent:i/(n/100)}),a}function a(t,r){function o(){_.clearRect(0,0,c,u),b.children().filter(".pieLabel, .pieLabelBackground").remove()}function a(){var e=y.series.pie.shadow.left,t=y.series.pie.shadow.top,n=10,i=y.series.pie.shadow.alpha,r=y.series.pie.radius>1?y.series.pie.radius:x*y.series.pie.radius;if(!(r>=c/2-e||r*y.series.pie.tilt>=u/2-t||n>=r)){_.save(),_.translate(e,t),_.globalAlpha=i,_.fillStyle="#000",_.translate(C,w),_.scale(1,y.series.pie.tilt);for(var o=1;n>=o;o++)_.beginPath(),_.arc(0,0,r,0,2*Math.PI,!1),_.fill(),r-=o;_.restore()}}function l(){function t(e,t,n){0>=e||isNaN(e)||(n?_.fillStyle=t:(_.strokeStyle=t,_.lineJoin="round"),_.beginPath(),Math.abs(e-2*Math.PI)>1e-9&&_.moveTo(0,0),_.arc(0,0,r,o,o+e/2,!1),_.arc(0,0,r,o+e/2,o+e,!1),_.closePath(),o+=e,n?_.fill():_.stroke())}function n(){function t(t,n,i){if(0==t.data[0][1])return!0;var o,a=y.legend.labelFormatter,s=y.series.pie.label.formatter;o=a?a(t.label,t):t.label,s&&(o=s(o,t));var l=(n+t.angle+n)/2,d=C+Math.round(Math.cos(l)*r),f=w+Math.round(Math.sin(l)*r)*y.series.pie.tilt,h="<span class='pieLabel' id='pieLabel"+i+"' style='position:absolute;top:"+f+"px;left:"+d+"px;'>"+o+"</span>";b.append(h);var p=b.children("#pieLabel"+i),m=f-p.height()/2,g=d-p.width()/2;if(p.css("top",m),p.css("left",g),0-m>0||0-g>0||u-(m+p.height())<0||c-(g+p.width())<0)return!1;if(0!=y.series.pie.label.background.opacity){var v=y.series.pie.label.background.color;null==v&&(v=t.color);var x="top:"+m+"px;left:"+g+"px;";e("<div class='pieLabelBackground' style='position:absolute;width:"+p.width()+"px;height:"+p.height()+"px;"+x+"background-color:"+v+";'></div>").css("opacity",y.series.pie.label.background.opacity).insertBefore(p)}return!0}for(var n=i,r=y.series.pie.label.radius>1?y.series.pie.label.radius:x*y.series.pie.label.radius,o=0;o<f.length;++o){if(f[o].percent>=100*y.series.pie.label.threshold&&!t(f[o],n,o))return!1;n+=f[o].angle}return!0}var i=Math.PI*y.series.pie.startAngle,r=y.series.pie.radius>1?y.series.pie.radius:x*y.series.pie.radius;_.save(),_.translate(C,w),_.scale(1,y.series.pie.tilt),_.save();for(var o=i,a=0;a<f.length;++a)f[a].startAngle=o,t(f[a].angle,f[a].color,!0);if(_.restore(),y.series.pie.stroke.width>0){_.save(),_.lineWidth=y.series.pie.stroke.width,o=i;for(var a=0;a<f.length;++a)t(f[a].angle,y.series.pie.stroke.color,!1);_.restore()}return s(_),_.restore(),y.series.pie.label.show?n():!0}if(b){var c=t.getPlaceholder().width(),u=t.getPlaceholder().height(),d=b.children().filter(".legend").children().width()||0;_=r,k=!1,x=Math.min(c,u/y.series.pie.tilt)/2,w=u/2+y.series.pie.offset.top,C=c/2,"auto"==y.series.pie.offset.left?(y.legend.position.match("w")?C+=d/2:C-=d/2,x>C?C=x:C>c-x&&(C=c-x)):C+=y.series.pie.offset.left;var f=t.getData(),h=0;do h>0&&(x*=i),h+=1,o(),y.series.pie.tilt<=.8&&a();while(!l()&&n>h);h>=n&&(o(),b.prepend("<div class='error'>Could not draw pie with labels contained inside canvas</div>")),t.setSeries&&t.insertLegend&&(t.setSeries(f),t.insertLegend())}}function s(e){if(y.series.pie.innerRadius>0){e.save();var t=y.series.pie.innerRadius>1?y.series.pie.innerRadius:x*y.series.pie.innerRadius;e.globalCompositeOperation="destination-out",e.beginPath(),e.fillStyle=y.series.pie.stroke.color,e.arc(0,0,t,0,2*Math.PI,!1),e.fill(),e.closePath(),e.restore(),e.save(),e.beginPath(),e.strokeStyle=y.series.pie.stroke.color,e.arc(0,0,t,0,2*Math.PI,!1),e.stroke(),e.closePath(),e.restore()}}function l(e,t){for(var n=!1,i=-1,r=e.length,o=r-1;++i<r;o=i)(e[i][1]<=t[1]&&t[1]<e[o][1]||e[o][1]<=t[1]&&t[1]<e[i][1])&&t[0]<(e[o][0]-e[i][0])*(t[1]-e[i][1])/(e[o][1]-e[i][1])+e[i][0]&&(n=!n);return n}function c(e,n){for(var i,r,o=t.getData(),a=t.getOptions(),s=a.series.pie.radius>1?a.series.pie.radius:x*a.series.pie.radius,c=0;c<o.length;++c){var u=o[c];if(u.pie.show){if(_.save(),_.beginPath(),_.moveTo(0,0),_.arc(0,0,s,u.startAngle,u.startAngle+u.angle/2,!1),_.arc(0,0,s,u.startAngle+u.angle/2,u.startAngle+u.angle,!1),_.closePath(),i=e-C,r=n-w,_.isPointInPath){if(_.isPointInPath(e-C,n-w))return _.restore(),{datapoint:[u.percent,u.data],dataIndex:0,series:u,seriesIndex:c}}else{var d=s*Math.cos(u.startAngle),f=s*Math.sin(u.startAngle),h=s*Math.cos(u.startAngle+u.angle/4),p=s*Math.sin(u.startAngle+u.angle/4),m=s*Math.cos(u.startAngle+u.angle/2),g=s*Math.sin(u.startAngle+u.angle/2),v=s*Math.cos(u.startAngle+u.angle/1.5),b=s*Math.sin(u.startAngle+u.angle/1.5),y=s*Math.cos(u.startAngle+u.angle),k=s*Math.sin(u.startAngle+u.angle),E=[[0,0],[d,f],[h,p],[m,g],[v,b],[y,k]],S=[i,r];if(l(E,S))return _.restore(),{datapoint:[u.percent,u.data],dataIndex:0,series:u,seriesIndex:c}}_.restore()}}return null}function u(e){f("plothover",e)}function d(e){f("plotclick",e)}function f(e,n){var i=t.offset(),r=parseInt(n.pageX-i.left),o=parseInt(n.pageY-i.top),a=c(r,o);if(y.grid.autoHighlight)for(var s=0;s<E.length;++s){var l=E[s];l.auto!=e||a&&l.series==a.series||p(l.series)}a&&h(a.series,e);var u={pageX:n.pageX,pageY:n.pageY};b.trigger(e,[u,a])}function h(e,n){var i=m(e);-1==i?(E.push({series:e,auto:n}),t.triggerRedrawOverlay()):n||(E[i].auto=!1)}function p(e){null==e&&(E=[],t.triggerRedrawOverlay());var n=m(e);-1!=n&&(E.splice(n,1),t.triggerRedrawOverlay())}function m(e){for(var t=0;t<E.length;++t){var n=E[t];if(n.series==e)return t}return-1}function g(e,t){function n(e){e.angle<=0||isNaN(e.angle)||(t.fillStyle="rgba(255, 255, 255, "+i.series.pie.highlight.opacity+")",t.beginPath(),Math.abs(e.angle-2*Math.PI)>1e-9&&t.moveTo(0,0),t.arc(0,0,r,e.startAngle,e.startAngle+e.angle/2,!1),t.arc(0,0,r,e.startAngle+e.angle/2,e.startAngle+e.angle,!1),t.closePath(),t.fill())}var i=e.getOptions(),r=i.series.pie.radius>1?i.series.pie.radius:x*i.series.pie.radius;t.save(),t.translate(C,w),t.scale(1,i.series.pie.tilt);for(var o=0;o<E.length;++o)n(E[o].series);s(t),t.restore()}var v=null,b=null,y=null,x=null,C=null,w=null,k=!1,_=null,E=[];t.hooks.processOptions.push(function(e,t){t.series.pie.show&&(t.grid.show=!1,"auto"==t.series.pie.label.show&&(t.series.pie.label.show=t.legend.show?!1:!0),"auto"==t.series.pie.radius&&(t.series.pie.radius=t.series.pie.label.show?.75:1),t.series.pie.tilt>1?t.series.pie.tilt=1:t.series.pie.tilt<0&&(t.series.pie.tilt=0))}),t.hooks.bindEvents.push(function(e,t){var n=e.getOptions();n.series.pie.show&&(n.grid.hoverable&&t.unbind("mousemove").mousemove(u),n.grid.clickable&&t.unbind("click").click(d))}),t.hooks.processDatapoints.push(function(e,t,n,i){var o=e.getOptions();o.series.pie.show&&r(e,t,n,i)}),t.hooks.drawOverlay.push(function(e,t){var n=e.getOptions();n.series.pie.show&&g(e,t)}),t.hooks.draw.push(function(e,t){var n=e.getOptions();n.series.pie.show&&a(e,t)})}var n=10,i=.95,r={series:{pie:{show:!1,radius:"auto",innerRadius:0,startAngle:1.5,tilt:1,shadow:{left:5,top:15,alpha:.02},offset:{top:0,left:"auto"},stroke:{color:"#fff",width:1},label:{show:"auto",formatter:function(e,t){return"<div style='font-size:x-small;text-align:center;padding:2px;color:"+t.color+";'>"+e+"<br/>"+Math.round(t.percent)+"%</div>"},radius:1,background:{color:null,opacity:0},threshold:0},combine:{threshold:-1,color:null,label:"Other"},highlight:{opacity:.5}}}};e.plot.plugins.push({init:t,options:r,name:"pie",version:"1.1"})}(jQuery),function(e,t,n){function i(){for(var n=o.length-1;n>=0;n--){var s=e(o[n]);if(s[0]==t||s.is(":visible")){var h=s.width(),p=s.height(),m=s.data(c);!m||h===m.w&&p===m.h?a[u]=a[d]:(a[u]=a[f],s.trigger(l,[m.w=h,m.h=p]))}else m=s.data(c),m.w=0,m.h=0}null!==r&&(r=t.requestAnimationFrame(i))}var r,o=[],a=e.resize=e.extend(e.resize,{}),s="setTimeout",l="resize",c=l+"-special-event",u="delay",d="pendingDelay",f="activeDelay",h="throttleWindow";a[d]=250,a[f]=20,a[u]=a[d],a[h]=!0,e.event.special[l]={setup:function(){if(!a[h]&&this[s])return!1;var t=e(this);o.push(this),t.data(c,{w:t.width(),h:t.height()}),1===o.length&&(r=n,i())},teardown:function(){if(!a[h]&&this[s])return!1;for(var t=e(this),n=o.length-1;n>=0;n--)if(o[n]==this){o.splice(n,1);break}t.removeData(c),o.length||(cancelAnimationFrame(r),r=null)},add:function(t){function i(t,i,o){var a=e(this),s=a.data(c);s.w=i!==n?i:a.width(),s.h=o!==n?o:a.height(),r.apply(this,arguments)}if(!a[h]&&this[s])return!1;var r;return e.isFunction(t)?(r=t,i):(r=t.handler,void(t.handler=i))}},t.requestAnimationFrame||(t.requestAnimationFrame=function(){return t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){return t.setTimeout(e,a[u])}}()),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(){return t.webkitCancelRequestAnimationFrame||t.mozCancelRequestAnimationFrame||t.oCancelRequestAnimationFrame||t.msCancelRequestAnimationFrame||clearTimeout}())}(jQuery,this),function(e){function t(e){function t(){var t=e.getPlaceholder();0!=t.width()&&0!=t.height()&&(e.resize(),e.setupGrid(),e.draw())}function n(e){e.getPlaceholder().resize(t)}function i(e){e.getPlaceholder().unbind("resize",t)}e.hooks.bindEvents.push(n),e.hooks.shutdown.push(i)}var n={};e.plot.plugins.push({init:t,options:n,name:"resize",version:"1.0"})}(jQuery),function(e){function t(e,t){return t*Math.floor(e/t)}function n(e,t,n,i){if("function"==typeof e.strftime)return e.strftime(t);var r=function(e,t){return e=""+e,t=""+(null==t?"0":t),1==e.length?t+e:e},o=[],a=!1,s=e.getHours(),l=12>s;null==n&&(n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),null==i&&(i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]);var c;c=s>12?s-12:0==s?12:s;for(var u=0;u<t.length;++u){var d=t.charAt(u);if(a){switch(d){case"a":d=""+i[e.getDay()];break;case"b":d=""+n[e.getMonth()];break;case"d":d=r(e.getDate());break;case"e":d=r(e.getDate()," ");break;case"h":case"H":d=r(s);break;case"I":d=r(c);break;case"l":d=r(c," ");break;case"m":d=r(e.getMonth()+1);break;case"M":d=r(e.getMinutes());break;case"q":d=""+(Math.floor(e.getMonth()/3)+1);break;case"S":d=r(e.getSeconds());break;case"y":d=r(e.getFullYear()%100);break;case"Y":d=""+e.getFullYear();break;case"p":d=l?"am":"pm";break;case"P":d=l?"AM":"PM";break;case"w":d=""+e.getDay()}o.push(d),a=!1}else"%"==d?a=!0:o.push(d)}return o.join("")}function i(e){function t(e,t,n,i){e[t]=function(){return n[i].apply(n,arguments)}}var n={date:e};void 0!=e.strftime&&t(n,"strftime",e,"strftime"),t(n,"getTime",e,"getTime"),t(n,"setTime",e,"setTime");for(var i=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"],r=0;r<i.length;r++)t(n,"get"+i[r],e,"getUTC"+i[r]),t(n,"set"+i[r],e,"setUTC"+i[r]);return n}function r(e,t){if("browser"==t.timezone)return new Date(e);if(t.timezone&&"utc"!=t.timezone){if("undefined"!=typeof timezoneJS&&"undefined"!=typeof timezoneJS.Date){var n=new timezoneJS.Date;return n.setTimezone(t.timezone),n.setTime(e),n}return i(new Date(e))}return i(new Date(e))}function o(i){i.hooks.processOptions.push(function(i){e.each(i.getAxes(),function(e,i){var o=i.options;"time"==o.mode&&(i.tickGenerator=function(e){var n=[],i=r(e.min,o),a=0,l=o.tickSize&&"quarter"===o.tickSize[1]||o.minTickSize&&"quarter"===o.minTickSize[1]?u:c;null!=o.minTickSize&&(a="number"==typeof o.tickSize?o.tickSize:o.minTickSize[0]*s[o.minTickSize[1]]);for(var d=0;d<l.length-1&&!(e.delta<(l[d][0]*s[l[d][1]]+l[d+1][0]*s[l[d+1][1]])/2&&l[d][0]*s[l[d][1]]>=a);++d);var f=l[d][0],h=l[d][1];if("year"==h){if(null!=o.minTickSize&&"year"==o.minTickSize[1])f=Math.floor(o.minTickSize[0]);else{var p=Math.pow(10,Math.floor(Math.log(e.delta/s.year)/Math.LN10)),m=e.delta/s.year/p;f=1.5>m?1:3>m?2:7.5>m?5:10,f*=p}1>f&&(f=1)}e.tickSize=o.tickSize||[f,h];var g=e.tickSize[0];h=e.tickSize[1];var v=g*s[h];"second"==h?i.setSeconds(t(i.getSeconds(),g)):"minute"==h?i.setMinutes(t(i.getMinutes(),g)):"hour"==h?i.setHours(t(i.getHours(),g)):"month"==h?i.setMonth(t(i.getMonth(),g)):"quarter"==h?i.setMonth(3*t(i.getMonth()/3,g)):"year"==h&&i.setFullYear(t(i.getFullYear(),g)),i.setMilliseconds(0),v>=s.minute&&i.setSeconds(0),v>=s.hour&&i.setMinutes(0),v>=s.day&&i.setHours(0),v>=4*s.day&&i.setDate(1),v>=2*s.month&&i.setMonth(t(i.getMonth(),3)),v>=2*s.quarter&&i.setMonth(t(i.getMonth(),6)),v>=s.year&&i.setMonth(0);var b,y=0,x=Number.NaN;do if(b=x,x=i.getTime(),n.push(x),"month"==h||"quarter"==h)if(1>g){i.setDate(1);var C=i.getTime();i.setMonth(i.getMonth()+("quarter"==h?3:1));var w=i.getTime();i.setTime(x+y*s.hour+(w-C)*g),y=i.getHours(),i.setHours(0)}else i.setMonth(i.getMonth()+g*("quarter"==h?3:1));else"year"==h?i.setFullYear(i.getFullYear()+g):i.setTime(x+v);while(x<e.max&&x!=b);return n},i.tickFormatter=function(e,t){var i=r(e,t.options);if(null!=o.timeformat)return n(i,o.timeformat,o.monthNames,o.dayNames);var a,l=t.options.tickSize&&"quarter"==t.options.tickSize[1]||t.options.minTickSize&&"quarter"==t.options.minTickSize[1],c=t.tickSize[0]*s[t.tickSize[1]],u=t.max-t.min,d=o.twelveHourClock?" %p":"",f=o.twelveHourClock?"%I":"%H";a=c<s.minute?f+":%M:%S"+d:c<s.day?u<2*s.day?f+":%M"+d:"%b %d "+f+":%M"+d:c<s.month?"%b %d":l&&c<s.quarter||!l&&c<s.year?u<s.year?"%b":"%b %Y":l&&c<s.year?u<s.year?"Q%q":"Q%q %Y":"%Y";var h=n(i,a,o.monthNames,o.dayNames);return h})})})}var a={xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},s={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,quarter:7776e6,year:525949.2*60*1e3},l=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],c=l.concat([[3,"month"],[6,"month"],[1,"year"]]),u=l.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);e.plot.plugins.push({init:o,options:a,name:"time",version:"1.0"}),e.plot.formatDate=n}(jQuery),function(e){"use strict";function t(t){function i(t){_=t.getOptions();var n=_.series.grow.valueIndex;if(_.series.grow.active===!0){var i=!1,r=0;if(_.series.grow.reanimate&&x===c.PLOTTED_LAST_FRAME){g=!1,x=c.NOT_PLOTTED_YET,b=0,k=t.getData();var o=Math.min(k.length,C.length);for(r=0;o>r;r++)k[r].dataOld=C[r];i=!0,v=!0}if(!g){for(i||(k=t.getData()),x=c.NOT_PLOTTED_YET,b=0|+new Date,C=[],r=0;r<k.length;r++){var a=k[r];if(a.dataOrg=e.extend(!0,[],a.data),C.push(a.dataOrg),!i)for(var s=0;s<a.data.length;s++)a.data[s][n]=null===a.dataOrg[s][n]?null:0}t.setData(k),g=!0}}}function a(e){v===!0&&s(e)}function s(e){_=e.getOptions(),_.series.grow.active===!0&&(l(e.getData(),_),b=0|+new Date,m=r(f)),v=!1}function l(e,t){for(var n=t.series.grow.duration,i=0,r=e.length;r>i;i++){var o=e[i].grow.duration;o>n&&(n=o)}t.series.grow.duration=n}function d(e){n("resize")&&e.getPlaceholder().resize(h)}function f(){y=+new Date-b|0;for(var e=0,t=k.length;t>e;e++)for(var n=k[e],i=n.dataOld&&n.dataOld.length>0,o=0,a=n.grow.growings.length;a>o;o++){var s,l=n.grow.growings[o];i&&"reinit"!==l.reanimate?("function"==typeof l.reanimate&&(s=l.reanimate),s="continue"===l.reanimate?u.reanimate:u.none):s="function"==typeof l.stepMode?l.stepMode:u[l.stepMode]||u.none,s(n,y,l,x)}w.setData(k),w.draw(),x===c.NOT_PLOTTED_YET&&(x=c.PLOTTED_SOME_FRAMES),y<_.series.grow.duration?m=r(f):(x=c.PLOTTED_LAST_FRAME,m=null,w.getPlaceholder().trigger("growFinished"))}function h(){if(m){for(var n=0;n<k.length;n++){var i=k[n];i.data=e.extend(!0,[],i.dataOrg)}t.setData(k),t.setupGrid()}}function p(e){e.getPlaceholder().unbind("resize",h),m&&(o(m),m=null)}var m,g=!1,v=!0,b=0,y=0,x=c.NOT_PLOTTED_YET,C=[],w=t,k=null,_=null;t.hooks.drawSeries.push(i),t.hooks.draw.push(a),t.hooks.bindEvents.push(d),t.hooks.shutdown.push(p)}function n(t){for(var n=e.plot.plugins,i=0,r=n.length;r>i;i++){var o=n[i];if(o.name===t)return!0}return!1}function i(){for(var e=window.requestAnimationFrame,t=window.cancelAnimationFrame,n=+new Date,i=["ms","moz","webkit","o"],a=0;a<i.length&&!e;++a)e=window[i[a]+"RequestAnimationFrame"],t=window[i[a]+"CancelAnimationFrame"]||window[i[a]+"CancelRequestAnimationFrame"];e||(e=function(e){var t=+new Date,i=Math.max(0,16-(t-n)),r=window.setTimeout(function(){e(t+i)},i);return n=t+i,r}),t||(t=function(e){clearTimeout(e)}),r=e,o=t}var r,o,a="growraf",s="0.4.5",l={series:{grow:{active:!1,duration:1e3,valueIndex:1,reanimate:!0,growings:[{valueIndex:1,stepMode:"linear",stepDirection:"up",reanimate:"continue"}]}}},c={NOT_PLOTTED_YET:0,PLOTTED_SOME_FRAMES:1,PLOTTED_LAST_FRAME:2},u={none:function(e,t,n,i){if(i===c.NOT_PLOTTED_YET)for(var r=0,o=e.data.length;o>r;r++)e.data[r][n.valueIndex]=e.dataOrg[r][n.valueIndex]},linear:function(e,t,n){for(var i=Math.min(t,e.grow.duration),r=0,o=e.data.length;o>r;r++){var a=e.dataOrg[r][n.valueIndex];null!==a?"up"===n.stepDirection?e.data[r][n.valueIndex]=a/e.grow.duration*i:"down"===n.stepDirection&&(e.data[r][n.valueIndex]=a+(e.yaxis.max-a)/e.grow.duration*(e.grow.duration-i)):e.data[r][n.valueIndex]=null}},maximum:function(e,t,n){for(var i=Math.min(t,e.grow.duration),r=0,o=e.data.length;o>r;r++){var a=e.dataOrg[r][n.valueIndex];null!==a?"up"===n.stepDirection?e.data[r][n.valueIndex]=a>=0?Math.min(a,e.yaxis.max/e.grow.duration*i):Math.max(a,e.yaxis.min/e.grow.duration*i):"down"===n.stepDirection&&(e.data[r][n.valueIndex]=a>=0?Math.max(a,e.yaxis.max/e.grow.duration*(e.grow.duration-i)):Math.min(a,e.yaxis.min/e.grow.duration*(e.grow.duration-i))):e.data[r][n.valueIndex]=null}},delay:function(e,t,n){if(t>=e.grow.duration)for(var i=0,r=e.data.length;r>i;i++)e.data[i][n.valueIndex]=e.dataOrg[i][n.valueIndex]},reanimate:function(e,t,n){for(var i=Math.min(t,e.grow.duration),r=0,o=e.data.length;o>r;r++){var a=e.dataOrg[r][n.valueIndex];if(null===a)e.data[r][n.valueIndex]=null;else if(e.dataOld){var s=e.dataOld[r][n.valueIndex];e.data[r][n.valueIndex]=s+(a-s)/e.grow.duration*i}}}};i(),e.plot.plugins.push({init:t,options:l,name:a,version:s})}(jQuery),function(e){function t(e,t,n,i){var r="categories"==t.xaxis.options.mode,o="categories"==t.yaxis.options.mode;if(r||o){var a=i.format;if(!a){var s=t;if(a=[],a.push({x:!0,number:!0,required:!0}),a.push({y:!0,number:!0,required:!0}),s.bars.show||s.lines.show&&s.lines.fill){var l=!!(s.bars.show&&s.bars.zero||s.lines.show&&s.lines.zero);a.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:l}),s.bars.horizontal&&(delete a[a.length-1].y,a[a.length-1].x=!0)}i.format=a}for(var c=0;c<a.length;++c)a[c].x&&r&&(a[c].number=!1),a[c].y&&o&&(a[c].number=!1)}}function n(e){var t=-1;for(var n in e)e[n]>t&&(t=e[n]);return t+1}function i(e){var t=[];for(var n in e.categories){var i=e.categories[n];i>=e.min&&i<=e.max&&t.push([i,n])}return t.sort(function(e,t){return e[0]-t[0]}),t}function r(t,n,r){if("categories"==t[n].options.mode){if(!t[n].categories){var a={},s=t[n].options.categories||{};if(e.isArray(s))for(var l=0;l<s.length;++l)a[s[l]]=l;else for(var c in s)a[c]=s[c];t[n].categories=a}t[n].options.ticks||(t[n].options.ticks=i),o(r,n,t[n].categories)}}function o(e,t,i){for(var r=e.points,o=e.pointsize,a=e.format,s=t.charAt(0),l=n(i),c=0;c<r.length;c+=o)if(null!=r[c])for(var u=0;o>u;++u){var d=r[c+u];null!=d&&a[u][s]&&(d in i||(i[d]=l,++l),r[c+u]=i[d])}}function a(e,t,n){r(t,"xaxis",n),r(t,"yaxis",n)}function s(e){e.hooks.processRawData.push(t),e.hooks.processDatapoints.push(a)}var l={xaxis:{categories:null},yaxis:{categories:null}};e.plot.plugins.push({init:s,options:l,name:"categories",version:"1.0"})}(jQuery),function(e){function t(e){function t(e,t){for(var n=null,i=0;i<t.length&&e!=t[i];++i)t[i].stack==e.stack&&(n=t[i]);return n}function n(e,n,i){if(null!=n.stack&&n.stack!==!1){var r=t(n,e.getData());if(r){for(var o,a,s,l,c,u,d,f,h=i.pointsize,p=i.points,m=r.datapoints.pointsize,g=r.datapoints.points,v=[],b=n.lines.show,y=n.bars.horizontal,x=h>2&&(y?i.format[2].x:i.format[2].y),C=b&&n.lines.steps,w=!0,k=y?1:0,_=y?0:1,E=0,S=0;;){if(E>=p.length)break;if(d=v.length,null==p[E]){for(f=0;h>f;++f)v.push(p[E+f]);E+=h}else if(S>=g.length){if(!b)for(f=0;h>f;++f)v.push(p[E+f]);E+=h}else if(null==g[S]){for(f=0;h>f;++f)v.push(null);w=!0,S+=m}else{if(o=p[E+k],a=p[E+_],l=g[S+k],c=g[S+_],u=0,o==l){for(f=0;h>f;++f)v.push(p[E+f]);v[d+_]+=c,u=c,E+=h,S+=m}else if(o>l){if(b&&E>0&&null!=p[E-h]){for(s=a+(p[E-h+_]-a)*(l-o)/(p[E-h+k]-o),v.push(l),v.push(s+c),f=2;h>f;++f)v.push(p[E+f]);u=c}S+=m}else{if(w&&b){E+=h;continue}for(f=0;h>f;++f)v.push(p[E+f]);b&&S>0&&null!=g[S-m]&&(u=c+(g[S-m+_]-c)*(o-l)/(g[S-m+k]-l)),v[d+_]+=u,E+=h}w=!1,d!=v.length&&x&&(v[d+2]+=u)}if(C&&d!=v.length&&d>0&&null!=v[d]&&v[d]!=v[d-h]&&v[d+1]!=v[d-h+1]){for(f=0;h>f;++f)v[d+h+f]=v[d+f];v[d+1]=v[d-h+1]}}i.points=v}}}e.hooks.processDatapoints.push(n)}var n={series:{stack:null}};e.plot.plugins.push({init:t,options:n,name:"stack",version:"1.2"})}(jQuery),function(e){var t={tooltip:!1,tooltipOpts:{content:"%s | X: %x | Y: %y",xDateFormat:null,yDateFormat:null,shifts:{x:10,y:20},defaultTheme:!0,onHover:function(){}}},n=function(e){this.tipPosition={x:0,y:0},this.init(e)};n.prototype.init=function(t){var n=this;t.hooks.bindEvents.push(function(t,i){if(n.plotOptions=t.getOptions(),n.plotOptions.tooltip!==!1&&"undefined"!=typeof n.plotOptions.tooltip){n.tooltipOptions=n.plotOptions.tooltipOpts;var r=n.getDomElement();e(t.getPlaceholder()).bind("plothover",function(e,t,i){if(i){var o;o=n.stringFormat(n.tooltipOptions.content,i),r.html(o).css({left:n.tipPosition.x+n.tooltipOptions.shifts.x,top:n.tipPosition.y+n.tooltipOptions.shifts.y}).show(),"function"==typeof n.tooltipOptions.onHover&&n.tooltipOptions.onHover(i,r)}else r.hide().html("")}),i.mousemove(function(e){var t={};t.x=e.pageX,t.y=e.pageY,n.updateTooltipPosition(t)})}})},n.prototype.getDomElement=function(){var t;return e("#flotTip").length>0?t=e("#flotTip"):(t=e("<div />").attr("id","flotTip"),t.appendTo("body").hide().css({position:"absolute"}),this.tooltipOptions.defaultTheme&&t.css({background:"#fff","z-index":"100",padding:"0.4em 0.6em","border-radius":"0.5em","font-size":"0.8em",border:"1px solid #111"})),t},n.prototype.updateTooltipPosition=function(e){this.tipPosition.x=e.x,this.tipPosition.y=e.y},n.prototype.stringFormat=function(e,t){var n=/%p\.{0,1}(\d{0,})/,i=/%s/,r=/%x\.{0,1}(\d{0,})/,o=/%y\.{0,1}(\d{0,})/;return"function"==typeof e&&(e=e(t.series.data[t.dataIndex][0],t.series.data[t.dataIndex][1])),"undefined"!=typeof t.series.percent&&(e=this.adjustValPrecision(n,e,t.series.percent)),"undefined"!=typeof t.series.label&&(e=e.replace(i,t.series.label)),this.isTimeMode("xaxis",t)&&this.isXDateFormat(t)&&(e=e.replace(r,this.timestampToDate(t.series.data[t.dataIndex][0],this.tooltipOptions.xDateFormat))),this.isTimeMode("yaxis",t)&&this.isYDateFormat(t)&&(e=e.replace(o,this.timestampToDate(t.series.data[t.dataIndex][1],this.tooltipOptions.yDateFormat))),"number"==typeof t.series.data[t.dataIndex][0]&&(e=this.adjustValPrecision(r,e,t.series.data[t.dataIndex][0])),"number"==typeof t.series.data[t.dataIndex][1]&&(e=this.adjustValPrecision(o,e,t.series.data[t.dataIndex][1])),"undefined"!=typeof t.series.xaxis.tickFormatter&&(e=e.replace(r,t.series.xaxis.tickFormatter(t.series.data[t.dataIndex][0],t.series.xaxis))),"undefined"!=typeof t.series.yaxis.tickFormatter&&(e=e.replace(o,t.series.yaxis.tickFormatter(t.series.data[t.dataIndex][1],t.series.yaxis))),e},n.prototype.isTimeMode=function(e,t){return"undefined"!=typeof t.series[e].options.mode&&"time"===t.series[e].options.mode},n.prototype.isXDateFormat=function(){return"undefined"!=typeof this.tooltipOptions.xDateFormat&&null!==this.tooltipOptions.xDateFormat},n.prototype.isYDateFormat=function(){return"undefined"!=typeof this.tooltipOptions.yDateFormat&&null!==this.tooltipOptions.yDateFormat},n.prototype.timestampToDate=function(t,n){var i=new Date(t);return e.plot.formatDate(i,n)},n.prototype.adjustValPrecision=function(e,t,n){var i;return null!==t.match(e)&&""!==RegExp.$1&&(i=RegExp.$1,n=n.toFixed(i),t=t.replace(e,n)),t};var i=[],r=function(e){i.push(new n(e))};e.plot.plugins.push({init:r,options:t,name:"tooltip",version:"0.6"})}(jQuery),Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],firstLetterDayNames:["S","M","T","W","T","F","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|after|from)/i,subtract:/^(\-|before|ago)/i,yesterday:/^yesterday/i,today:/^t(oday)?/i,tomorrow:/^tomorrow/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^min(ute)?s?/i,hour:/^h(ou)?rs?/i,week:/^w(ee)?k/i,month:/^m(o(nth)?s?)?/i,day:/^d(ays?)?/i,year:/^y((ea)?rs?)?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a|p)/i},abbreviatedTimeZoneStandard:{GMT:"-000",EST:"-0400",CST:"-0500",MST:"-0600",PST:"-0700"},abbreviatedTimeZoneDST:{GMT:"-000",EDT:"-0500",CDT:"-0600",MDT:"-0700",PDT:"-0800"}},Date.getMonthNumberFromName=function(e){for(var t=Date.CultureInfo.monthNames,n=Date.CultureInfo.abbreviatedMonthNames,i=e.toLowerCase(),r=0;r<t.length;r++)if(t[r].toLowerCase()==i||n[r].toLowerCase()==i)return r;return-1},Date.getDayNumberFromName=function(e){for(var t=Date.CultureInfo.dayNames,n=Date.CultureInfo.abbreviatedDayNames,i=(Date.CultureInfo.shortestDayNames,e.toLowerCase()),r=0;r<t.length;r++)if(t[r].toLowerCase()==i||n[r].toLowerCase()==i)return r;return-1},Date.isLeapYear=function(e){return e%4===0&&e%100!==0||e%400===0},Date.getDaysInMonth=function(e,t){return[31,Date.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},Date.getTimezoneOffset=function(e,t){return t?Date.CultureInfo.abbreviatedTimeZoneDST[e.toUpperCase()]:Date.CultureInfo.abbreviatedTimeZoneStandard[e.toUpperCase()]},Date.getTimezoneAbbreviation=function(e,t){var n,i=t?Date.CultureInfo.abbreviatedTimeZoneDST:Date.CultureInfo.abbreviatedTimeZoneStandard;for(n in i)if(i[n]===e)return n;return null},Date.prototype.clone=function(){return new Date(this.getTime())},Date.prototype.compareTo=function(e){if(isNaN(this))throw new Error(this);if(e instanceof Date&&!isNaN(e))return this>e?1:e>this?-1:0;throw new TypeError(e)},Date.prototype.equals=function(e){return 0===this.compareTo(e)},Date.prototype.between=function(e,t){var n=this.getTime();return n>=e.getTime()&&n<=t.getTime()},Date.prototype.addMilliseconds=function(e){return this.setMilliseconds(this.getMilliseconds()+e),this},Date.prototype.addSeconds=function(e){return this.addMilliseconds(1e3*e)},Date.prototype.addMinutes=function(e){return this.addMilliseconds(6e4*e)},Date.prototype.addHours=function(e){return this.addMilliseconds(36e5*e)},Date.prototype.addDays=function(e){return this.addMilliseconds(864e5*e)},Date.prototype.addWeeks=function(e){return this.addMilliseconds(6048e5*e)},Date.prototype.addMonths=function(e){var t=this.getDate();return this.setDate(1),this.setMonth(this.getMonth()+e),this.setDate(Math.min(t,this.getDaysInMonth())),this},Date.prototype.addYears=function(e){return this.addMonths(12*e)},Date.prototype.add=function(e){if("number"==typeof e)return this._orient=e,this;var t=e;return(t.millisecond||t.milliseconds)&&this.addMilliseconds(t.millisecond||t.milliseconds),(t.second||t.seconds)&&this.addSeconds(t.second||t.seconds),(t.minute||t.minutes)&&this.addMinutes(t.minute||t.minutes),(t.hour||t.hours)&&this.addHours(t.hour||t.hours),(t.month||t.months)&&this.addMonths(t.month||t.months),(t.year||t.years)&&this.addYears(t.year||t.years),(t.day||t.days)&&this.addDays(t.day||t.days),this},Date._validate=function(e,t,n,i){if("number"!=typeof e)throw new TypeError(e+" is not a Number.");if(t>e||e>n)throw new RangeError(e+" is not a valid value for "+i+".");return!0},Date.validateMillisecond=function(e){return Date._validate(e,0,999,"milliseconds")},Date.validateSecond=function(e){return Date._validate(e,0,59,"seconds")},Date.validateMinute=function(e){return Date._validate(e,0,59,"minutes")},Date.validateHour=function(e){return Date._validate(e,0,23,"hours")},Date.validateDay=function(e,t,n){return Date._validate(e,1,Date.getDaysInMonth(t,n),"days")},Date.validateMonth=function(e){return Date._validate(e,0,11,"months")},Date.validateYear=function(e){return Date._validate(e,1,9999,"seconds")},Date.prototype.set=function(e){var t=e;return t.millisecond||0===t.millisecond||(t.millisecond=-1),t.second||0===t.second||(t.second=-1),t.minute||0===t.minute||(t.minute=-1),t.hour||0===t.hour||(t.hour=-1),t.day||0===t.day||(t.day=-1),t.month||0===t.month||(t.month=-1),t.year||0===t.year||(t.year=-1),-1!=t.millisecond&&Date.validateMillisecond(t.millisecond)&&this.addMilliseconds(t.millisecond-this.getMilliseconds()),-1!=t.second&&Date.validateSecond(t.second)&&this.addSeconds(t.second-this.getSeconds()),-1!=t.minute&&Date.validateMinute(t.minute)&&this.addMinutes(t.minute-this.getMinutes()),-1!=t.hour&&Date.validateHour(t.hour)&&this.addHours(t.hour-this.getHours()),-1!==t.month&&Date.validateMonth(t.month)&&this.addMonths(t.month-this.getMonth()),-1!=t.year&&Date.validateYear(t.year)&&this.addYears(t.year-this.getFullYear()),-1!=t.day&&Date.validateDay(t.day,this.getFullYear(),this.getMonth())&&this.addDays(t.day-this.getDate()),t.timezone&&this.setTimezone(t.timezone),t.timezoneOffset&&this.setTimezoneOffset(t.timezoneOffset),this
},Date.prototype.clearTime=function(){return this.setHours(0),this.setMinutes(0),this.setSeconds(0),this.setMilliseconds(0),this},Date.prototype.isLeapYear=function(){var e=this.getFullYear();return e%4===0&&e%100!==0||e%400===0},Date.prototype.isWeekday=function(){return!(this.is().sat()||this.is().sun())},Date.prototype.getDaysInMonth=function(){return Date.getDaysInMonth(this.getFullYear(),this.getMonth())},Date.prototype.moveToFirstDayOfMonth=function(){return this.set({day:1})},Date.prototype.moveToLastDayOfMonth=function(){return this.set({day:this.getDaysInMonth()})},Date.prototype.moveToDayOfWeek=function(e,t){var n=(e-this.getDay()+7*(t||1))%7;return this.addDays(0===n?n+=7*(t||1):n)},Date.prototype.moveToMonth=function(e,t){var n=(e-this.getMonth()+12*(t||1))%12;return this.addMonths(0===n?n+=12*(t||1):n)},Date.prototype.getDayOfYear=function(){return Math.floor((this-new Date(this.getFullYear(),0,1))/864e5)},Date.prototype.getWeekOfYear=function(e){var t=this.getFullYear(),n=this.getMonth(),i=this.getDate(),r=e||Date.CultureInfo.firstDayOfWeek,o=8-new Date(t,0,1).getDay();8==o&&(o=1);var a=(Date.UTC(t,n,i,0,0,0)-Date.UTC(t,0,1,0,0,0))/864e5+1,s=Math.floor((a-o+7)/7);if(s===r){t--;var l=8-new Date(t,0,1).getDay();s=2==l||8==l?53:52}return s},Date.prototype.isDST=function(){return console.log("isDST"),"D"==this.toString().match(/(E|C|M|P)(S|D)T/)[2]},Date.prototype.getTimezone=function(){return Date.getTimezoneAbbreviation(this.getUTCOffset,this.isDST())},Date.prototype.setTimezoneOffset=function(e){var t=this.getTimezoneOffset(),n=-6*Number(e)/10;return this.addMinutes(n-t),this},Date.prototype.setTimezone=function(e){return this.setTimezoneOffset(Date.getTimezoneOffset(e))},Date.prototype.getUTCOffset=function(){var e,t=-10*this.getTimezoneOffset()/6;return 0>t?(e=(t-1e4).toString(),e[0]+e.substr(2)):(e=(t+1e4).toString(),"+"+e.substr(1))},Date.prototype.getDayName=function(e){return e?Date.CultureInfo.abbreviatedDayNames[this.getDay()]:Date.CultureInfo.dayNames[this.getDay()]},Date.prototype.getMonthName=function(e){return e?Date.CultureInfo.abbreviatedMonthNames[this.getMonth()]:Date.CultureInfo.monthNames[this.getMonth()]},Date.prototype._toString=Date.prototype.toString,Date.prototype.toString=function(e){var t=this,n=function(e){return 1==e.toString().length?"0"+e:e};return e?e.replace(/dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?/g,function(e){switch(e){case"hh":return n(t.getHours()<13?t.getHours():t.getHours()-12);case"h":return t.getHours()<13?t.getHours():t.getHours()-12;case"HH":return n(t.getHours());case"H":return t.getHours();case"mm":return n(t.getMinutes());case"m":return t.getMinutes();case"ss":return n(t.getSeconds());case"s":return t.getSeconds();case"yyyy":return t.getFullYear();case"yy":return t.getFullYear().toString().substring(2,4);case"dddd":return t.getDayName();case"ddd":return t.getDayName(!0);case"dd":return n(t.getDate());case"d":return t.getDate().toString();case"MMMM":return t.getMonthName();case"MMM":return t.getMonthName(!0);case"MM":return n(t.getMonth()+1);case"M":return t.getMonth()+1;case"t":return t.getHours()<12?Date.CultureInfo.amDesignator.substring(0,1):Date.CultureInfo.pmDesignator.substring(0,1);case"tt":return t.getHours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator;case"zzz":case"zz":case"z":return""}}):this._toString()},Date.now=function(){return new Date},Date.today=function(){return Date.now().clearTime()},Date.prototype._orient=1,Date.prototype.next=function(){return this._orient=1,this},Date.prototype.last=Date.prototype.prev=Date.prototype.previous=function(){return this._orient=-1,this},Date.prototype._is=!1,Date.prototype.is=function(){return this._is=!0,this},Number.prototype._dateElement="day",Number.prototype.fromNow=function(){var e={};return e[this._dateElement]=this,Date.now().add(e)},Number.prototype.ago=function(){var e={};return e[this._dateElement]=-1*this,Date.now().add(e)},function(){for(var e,t=Date.prototype,n=Number.prototype,i="sunday monday tuesday wednesday thursday friday saturday".split(/\s/),r="january february march april may june july august september october november december".split(/\s/),o="Millisecond Second Minute Hour Day Week Month Year".split(/\s/),a=function(e){return function(){return this._is?(this._is=!1,this.getDay()==e):this.moveToDayOfWeek(e,this._orient)}},s=0;s<i.length;s++)t[i[s]]=t[i[s].substring(0,3)]=a(s);for(var l=function(e){return function(){return this._is?(this._is=!1,this.getMonth()===e):this.moveToMonth(e,this._orient)}},c=0;c<r.length;c++)t[r[c]]=t[r[c].substring(0,3)]=l(c);for(var u=function(e){return function(){return"s"!=e.substring(e.length-1)&&(e+="s"),this["add"+e](this._orient)}},d=function(e){return function(){return this._dateElement=e,this}},f=0;f<o.length;f++)e=o[f].toLowerCase(),t[e]=t[e+"s"]=u(o[f]),n[e]=n[e+"s"]=d(e)}(),Date.prototype.toJSONString=function(){return this.toString("yyyy-MM-ddThh:mm:ssZ")},Date.prototype.toShortDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortDatePattern)},Date.prototype.toLongDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.longDatePattern)},Date.prototype.toShortTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortTimePattern)},Date.prototype.toLongTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.longTimePattern)},Date.prototype.getOrdinal=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},function(){Date.Parsing={Exception:function(e){this.message="Parse error at '"+e.substring(0,10)+" ...'"}};for(var e=Date.Parsing,t=e.Operators={rtoken:function(t){return function(n){var i=n.match(t);if(i)return[i[0],n.substring(i[0].length)];throw new e.Exception(n)}},token:function(){return function(e){return t.rtoken(new RegExp("^s*"+e+"s*"))(e)}},stoken:function(e){return t.rtoken(new RegExp("^"+e))},until:function(e){return function(t){for(var n=[],i=null;t.length;){try{i=e.call(this,t)}catch(r){n.push(i[0]),t=i[1];continue}break}return[n,t]}},many:function(e){return function(t){for(var n=[],i=null;t.length;){try{i=e.call(this,t)}catch(r){return[n,t]}n.push(i[0]),t=i[1]}return[n,t]}},optional:function(e){return function(t){var n=null;try{n=e.call(this,t)}catch(i){return[null,t]}return[n[0],n[1]]}},not:function(t){return function(n){try{t.call(this,n)}catch(i){return[null,n]}throw new e.Exception(n)}},ignore:function(e){return e?function(t){var n=null;return n=e.call(this,t),[null,n[1]]}:null},product:function(){for(var e=arguments[0],n=Array.prototype.slice.call(arguments,1),i=[],r=0;r<e.length;r++)i.push(t.each(e[r],n));return i},cache:function(t){var n={},i=null;return function(r){try{i=n[r]=n[r]||t.call(this,r)}catch(o){i=n[r]=o}if(i instanceof e.Exception)throw i;return i}},any:function(){var t=arguments;return function(n){for(var i=null,r=0;r<t.length;r++)if(null!=t[r]){try{i=t[r].call(this,n)}catch(o){i=null}if(i)return i}throw new e.Exception(n)}},each:function(){var t=arguments;return function(n){for(var i=[],r=null,o=0;o<t.length;o++)if(null!=t[o]){try{r=t[o].call(this,n)}catch(a){throw new e.Exception(n)}i.push(r[0]),n=r[1]}return[i,n]}},all:function(){var e=arguments,t=t;return t.each(t.optional(e))},sequence:function(n,i,r){return i=i||t.rtoken(/^\s*/),r=r||null,1==n.length?n[0]:function(t){for(var o=null,a=null,s=[],l=0;l<n.length;l++){try{o=n[l].call(this,t)}catch(c){break}s.push(o[0]);try{a=i.call(this,o[1])}catch(u){a=null;break}t=a[1]}if(!o)throw new e.Exception(t);if(a)throw new e.Exception(a[1]);if(r)try{o=r.call(this,o[1])}catch(d){throw new e.Exception(o[1])}return[s,o?o[1]:t]}},between:function(e,n,i){i=i||e;var o=t.each(t.ignore(e),n,t.ignore(i));return function(e){var t=o.call(this,e);return[[t[0][0],r[0][2]],t[1]]}},list:function(e,n,i){return n=n||t.rtoken(/^\s*/),i=i||null,e instanceof Array?t.each(t.product(e.slice(0,-1),t.ignore(n)),e.slice(-1),t.ignore(i)):t.each(t.many(t.each(e,t.ignore(n))),px,t.ignore(i))},set:function(n,i,r){return i=i||t.rtoken(/^\s*/),r=r||null,function(o){for(var a=null,s=null,l=null,c=null,u=[[],o],d=!1,f=0;f<n.length;f++){l=null,s=null,a=null,d=1==n.length;try{a=n[f].call(this,o)}catch(h){continue}if(c=[[a[0]],a[1]],a[1].length>0&&!d)try{l=i.call(this,a[1])}catch(p){d=!0}else d=!0;if(d||0!==l[1].length||(d=!0),!d){for(var m=[],g=0;g<n.length;g++)f!=g&&m.push(n[g]);s=t.set(m,i).call(this,l[1]),s[0].length>0&&(c[0]=c[0].concat(s[0]),c[1]=s[1])}if(c[1].length<u[1].length&&(u=c),0===u[1].length)break}if(0===u[0].length)return u;if(r){try{l=r.call(this,u[1])}catch(v){throw new e.Exception(u[1])}u[1]=l[1]}return u}},forward:function(e,t){return function(n){return e[t].call(this,n)}},replace:function(e,t){return function(n){var i=e.call(this,n);return[t,i[1]]}},process:function(e,t){return function(n){var i=e.call(this,n);return[t.call(this,i[0]),i[1]]}},min:function(t,n){return function(i){var r=n.call(this,i);if(r[0].length<t)throw new e.Exception(i);return r}}},n=function(e){return function(){var t=null,n=[];if(arguments.length>1?t=Array.prototype.slice.call(arguments):arguments[0]instanceof Array&&(t=arguments[0]),!t)return e.apply(null,arguments);for(var i=0,r=t.shift();i<r.length;i++)return t.unshift(r[i]),n.push(e.apply(null,t)),t.shift(),n}},i="optional not ignore cache".split(/\s/),o=0;o<i.length;o++)t[i[o]]=n(t[i[o]]);for(var a=function(e){return function(){return arguments[0]instanceof Array?e.apply(null,arguments[0]):e.apply(null,arguments)}},s="each any all".split(/\s/),l=0;l<s.length;l++)t[s[l]]=a(t[s[l]])}(),function(){var e=function(t){for(var n=[],i=0;i<t.length;i++)t[i]instanceof Array?n=n.concat(e(t[i])):t[i]&&n.push(t[i]);return n};Date.Grammar={},Date.Translator={hour:function(e){return function(){this.hour=Number(e)}},minute:function(e){return function(){this.minute=Number(e)}},second:function(e){return function(){this.second=Number(e)}},meridian:function(e){return function(){this.meridian=e.slice(0,1).toLowerCase()}},timezone:function(e){return function(){var t=e.replace(/[^\d\+\-]/g,"");t.length?this.timezoneOffset=Number(t):this.timezone=e.toLowerCase()}},day:function(e){var t=e[0];return function(){this.day=Number(t.match(/\d+/)[0])}},month:function(e){return function(){this.month=3==e.length?Date.getMonthNumberFromName(e):Number(e)-1}},year:function(e){return function(){var t=Number(e);this.year=e.length>2?t:t+(t+2e3<Date.CultureInfo.twoDigitYearMax?2e3:1900)}},rday:function(e){return function(){switch(e){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0,this.now=!0}}},finishExact:function(e){e=e instanceof Array?e:[e];var t=new Date;this.year=t.getFullYear(),this.month=t.getMonth(),this.day=1,this.hour=0,this.minute=0,this.second=0;for(var n=0;n<e.length;n++)e[n]&&e[n].call(this);if(this.hour="p"==this.meridian&&this.hour<13?this.hour+12:this.hour,this.day>Date.getDaysInMonth(this.year,this.month))throw new RangeError(this.day+" is not a valid value for days.");var i=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);return this.timezone?i.set({timezone:this.timezone}):this.timezoneOffset&&i.set({timezoneOffset:this.timezoneOffset}),i},finish:function(t){if(t=t instanceof Array?e(t):[t],0===t.length)return null;for(var n=0;n<t.length;n++)"function"==typeof t[n]&&t[n].call(this);if(this.now)return new Date;var i=Date.today(),r=!(null==this.days&&!this.orient&&!this.operator);if(r){var o,a,s;return s="past"==this.orient||"subtract"==this.operator?-1:1,this.weekday&&(this.unit="day",o=Date.getDayNumberFromName(this.weekday)-i.getDay(),a=7,this.days=o?(o+s*a)%a:s*a),this.month&&(this.unit="month",o=this.month-i.getMonth(),a=12,this.months=o?(o+s*a)%a:s*a,this.month=null),this.unit||(this.unit="day"),(null==this[this.unit+"s"]||null!=this.operator)&&(this.value||(this.value=1),"week"==this.unit&&(this.unit="day",this.value=7*this.value),this[this.unit+"s"]=this.value*s),i.add(this)}return this.meridian&&this.hour&&(this.hour=this.hour<13&&"p"==this.meridian?this.hour+12:this.hour),this.weekday&&!this.day&&(this.day=i.addDays(Date.getDayNumberFromName(this.weekday)-i.getDay()).getDate()),this.month&&!this.day&&(this.day=1),i.set(this)}};var t,n=Date.Parsing.Operators,i=Date.Grammar,r=Date.Translator;i.datePartDelimiter=n.rtoken(/^([\s\-\.\,\/\x27]+)/),i.timePartDelimiter=n.stoken(":"),i.whiteSpace=n.rtoken(/^\s*/),i.generalDelimiter=n.rtoken(/^(([\s\,]|at|on)+)/);var o={};i.ctoken=function(e){var t=o[e];if(!t){for(var i=Date.CultureInfo.regexPatterns,r=e.split(/\s+/),a=[],s=0;s<r.length;s++)a.push(n.replace(n.rtoken(i[r[s]]),r[s]));t=o[e]=n.any.apply(null,a)}return t},i.ctoken2=function(e){return n.rtoken(Date.CultureInfo.regexPatterns[e])},i.h=n.cache(n.process(n.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),r.hour)),i.hh=n.cache(n.process(n.rtoken(/^(0[0-9]|1[0-2])/),r.hour)),i.H=n.cache(n.process(n.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),r.hour)),i.HH=n.cache(n.process(n.rtoken(/^([0-1][0-9]|2[0-3])/),r.hour)),i.m=n.cache(n.process(n.rtoken(/^([0-5][0-9]|[0-9])/),r.minute)),i.mm=n.cache(n.process(n.rtoken(/^[0-5][0-9]/),r.minute)),i.s=n.cache(n.process(n.rtoken(/^([0-5][0-9]|[0-9])/),r.second)),i.ss=n.cache(n.process(n.rtoken(/^[0-5][0-9]/),r.second)),i.hms=n.cache(n.sequence([i.H,i.mm,i.ss],i.timePartDelimiter)),i.t=n.cache(n.process(i.ctoken2("shortMeridian"),r.meridian)),i.tt=n.cache(n.process(i.ctoken2("longMeridian"),r.meridian)),i.z=n.cache(n.process(n.rtoken(/^(\+|\-)?\s*\d\d\d\d?/),r.timezone)),i.zz=n.cache(n.process(n.rtoken(/^(\+|\-)\s*\d\d\d\d/),r.timezone)),i.zzz=n.cache(n.process(i.ctoken2("timezone"),r.timezone)),i.timeSuffix=n.each(n.ignore(i.whiteSpace),n.set([i.tt,i.zzz])),i.time=n.each(n.optional(n.ignore(n.stoken("T"))),i.hms,i.timeSuffix),i.d=n.cache(n.process(n.each(n.rtoken(/^([0-2]\d|3[0-1]|\d)/),n.optional(i.ctoken2("ordinalSuffix"))),r.day)),i.dd=n.cache(n.process(n.each(n.rtoken(/^([0-2]\d|3[0-1])/),n.optional(i.ctoken2("ordinalSuffix"))),r.day)),i.ddd=i.dddd=n.cache(n.process(i.ctoken("sun mon tue wed thu fri sat"),function(e){return function(){this.weekday=e}})),i.M=n.cache(n.process(n.rtoken(/^(1[0-2]|0\d|\d)/),r.month)),i.MM=n.cache(n.process(n.rtoken(/^(1[0-2]|0\d)/),r.month)),i.MMM=i.MMMM=n.cache(n.process(i.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),r.month)),i.y=n.cache(n.process(n.rtoken(/^(\d\d?)/),r.year)),i.yy=n.cache(n.process(n.rtoken(/^(\d\d)/),r.year)),i.yyy=n.cache(n.process(n.rtoken(/^(\d\d?\d?\d?)/),r.year)),i.yyyy=n.cache(n.process(n.rtoken(/^(\d\d\d\d)/),r.year)),t=function(){return n.each(n.any.apply(null,arguments),n.not(i.ctoken2("timeContext")))},i.day=t(i.d,i.dd),i.month=t(i.M,i.MMM),i.year=t(i.yyyy,i.yy),i.orientation=n.process(i.ctoken("past future"),function(e){return function(){this.orient=e}}),i.operator=n.process(i.ctoken("add subtract"),function(e){return function(){this.operator=e}}),i.rday=n.process(i.ctoken("yesterday tomorrow today now"),r.rday),i.unit=n.process(i.ctoken("minute hour day week month year"),function(e){return function(){this.unit=e}}),i.value=n.process(n.rtoken(/^\d\d?(st|nd|rd|th)?/),function(e){return function(){this.value=e.replace(/\D/g,"")}}),i.expression=n.set([i.rday,i.operator,i.value,i.unit,i.orientation,i.ddd,i.MMM]),t=function(){return n.set(arguments,i.datePartDelimiter)},i.mdy=t(i.ddd,i.month,i.day,i.year),i.ymd=t(i.ddd,i.year,i.month,i.day),i.dmy=t(i.ddd,i.day,i.month,i.year),i.date=function(e){return(i[Date.CultureInfo.dateElementOrder]||i.mdy).call(this,e)},i.format=n.process(n.many(n.any(n.process(n.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(e){if(i[e])return i[e];throw Date.Parsing.Exception(e)}),n.process(n.rtoken(/^[^dMyhHmstz]+/),function(e){return n.ignore(n.stoken(e))}))),function(e){return n.process(n.each.apply(null,e),r.finishExact)});var a={},s=function(e){return a[e]=a[e]||i.format(e)[0]};i.formats=function(e){if(e instanceof Array){for(var t=[],i=0;i<e.length;i++)t.push(s(e[i]));return n.any.apply(null,t)}return s(e)},i._formats=i.formats(["yyyy-MM-ddTHH:mm:ss","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","d"]),i._start=n.process(n.set([i.date,i.time,i.expression],i.generalDelimiter,i.whiteSpace),r.finish),i.start=function(e){try{var t=i._formats.call({},e);if(0===t[1].length)return t}catch(n){}return i._start.call({},e)}}(),Date._parse=Date.parse,Date.parse=function(e){var t=null;if(!e)return null;try{t=Date.Grammar.start.call({},e)}catch(n){return null}return 0===t[1].length?t[0]:null},Date.getParseFunction=function(e){var t=Date.Grammar.formats(e);return function(e){var n=null;try{n=t.call({},e)}catch(i){return null}return 0===n[1].length?n[0]:null}},Date.parseExact=function(e,t){return Date.getParseFunction(t)(e)},function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){"use strict";var t,n,i,r,o,a,s,l,c,u,d,f,h,p,m,g,v,b,y,x,C,w,k,_,E,S,N,T,M,A,R,D,P={},B=0;t=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:void 0,normalRangeMax:void 0,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:void 0,chartRangeMax:void 0,chartRangeMinX:void 0,chartRangeMaxX:void 0,tooltipFormat:new i('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:void 0,nullColor:void 0,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:void 0,chartRangeMin:void 0,chartRangeClip:!1,colorMap:void 0,tooltipFormat:new i('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new i('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:void 0,thresholdValue:0,chartRangeMax:void 0,chartRangeMin:void 0,chartRangeClip:!1,tooltipFormat:new i("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:void 0,tooltipFormat:new i("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new i('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:void 0,targetColor:"#4a2",chartRangeMax:void 0,chartRangeMin:void 0,tooltipFormat:new i("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},S='.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}',n=function(){var t,n;return t=function(){this.init.apply(this,arguments)},arguments.length>1?(arguments[0]?(t.prototype=e.extend(new arguments[0],arguments[arguments.length-1]),t._super=arguments[0].prototype):t.prototype=arguments[arguments.length-1],arguments.length>2&&(n=Array.prototype.slice.call(arguments,1,-1),n.unshift(t.prototype),e.extend.apply(e,n))):t.prototype=arguments[0],t.prototype.cls=t,t},e.SPFormatClass=i=n({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(e,t){this.format=e,this.fclass=t},render:function(e,t,n){var i,r,o,a,s,l=this,u=e;return this.format.replace(this.fre,function(){var e;return r=arguments[1],o=arguments[3],i=l.precre.exec(r),i?(s=i[2],r=i[1]):s=!1,a=u[r],void 0===a?"":o&&t&&t[o]?(e=t[o],e.get?t[o].get(a)||a:t[o][a]||a):(c(a)&&(a=n.get("numberFormatter")?n.get("numberFormatter")(a):p(a,s,n.get("numberDigitGroupCount"),n.get("numberDigitGroupSep"),n.get("numberDecimalMark"))),a)})}}),e.spformat=function(e,t){return new i(e,t)},r=function(e,t,n){return t>e?t:e>n?n:e},o=function(e,t){var n;return 2===t?(n=Math.floor(e.length/2),e.length%2?e[n]:(e[n-1]+e[n])/2):e.length%2?(n=(e.length*t+t)/4,n%1?(e[Math.floor(n)]+e[Math.floor(n)-1])/2:e[n-1]):(n=(e.length*t+2)/4,n%1?(e[Math.floor(n)]+e[Math.floor(n)-1])/2:e[n-1])},a=function(e){var t;switch(e){case"undefined":e=void 0;break;case"null":e=null;break;case"true":e=!0;break;case"false":e=!1;break;default:t=parseFloat(e),e==t&&(e=t)}return e},s=function(e){var t,n=[];for(t=e.length;t--;)n[t]=a(e[t]);return n},l=function(e,t){var n,i,r=[];for(n=0,i=e.length;i>n;n++)e[n]!==t&&r.push(e[n]);return r},c=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},p=function(t,n,i,r,o){var a,s;for(t=(n===!1?parseFloat(t).toString():t.toFixed(n)).split(""),a=(a=e.inArray(".",t))<0?t.length:a,a<t.length&&(t[a]=o),s=a-i;s>0;s-=i)t.splice(s,0,r);return t.join("")},u=function(e,t,n){var i;for(i=t.length;i--;)if((!n||null!==t[i])&&t[i]!==e)return!1;return!0},d=function(e){var t,n=0;for(t=e.length;t--;)n+="number"==typeof e[t]?e[t]:0;return n},h=function(t){return e.isArray(t)?t:[t]},f=function(e){var t;document.createStyleSheet?document.createStyleSheet().cssText=e:(t=document.createElement("style"),t.type="text/css",document.getElementsByTagName("head")[0].appendChild(t),t["string"==typeof document.body.style.WebkitAppearance?"innerText":"innerHTML"]=e)},e.fn.simpledraw=function(t,n,i,r){var o,a;if(i&&(o=this.data("_jqs_vcanvas")))return o;if(void 0===t&&(t=e(this).innerWidth()),void 0===n&&(n=e(this).innerHeight()),e.fn.sparkline.hasCanvas)o=new A(t,n,this,r);else{if(!e.fn.sparkline.hasVML)return!1;o=new R(t,n,this)}return a=e(this).data("_jqs_mhandler"),a&&a.registerCanvas(o),o},e.fn.cleardraw=function(){var e=this.data("_jqs_vcanvas");e&&e.reset()},e.RangeMapClass=m=n({init:function(e){var t,n,i=[];for(t in e)e.hasOwnProperty(t)&&"string"==typeof t&&t.indexOf(":")>-1&&(n=t.split(":"),n[0]=0===n[0].length?-1/0:parseFloat(n[0]),n[1]=0===n[1].length?1/0:parseFloat(n[1]),n[2]=e[t],i.push(n));this.map=e,this.rangelist=i||!1},get:function(e){var t,n,i,r=this.rangelist;if(void 0!==(i=this.map[e]))return i;if(r)for(t=r.length;t--;)if(n=r[t],n[0]<=e&&n[1]>=e)return n[2];return void 0}}),e.range_map=function(e){return new m(e)},g=n({init:function(t,n){var i=e(t);this.$el=i,this.options=n,this.currentPageX=0,this.currentPageY=0,this.el=t,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!n.get("disableTooltips"),this.highlightEnabled=!n.get("disableHighlight")},registerSparkline:function(e){this.splist.push(e),this.over&&this.updateDisplay()},registerCanvas:function(t){var n=e(t.canvas);this.canvas=t,this.$canvas=n,n.mouseenter(e.proxy(this.mouseenter,this)),n.mouseleave(e.proxy(this.mouseleave,this)),n.click(e.proxy(this.mouseclick,this))},reset:function(e){this.splist=[],this.tooltip&&e&&(this.tooltip.remove(),this.tooltip=void 0)},mouseclick:function(t){var n=e.Event("sparklineClick");n.originalEvent=t,n.sparklines=this.splist,this.$el.trigger(n)},mouseenter:function(t){e(document.body).unbind("mousemove.jqs"),e(document.body).bind("mousemove.jqs",e.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=t.pageX,this.currentPageY=t.pageY,this.currentEl=t.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new v(this.options),this.tooltip.updatePosition(t.pageX,t.pageY)),this.updateDisplay()},mouseleave:function(){e(document.body).unbind("mousemove.jqs");var t,n,i=this.splist,r=i.length,o=!1;for(this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null),n=0;r>n;n++)t=i[n],t.clearRegionHighlight()&&(o=!0);o&&this.canvas.render()},mousemove:function(e){this.currentPageX=e.pageX,this.currentPageY=e.pageY,this.currentEl=e.target,this.tooltip&&this.tooltip.updatePosition(e.pageX,e.pageY),this.updateDisplay()},updateDisplay:function(){var t,n,i,r,o,a=this.splist,s=a.length,l=!1,c=this.$canvas.offset(),u=this.currentPageX-c.left,d=this.currentPageY-c.top;if(this.over){for(i=0;s>i;i++)n=a[i],r=n.setRegionHighlight(this.currentEl,u,d),r&&(l=!0);if(l){if(o=e.Event("sparklineRegionChange"),o.sparklines=this.splist,this.$el.trigger(o),this.tooltip){for(t="",i=0;s>i;i++)n=a[i],t+=n.getCurrentRegionTooltip();this.tooltip.setContent(t)}this.disableHighlight||this.canvas.render()}null===r&&this.mouseleave()}}}),v=n({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(t){var n,i=t.get("tooltipClassname","jqstooltip"),r=this.sizeStyle;this.container=t.get("tooltipContainer")||document.body,this.tooltipOffsetX=t.get("tooltipOffsetX",10),this.tooltipOffsetY=t.get("tooltipOffsetY",12),e("#jqssizetip").remove(),e("#jqstooltip").remove(),this.sizetip=e("<div/>",{id:"jqssizetip",style:r,"class":i}),this.tooltip=e("<div/>",{id:"jqstooltip","class":i}).appendTo(this.container),n=this.tooltip.offset(),this.offsetLeft=n.left,this.offsetTop=n.top,this.hidden=!0,e(window).unbind("resize.jqs scroll.jqs"),e(window).bind("resize.jqs scroll.jqs",e.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=e(window).scrollTop(),this.scrollLeft=e(window).scrollLeft(),this.scrollRight=this.scrollLeft+e(window).width(),this.updatePosition()},getSize:function(e){this.sizetip.html(e).appendTo(this.container),this.width=this.sizetip.width()+1,this.height=this.sizetip.height(),this.sizetip.remove()},setContent:function(e){return e?(this.getSize(e),this.tooltip.html(e).css({width:this.width,height:this.height,visibility:"visible"}),void(this.hidden&&(this.hidden=!1,this.updatePosition()))):(this.tooltip.css("visibility","hidden"),void(this.hidden=!0))},updatePosition:function(e,t){if(void 0===e){if(void 0===this.mousex)return;e=this.mousex-this.offsetLeft,t=this.mousey-this.offsetTop}else this.mousex=e-=this.offsetLeft,this.mousey=t-=this.offsetTop;this.height&&this.width&&!this.hidden&&(t-=this.height+this.tooltipOffsetY,e+=this.tooltipOffsetX,t<this.scrollTop&&(t=this.scrollTop),e<this.scrollLeft?e=this.scrollLeft:e+this.width>this.scrollRight&&(e=this.scrollRight-this.width),this.tooltip.css({left:e,top:t}))},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=void 0,e(window).unbind("resize.jqs scroll.jqs")}}),N=function(){f(S)},e(N),D=[],e.fn.sparkline=function(t,n){return this.each(function(){var i,r,o=new e.fn.sparkline.options(this,n),a=e(this);if(i=function(){var n,i,r,s,l,c,u;return"html"===t||void 0===t?(u=this.getAttribute(o.get("tagValuesAttribute")),(void 0===u||null===u)&&(u=a.html()),n=u.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")):n=t,i="auto"===o.get("width")?n.length*o.get("defaultPixelsPerValue"):o.get("width"),"auto"===o.get("height")?o.get("composite")&&e.data(this,"_jqs_vcanvas")||(s=document.createElement("span"),s.innerHTML="a",a.html(s),r=e(s).innerHeight()||e(s).height(),e(s).remove(),s=null):r=o.get("height"),o.get("disableInteraction")?l=!1:(l=e.data(this,"_jqs_mhandler"),l?o.get("composite")||l.reset():(l=new g(this,o),e.data(this,"_jqs_mhandler",l))),o.get("composite")&&!e.data(this,"_jqs_vcanvas")?void(e.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),e.data(this,"_jqs_errnotify",!0))):(c=new(e.fn.sparkline[o.get("type")])(this,n,o,i,r),c.render(),void(l&&l.registerSparkline(c)))},e(this).html()&&!o.get("disableHiddenCheck")&&e(this).is(":hidden")||e.fn.jquery<"1.3.0"&&e(this).parents().is(":hidden")||!e(this).parents("body").length){if(!o.get("composite")&&e.data(this,"_jqs_pending"))for(r=D.length;r;r--)D[r-1][0]==this&&D.splice(r-1,1);D.push([this,i]),e.data(this,"_jqs_pending",!0)}else i.call(this)})},e.fn.sparkline.defaults=t(),e.sparkline_display_visible=function(){var t,n,i,r=[];for(n=0,i=D.length;i>n;n++)t=D[n][0],e(t).is(":visible")&&!e(t).parents().is(":hidden")?(D[n][1].call(t),e.data(D[n][0],"_jqs_pending",!1),r.push(n)):e(t).closest("html").length||e.data(t,"_jqs_pending")||(e.data(D[n][0],"_jqs_pending",!1),r.push(n));for(n=r.length;n;n--)D.splice(r[n-1],1)},e.fn.sparkline.options=n({init:function(t,n){var i,r,o,a;this.userOptions=n=n||{},this.tag=t,this.tagValCache={},r=e.fn.sparkline.defaults,o=r.common,this.tagOptionsPrefix=n.enableTagOptions&&(n.tagOptionsPrefix||o.tagOptionsPrefix),a=this.getTagSetting("type"),i=a===P?r[n.type||o.type]:r[a],this.mergedOptions=e.extend({},o,i,n)},getTagSetting:function(e){var t,n,i,r,o=this.tagOptionsPrefix;if(o===!1||void 0===o)return P;if(this.tagValCache.hasOwnProperty(e))t=this.tagValCache.key;else{if(t=this.tag.getAttribute(o+e),void 0===t||null===t)t=P;else if("["===t.substr(0,1))for(t=t.substr(1,t.length-2).split(","),n=t.length;n--;)t[n]=a(t[n].replace(/(^\s*)|(\s*$)/g,""));else if("{"===t.substr(0,1))for(i=t.substr(1,t.length-2).split(","),t={},n=i.length;n--;)r=i[n].split(":",2),t[r[0].replace(/(^\s*)|(\s*$)/g,"")]=a(r[1].replace(/(^\s*)|(\s*$)/g,""));else t=a(t);this.tagValCache.key=t}return t},get:function(e,t){var n,i=this.getTagSetting(e);return i!==P?i:void 0===(n=this.mergedOptions[e])?t:n}}),e.fn.sparkline._base=n({disabled:!1,init:function(t,n,i,r,o){this.el=t,this.$el=e(t),this.values=n,this.options=i,this.width=r,this.height=o,this.currentRegion=void 0},initTarget:function(){var e=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),e))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return this.disabled?(this.el.innerHTML="",!1):!0},getRegion:function(){},setRegionHighlight:function(e,t,n){var i,r=this.currentRegion,o=!this.options.get("disableHighlight");return t>this.canvasWidth||n>this.canvasHeight||0>t||0>n?null:(i=this.getRegion(e,t,n),r!==i?(void 0!==r&&o&&this.removeHighlight(),this.currentRegion=i,void 0!==i&&o&&this.renderHighlight(),!0):!1)},clearRegionHighlight:function(){return void 0!==this.currentRegion?(this.removeHighlight(),this.currentRegion=void 0,!0):!1},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(){},getCurrentRegionTooltip:function(){var t,n,r,o,a,s,l,c,u,d,f,h,p,m,g=this.options,v="",b=[];if(void 0===this.currentRegion)return"";if(t=this.getCurrentRegionFields(),f=g.get("tooltipFormatter"))return f(this,g,t);if(g.get("tooltipChartTitle")&&(v+='<div class="jqs jqstitle">'+g.get("tooltipChartTitle")+"</div>\n"),n=this.options.get("tooltipFormat"),!n)return"";if(e.isArray(n)||(n=[n]),e.isArray(t)||(t=[t]),l=this.options.get("tooltipFormatFieldlist"),c=this.options.get("tooltipFormatFieldlistKey"),l&&c){for(u=[],s=t.length;s--;)d=t[s][c],-1!=(m=e.inArray(d,l))&&(u[m]=t[s]);t=u}for(r=n.length,p=t.length,s=0;r>s;s++)for(h=n[s],"string"==typeof h&&(h=new i(h)),o=h.fclass||"jqsfield",m=0;p>m;m++)t[m].isNull&&g.get("tooltipSkipNull")||(e.extend(t[m],{prefix:g.get("tooltipPrefix"),suffix:g.get("tooltipSuffix")}),a=h.render(t[m],g.get("tooltipValueLookups"),g),b.push('<div class="'+o+'">'+a+"</div>"));return b.length?v+b.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(e,t){var n,i,o,a,s=t.get("highlightColor"),l=t.get("highlightLighten");if(s)return s;if(l&&(n=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(e)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(e))){for(o=[],i=4===e.length?16:1,a=0;3>a;a++)o[a]=r(Math.round(parseInt(n[a+1],16)*i*l),0,255);return"rgb("+o.join(",")+")"}return e}}),b={changeHighlight:function(t){var n,i=this.currentRegion,r=this.target,o=this.regionShapes[i];
o&&(n=this.renderRegion(i,t),e.isArray(n)||e.isArray(o)?(r.replaceWithShapes(o,n),this.regionShapes[i]=e.map(n,function(e){return e.id})):(r.replaceWithShape(o,n),this.regionShapes[i]=n.id))},render:function(){var t,n,i,r,o=this.values,a=this.target,s=this.regionShapes;if(this.cls._super.render.call(this)){for(i=o.length;i--;)if(t=this.renderRegion(i))if(e.isArray(t)){for(n=[],r=t.length;r--;)t[r].append(),n.push(t[r].id);s[i]=n}else t.append(),s[i]=t.id;else s[i]=null;a.render()}}},e.fn.sparkline.line=y=n(e.fn.sparkline._base,{type:"line",init:function(e,t,n,i,r){y._super.init.call(this,e,t,n,i,r),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(e,t){var n,i=this.regionMap;for(n=i.length;n--;)if(null!==i[n]&&t>=i[n][0]&&t<=i[n][1])return i[n][2];return void 0},getCurrentRegionFields:function(){var e=this.currentRegion;return{isNull:null===this.yvalues[e],x:this.xvalues[e],y:this.yvalues[e],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:e}},renderHighlight:function(){var e,t,n=this.currentRegion,i=this.target,r=this.vertices[n],o=this.options,a=o.get("spotRadius"),s=o.get("highlightSpotColor"),l=o.get("highlightLineColor");r&&(a&&s&&(e=i.drawCircle(r[0],r[1],a,void 0,s),this.highlightSpotId=e.id,i.insertAfterShape(this.lastShapeId,e)),l&&(t=i.drawLine(r[0],this.canvasTop,r[0],this.canvasTop+this.canvasHeight,l),this.highlightLineId=t.id,i.insertAfterShape(this.lastShapeId,t)))},removeHighlight:function(){var e=this.target;this.highlightSpotId&&(e.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(e.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){var e,t,n,i,r,o=this.values,a=o.length,s=this.xvalues,l=this.yvalues,c=this.yminmax;for(e=0;a>e;e++)t=o[e],n="string"==typeof o[e],i="object"==typeof o[e]&&o[e]instanceof Array,r=n&&o[e].split(":"),n&&2===r.length?(s.push(Number(r[0])),l.push(Number(r[1])),c.push(Number(r[1]))):i?(s.push(t[0]),l.push(t[1]),c.push(t[1])):(s.push(e),null===o[e]||"null"===o[e]?l.push(null):(l.push(Number(t)),c.push(Number(t))));this.options.get("xvalues")&&(s=this.options.get("xvalues")),this.maxy=this.maxyorg=Math.max.apply(Math,c),this.miny=this.minyorg=Math.min.apply(Math,c),this.maxx=Math.max.apply(Math,s),this.minx=Math.min.apply(Math,s),this.xvalues=s,this.yvalues=l,this.yminmax=c},processRangeOptions:function(){var e=this.options,t=e.get("normalRangeMin"),n=e.get("normalRangeMax");void 0!==t&&(t<this.miny&&(this.miny=t),n>this.maxy&&(this.maxy=n)),void 0!==e.get("chartRangeMin")&&(e.get("chartRangeClip")||e.get("chartRangeMin")<this.miny)&&(this.miny=e.get("chartRangeMin")),void 0!==e.get("chartRangeMax")&&(e.get("chartRangeClip")||e.get("chartRangeMax")>this.maxy)&&(this.maxy=e.get("chartRangeMax")),void 0!==e.get("chartRangeMinX")&&(e.get("chartRangeClipX")||e.get("chartRangeMinX")<this.minx)&&(this.minx=e.get("chartRangeMinX")),void 0!==e.get("chartRangeMaxX")&&(e.get("chartRangeClipX")||e.get("chartRangeMaxX")>this.maxx)&&(this.maxx=e.get("chartRangeMaxX"))},drawNormalRange:function(e,t,n,i,r){var o=this.options.get("normalRangeMin"),a=this.options.get("normalRangeMax"),s=t+Math.round(n-n*((a-this.miny)/r)),l=Math.round(n*(a-o)/r);this.target.drawRect(e,s,i,l,void 0,this.options.get("normalRangeColor")).append()},render:function(){var t,n,i,r,o,a,s,l,c,u,d,f,h,p,g,v,b,x,C,w,k,_,E,S,N,T=this.options,M=this.target,A=this.canvasWidth,R=this.canvasHeight,D=this.vertices,P=T.get("spotRadius"),B=this.regionMap;if(y._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),E=this.xvalues,S=this.yvalues,this.yminmax.length&&!(this.yvalues.length<2))){for(r=o=0,t=this.maxx-this.minx===0?1:this.maxx-this.minx,n=this.maxy-this.miny===0?1:this.maxy-this.miny,i=this.yvalues.length-1,P&&(4*P>A||4*P>R)&&(P=0),P&&(k=T.get("highlightSpotColor")&&!T.get("disableInteraction"),(k||T.get("minSpotColor")||T.get("spotColor")&&S[i]===this.miny)&&(R-=Math.ceil(P)),(k||T.get("maxSpotColor")||T.get("spotColor")&&S[i]===this.maxy)&&(R-=Math.ceil(P),r+=Math.ceil(P)),(k||(T.get("minSpotColor")||T.get("maxSpotColor"))&&(S[0]===this.miny||S[0]===this.maxy))&&(o+=Math.ceil(P),A-=Math.ceil(P)),(k||T.get("spotColor")||T.get("minSpotColor")||T.get("maxSpotColor")&&(S[i]===this.miny||S[i]===this.maxy))&&(A-=Math.ceil(P))),R--,void 0===T.get("normalRangeMin")||T.get("drawNormalOnTop")||this.drawNormalRange(o,r,R,A,n),s=[],l=[s],p=g=null,v=S.length,N=0;v>N;N++)c=E[N],d=E[N+1],u=S[N],f=o+Math.round((c-this.minx)*(A/t)),h=v-1>N?o+Math.round((d-this.minx)*(A/t)):A,g=f+(h-f)/2,B[N]=[p||0,g,N],p=g,null===u?N&&(null!==S[N-1]&&(s=[],l.push(s)),D.push(null)):(u<this.miny&&(u=this.miny),u>this.maxy&&(u=this.maxy),s.length||s.push([f,r+R]),a=[f,r+Math.round(R-R*((u-this.miny)/n))],s.push(a),D.push(a));for(b=[],x=[],C=l.length,N=0;C>N;N++)s=l[N],s.length&&(T.get("fillColor")&&(s.push([s[s.length-1][0],r+R]),x.push(s.slice(0)),s.pop()),s.length>2&&(s[0]=[s[0][0],s[1][1]]),b.push(s));for(C=x.length,N=0;C>N;N++)M.drawShape(x[N],T.get("fillColor"),T.get("fillColor")).append();for(void 0!==T.get("normalRangeMin")&&T.get("drawNormalOnTop")&&this.drawNormalRange(o,r,R,A,n),C=b.length,N=0;C>N;N++)M.drawShape(b[N],T.get("lineColor"),void 0,T.get("lineWidth")).append();if(P&&T.get("valueSpots"))for(w=T.get("valueSpots"),void 0===w.get&&(w=new m(w)),N=0;v>N;N++)_=w.get(S[N]),_&&M.drawCircle(o+Math.round((E[N]-this.minx)*(A/t)),r+Math.round(R-R*((S[N]-this.miny)/n)),P,void 0,_).append();P&&T.get("spotColor")&&null!==S[i]&&M.drawCircle(o+Math.round((E[E.length-1]-this.minx)*(A/t)),r+Math.round(R-R*((S[i]-this.miny)/n)),P,void 0,T.get("spotColor")).append(),this.maxy!==this.minyorg&&(P&&T.get("minSpotColor")&&(c=E[e.inArray(this.minyorg,S)],M.drawCircle(o+Math.round((c-this.minx)*(A/t)),r+Math.round(R-R*((this.minyorg-this.miny)/n)),P,void 0,T.get("minSpotColor")).append()),P&&T.get("maxSpotColor")&&(c=E[e.inArray(this.maxyorg,S)],M.drawCircle(o+Math.round((c-this.minx)*(A/t)),r+Math.round(R-R*((this.maxyorg-this.miny)/n)),P,void 0,T.get("maxSpotColor")).append())),this.lastShapeId=M.getLastShapeId(),this.canvasTop=r,M.render()}}}),e.fn.sparkline.bar=x=n(e.fn.sparkline._base,b,{type:"bar",init:function(t,n,i,o,c){var u,d,f,h,p,g,v,b,y,C,w,k,_,E,S,N,T,M,A,R,D,P,B=parseInt(i.get("barWidth"),10),I=parseInt(i.get("barSpacing"),10),L=i.get("chartRangeMin"),F=i.get("chartRangeMax"),O=i.get("chartRangeClip"),H=1/0,z=-1/0;for(x._super.init.call(this,t,n,i,o,c),g=0,v=n.length;v>g;g++)R=n[g],u="string"==typeof R&&R.indexOf(":")>-1,(u||e.isArray(R))&&(S=!0,u&&(R=n[g]=s(R.split(":"))),R=l(R,null),d=Math.min.apply(Math,R),f=Math.max.apply(Math,R),H>d&&(H=d),f>z&&(z=f));this.stacked=S,this.regionShapes={},this.barWidth=B,this.barSpacing=I,this.totalBarWidth=B+I,this.width=o=n.length*B+(n.length-1)*I,this.initTarget(),O&&(_=void 0===L?-1/0:L,E=void 0===F?1/0:F),p=[],h=S?[]:p;var W=[],$=[];for(g=0,v=n.length;v>g;g++)if(S)for(N=n[g],n[g]=A=[],W[g]=0,h[g]=$[g]=0,T=0,M=N.length;M>T;T++)R=A[T]=O?r(N[T],_,E):N[T],null!==R&&(R>0&&(W[g]+=R),0>H&&z>0?0>R?$[g]+=Math.abs(R):h[g]+=R:h[g]+=Math.abs(R-(0>R?z:H)),p.push(R));else R=O?r(n[g],_,E):n[g],R=n[g]=a(R),null!==R&&p.push(R);this.max=k=Math.max.apply(Math,p),this.min=w=Math.min.apply(Math,p),this.stackMax=z=S?Math.max.apply(Math,W):k,this.stackMin=H=S?Math.min.apply(Math,p):w,void 0!==i.get("chartRangeMin")&&(i.get("chartRangeClip")||i.get("chartRangeMin")<w)&&(w=i.get("chartRangeMin")),void 0!==i.get("chartRangeMax")&&(i.get("chartRangeClip")||i.get("chartRangeMax")>k)&&(k=i.get("chartRangeMax")),this.zeroAxis=y=i.get("zeroAxis",!0),C=0>=w&&k>=0&&y?0:0==y?w:w>0?w:k,this.xaxisOffset=C,b=S?Math.max.apply(Math,h)+Math.max.apply(Math,$):k-w,this.canvasHeightEf=y&&0>w?this.canvasHeight-2:this.canvasHeight-1,C>w?(P=S&&k>=0?z:k,D=(P-C)/b*this.canvasHeight,D!==Math.ceil(D)&&(this.canvasHeightEf-=2,D=Math.ceil(D))):D=this.canvasHeight,this.yoffset=D,e.isArray(i.get("colorMap"))?(this.colorMapByIndex=i.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=i.get("colorMap"),this.colorMapByValue&&void 0===this.colorMapByValue.get&&(this.colorMapByValue=new m(this.colorMapByValue))),this.range=b},getRegion:function(e,t){var n=Math.floor(t/this.totalBarWidth);return 0>n||n>=this.values.length?void 0:n},getCurrentRegionFields:function(){var e,t,n=this.currentRegion,i=h(this.values[n]),r=[];for(t=i.length;t--;)e=i[t],r.push({isNull:null===e,value:e,color:this.calcColor(t,e,n),offset:n});return r},calcColor:function(t,n,i){var r,o,a=this.colorMapByIndex,s=this.colorMapByValue,l=this.options;return r=l.get(this.stacked?"stackedBarColor":0>n?"negBarColor":"barColor"),0===n&&void 0!==l.get("zeroColor")&&(r=l.get("zeroColor")),s&&(o=s.get(n))?r=o:a&&a.length>i&&(r=a[i]),e.isArray(r)?r[t%r.length]:r},renderRegion:function(t,n){var i,r,o,a,s,l,c,d,f,h,p=this.values[t],m=this.options,g=this.xaxisOffset,v=[],b=this.range,y=this.stacked,x=this.target,C=t*this.totalBarWidth,w=this.canvasHeightEf,k=this.yoffset;if(p=e.isArray(p)?p:[p],c=p.length,d=p[0],a=u(null,p),h=u(g,p,!0),a)return m.get("nullColor")?(o=n?m.get("nullColor"):this.calcHighlightColor(m.get("nullColor"),m),i=k>0?k-1:k,x.drawRect(C,i,this.barWidth-1,0,o,o)):void 0;for(s=k,l=0;c>l;l++){if(d=p[l],y&&d===g){if(!h||f)continue;f=!0}r=b>0?Math.floor(w*(Math.abs(d-g)/b))+1:1,g>d||d===g&&0===k?(i=s,s+=r):(i=k-r,k-=r),o=this.calcColor(l,d,t),n&&(o=this.calcHighlightColor(o,m)),v.push(x.drawRect(C,i,this.barWidth-1,r-1,o,o))}return 1===v.length?v[0]:v}}),e.fn.sparkline.tristate=C=n(e.fn.sparkline._base,b,{type:"tristate",init:function(t,n,i,r,o){var a=parseInt(i.get("barWidth"),10),s=parseInt(i.get("barSpacing"),10);C._super.init.call(this,t,n,i,r,o),this.regionShapes={},this.barWidth=a,this.barSpacing=s,this.totalBarWidth=a+s,this.values=e.map(n,Number),this.width=r=n.length*a+(n.length-1)*s,e.isArray(i.get("colorMap"))?(this.colorMapByIndex=i.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=i.get("colorMap"),this.colorMapByValue&&void 0===this.colorMapByValue.get&&(this.colorMapByValue=new m(this.colorMapByValue))),this.initTarget()},getRegion:function(e,t){return Math.floor(t/this.totalBarWidth)},getCurrentRegionFields:function(){var e=this.currentRegion;return{isNull:void 0===this.values[e],value:this.values[e],color:this.calcColor(this.values[e],e),offset:e}},calcColor:function(e,t){var n,i,r=this.values,o=this.options,a=this.colorMapByIndex,s=this.colorMapByValue;return n=s&&(i=s.get(e))?i:a&&a.length>t?a[t]:o.get(r[t]<0?"negBarColor":r[t]>0?"posBarColor":"zeroBarColor")},renderRegion:function(e,t){var n,i,r,o,a,s,l=this.values,c=this.options,u=this.target;return n=u.pixelHeight,r=Math.round(n/2),o=e*this.totalBarWidth,l[e]<0?(a=r,i=r-1):l[e]>0?(a=0,i=r-1):(a=r-1,i=2),s=this.calcColor(l[e],e),null!==s?(t&&(s=this.calcHighlightColor(s,c)),u.drawRect(o,a,this.barWidth-1,i-1,s,s)):void 0}}),e.fn.sparkline.discrete=w=n(e.fn.sparkline._base,b,{type:"discrete",init:function(t,n,i,r,o){w._super.init.call(this,t,n,i,r,o),this.regionShapes={},this.values=n=e.map(n,Number),this.min=Math.min.apply(Math,n),this.max=Math.max.apply(Math,n),this.range=this.max-this.min,this.width=r="auto"===i.get("width")?2*n.length:this.width,this.interval=Math.floor(r/n.length),this.itemWidth=r/n.length,void 0!==i.get("chartRangeMin")&&(i.get("chartRangeClip")||i.get("chartRangeMin")<this.min)&&(this.min=i.get("chartRangeMin")),void 0!==i.get("chartRangeMax")&&(i.get("chartRangeClip")||i.get("chartRangeMax")>this.max)&&(this.max=i.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight="auto"===i.get("lineHeight")?Math.round(.3*this.canvasHeight):i.get("lineHeight"))},getRegion:function(e,t){return Math.floor(t/this.itemWidth)},getCurrentRegionFields:function(){var e=this.currentRegion;return{isNull:void 0===this.values[e],value:this.values[e],offset:e}},renderRegion:function(e,t){var n,i,o,a,s=this.values,l=this.options,c=this.min,u=this.max,d=this.range,f=this.interval,h=this.target,p=this.canvasHeight,m=this.lineHeight,g=p-m;return i=r(s[e],c,u),a=e*f,n=Math.round(g-g*((i-c)/d)),o=l.get(l.get("thresholdColor")&&i<l.get("thresholdValue")?"thresholdColor":"lineColor"),t&&(o=this.calcHighlightColor(o,l)),h.drawLine(a,n,a,n+m,o)}}),e.fn.sparkline.bullet=k=n(e.fn.sparkline._base,{type:"bullet",init:function(e,t,n,i,r){var o,a,l;k._super.init.call(this,e,t,n,i,r),this.values=t=s(t),l=t.slice(),l[0]=null===l[0]?l[2]:l[0],l[1]=null===t[1]?l[2]:l[1],o=Math.min.apply(Math,t),a=Math.max.apply(Math,t),o=void 0===n.get("base")?0>o?o:0:n.get("base"),this.min=o,this.max=a,this.range=a-o,this.shapes={},this.valueShapes={},this.regiondata={},this.width=i="auto"===n.get("width")?"4.0em":i,this.target=this.$el.simpledraw(i,r,n.get("composite")),t.length||(this.disabled=!0),this.initTarget()},getRegion:function(e,t,n){var i=this.target.getShapeAt(e,t,n);return void 0!==i&&void 0!==this.shapes[i]?this.shapes[i]:void 0},getCurrentRegionFields:function(){var e=this.currentRegion;return{fieldkey:e.substr(0,1),value:this.values[e.substr(1)],region:e}},changeHighlight:function(e){var t,n=this.currentRegion,i=this.valueShapes[n];switch(delete this.shapes[i],n.substr(0,1)){case"r":t=this.renderRange(n.substr(1),e);break;case"p":t=this.renderPerformance(e);break;case"t":t=this.renderTarget(e)}this.valueShapes[n]=t.id,this.shapes[t.id]=n,this.target.replaceWithShape(i,t)},renderRange:function(e,t){var n=this.values[e],i=Math.round(this.canvasWidth*((n-this.min)/this.range)),r=this.options.get("rangeColors")[e-2];return t&&(r=this.calcHighlightColor(r,this.options)),this.target.drawRect(0,0,i-1,this.canvasHeight-1,r,r)},renderPerformance:function(e){var t=this.values[1],n=Math.round(this.canvasWidth*((t-this.min)/this.range)),i=this.options.get("performanceColor");return e&&(i=this.calcHighlightColor(i,this.options)),this.target.drawRect(0,Math.round(.3*this.canvasHeight),n-1,Math.round(.4*this.canvasHeight)-1,i,i)},renderTarget:function(e){var t=this.values[0],n=Math.round(this.canvasWidth*((t-this.min)/this.range)-this.options.get("targetWidth")/2),i=Math.round(.1*this.canvasHeight),r=this.canvasHeight-2*i,o=this.options.get("targetColor");return e&&(o=this.calcHighlightColor(o,this.options)),this.target.drawRect(n,i,this.options.get("targetWidth")-1,r-1,o,o)},render:function(){var e,t,n=this.values.length,i=this.target;if(k._super.render.call(this)){for(e=2;n>e;e++)t=this.renderRange(e).append(),this.shapes[t.id]="r"+e,this.valueShapes["r"+e]=t.id;null!==this.values[1]&&(t=this.renderPerformance().append(),this.shapes[t.id]="p1",this.valueShapes.p1=t.id),null!==this.values[0]&&(t=this.renderTarget().append(),this.shapes[t.id]="t0",this.valueShapes.t0=t.id),i.render()}}}),e.fn.sparkline.pie=_=n(e.fn.sparkline._base,{type:"pie",init:function(t,n,i,r,o){var a,s=0;if(_._super.init.call(this,t,n,i,r,o),this.shapes={},this.valueShapes={},this.values=n=e.map(n,Number),"auto"===i.get("width")&&(this.width=this.height),n.length>0)for(a=n.length;a--;)s+=n[a];this.total=s,this.initTarget(),this.radius=Math.floor(Math.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(e,t,n){var i=this.target.getShapeAt(e,t,n);return void 0!==i&&void 0!==this.shapes[i]?this.shapes[i]:void 0},getCurrentRegionFields:function(){var e=this.currentRegion;return{isNull:void 0===this.values[e],value:this.values[e],percent:this.values[e]/this.total*100,color:this.options.get("sliceColors")[e%this.options.get("sliceColors").length],offset:e}},changeHighlight:function(e){var t=this.currentRegion,n=this.renderSlice(t,e),i=this.valueShapes[t];delete this.shapes[i],this.target.replaceWithShape(i,n),this.valueShapes[t]=n.id,this.shapes[n.id]=t},renderSlice:function(e,t){var n,i,r,o,a,s=this.target,l=this.options,c=this.radius,u=l.get("borderWidth"),d=l.get("offset"),f=2*Math.PI,h=this.values,p=this.total,m=d?2*Math.PI*(d/360):0;for(o=h.length,r=0;o>r;r++){if(n=m,i=m,p>0&&(i=m+f*(h[r]/p)),e===r)return a=l.get("sliceColors")[r%l.get("sliceColors").length],t&&(a=this.calcHighlightColor(a,l)),s.drawPieSlice(c,c,c-u,n,i,void 0,a);m=i}},render:function(){var e,t,n=this.target,i=this.values,r=this.options,o=this.radius,a=r.get("borderWidth");if(_._super.render.call(this)){for(a&&n.drawCircle(o,o,Math.floor(o-a/2),r.get("borderColor"),void 0,a).append(),t=i.length;t--;)i[t]&&(e=this.renderSlice(t).append(),this.valueShapes[t]=e.id,this.shapes[e.id]=t);n.render()}}}),e.fn.sparkline.box=E=n(e.fn.sparkline._base,{type:"box",init:function(t,n,i,r,o){E._super.init.call(this,t,n,i,r,o),this.values=e.map(n,Number),this.width="auto"===i.get("width")?"4.0em":r,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var e=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return void 0!==this.loutlier&&e.push({field:"lo",value:this.loutlier}),void 0!==this.routlier&&e.push({field:"ro",value:this.routlier}),void 0!==this.lwhisker&&e.push({field:"lw",value:this.lwhisker}),void 0!==this.rwhisker&&e.push({field:"rw",value:this.rwhisker}),e},render:function(){var e,t,n,i,r,a,s,l,c,u,d,f=this.target,h=this.values,p=h.length,m=this.options,g=this.canvasWidth,v=this.canvasHeight,b=void 0===m.get("chartRangeMin")?Math.min.apply(Math,h):m.get("chartRangeMin"),y=void 0===m.get("chartRangeMax")?Math.max.apply(Math,h):m.get("chartRangeMax"),x=0;if(E._super.render.call(this)){if(m.get("raw"))m.get("showOutliers")&&h.length>5?(t=h[0],e=h[1],i=h[2],r=h[3],a=h[4],s=h[5],l=h[6]):(e=h[0],i=h[1],r=h[2],a=h[3],s=h[4]);else if(h.sort(function(e,t){return e-t}),i=o(h,1),r=o(h,2),a=o(h,3),n=a-i,m.get("showOutliers")){for(e=s=void 0,c=0;p>c;c++)void 0===e&&h[c]>i-n*m.get("outlierIQR")&&(e=h[c]),h[c]<a+n*m.get("outlierIQR")&&(s=h[c]);t=h[0],l=h[p-1]}else e=h[0],s=h[p-1];this.quartiles=[i,r,a],this.lwhisker=e,this.rwhisker=s,this.loutlier=t,this.routlier=l,d=g/(y-b+1),m.get("showOutliers")&&(x=Math.ceil(m.get("spotRadius")),g-=2*Math.ceil(m.get("spotRadius")),d=g/(y-b+1),e>t&&f.drawCircle((t-b)*d+x,v/2,m.get("spotRadius"),m.get("outlierLineColor"),m.get("outlierFillColor")).append(),l>s&&f.drawCircle((l-b)*d+x,v/2,m.get("spotRadius"),m.get("outlierLineColor"),m.get("outlierFillColor")).append()),f.drawRect(Math.round((i-b)*d+x),Math.round(.1*v),Math.round((a-i)*d),Math.round(.8*v),m.get("boxLineColor"),m.get("boxFillColor")).append(),f.drawLine(Math.round((e-b)*d+x),Math.round(v/2),Math.round((i-b)*d+x),Math.round(v/2),m.get("lineColor")).append(),f.drawLine(Math.round((e-b)*d+x),Math.round(v/4),Math.round((e-b)*d+x),Math.round(v-v/4),m.get("whiskerColor")).append(),f.drawLine(Math.round((s-b)*d+x),Math.round(v/2),Math.round((a-b)*d+x),Math.round(v/2),m.get("lineColor")).append(),f.drawLine(Math.round((s-b)*d+x),Math.round(v/4),Math.round((s-b)*d+x),Math.round(v-v/4),m.get("whiskerColor")).append(),f.drawLine(Math.round((r-b)*d+x),Math.round(.1*v),Math.round((r-b)*d+x),Math.round(.9*v),m.get("medianColor")).append(),m.get("target")&&(u=Math.ceil(m.get("spotRadius")),f.drawLine(Math.round((m.get("target")-b)*d+x),Math.round(v/2-u),Math.round((m.get("target")-b)*d+x),Math.round(v/2+u),m.get("targetColor")).append(),f.drawLine(Math.round((m.get("target")-b)*d+x-u),Math.round(v/2),Math.round((m.get("target")-b)*d+x+u),Math.round(v/2),m.get("targetColor")).append()),f.render()}}}),function(){document.namespaces&&!document.namespaces.v?(e.fn.sparkline.hasVML=!0,document.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML")):e.fn.sparkline.hasVML=!1;var t=document.createElement("canvas");e.fn.sparkline.hasCanvas=!(!t.getContext||!t.getContext("2d"))}(),T=n({init:function(e,t,n,i){this.target=e,this.id=t,this.type=n,this.args=i},append:function(){return this.target.appendShape(this),this}}),M=n({_pxregex:/(\d+)(px)?\s*$/i,init:function(t,n,i){t&&(this.width=t,this.height=n,this.target=i,this.lastShapeId=null,i[0]&&(i=i[0]),e.data(i,"_jqs_vcanvas",this))},drawLine:function(e,t,n,i,r,o){return this.drawShape([[e,t],[n,i]],r,o)},drawShape:function(e,t,n,i){return this._genShape("Shape",[e,t,n,i])},drawCircle:function(e,t,n,i,r,o){return this._genShape("Circle",[e,t,n,i,r,o])},drawPieSlice:function(e,t,n,i,r,o,a){return this._genShape("PieSlice",[e,t,n,i,r,o,a])},drawRect:function(e,t,n,i,r,o){return this._genShape("Rect",[e,t,n,i,r,o])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(t,n){e(n).html(t)},_calculatePixelDims:function(t,n,i){var r;r=this._pxregex.exec(n),this.pixelHeight=r?r[1]:e(i).height(),r=this._pxregex.exec(t),this.pixelWidth=r?r[1]:e(i).width()},_genShape:function(e,t){var n=B++;return t.unshift(n),new T(this,n,e,t)},appendShape:function(){alert("appendShape not implemented")},replaceWithShape:function(){alert("replaceWithShape not implemented")},insertAfterShape:function(){alert("insertAfterShape not implemented")},removeShapeId:function(){alert("removeShapeId not implemented")},getShapeAt:function(){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),A=n(M,{init:function(t,n,i,r){A._super.init.call(this,t,n,i),this.canvas=document.createElement("canvas"),i[0]&&(i=i[0]),e.data(i,"_jqs_vcanvas",this),e(this.canvas).css({display:"inline-block",width:t,height:n,verticalAlign:"top"}),this._insert(this.canvas,i),this._calculatePixelDims(t,n,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=r,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=void 0,e(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(e,t,n){var i=this.canvas.getContext("2d");return void 0!==e&&(i.strokeStyle=e),i.lineWidth=void 0===n?1:n,void 0!==t&&(i.fillStyle=t),i},reset:function(){var e=this._getContext();e.clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=void 0},_drawShape:function(e,t,n,i,r){var o,a,s=this._getContext(n,i,r);for(s.beginPath(),s.moveTo(t[0][0]+.5,t[0][1]+.5),o=1,a=t.length;a>o;o++)s.lineTo(t[o][0]+.5,t[o][1]+.5);void 0!==n&&s.stroke(),void 0!==i&&s.fill(),void 0!==this.targetX&&void 0!==this.targetY&&s.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=e)},_drawCircle:function(e,t,n,i,r,o,a){var s=this._getContext(r,o,a);s.beginPath(),s.arc(t,n,i,0,2*Math.PI,!1),void 0!==this.targetX&&void 0!==this.targetY&&s.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=e),void 0!==r&&s.stroke(),void 0!==o&&s.fill()},_drawPieSlice:function(e,t,n,i,r,o,a,s){var l=this._getContext(a,s);l.beginPath(),l.moveTo(t,n),l.arc(t,n,i,r,o,!1),l.lineTo(t,n),l.closePath(),void 0!==a&&l.stroke(),s&&l.fill(),void 0!==this.targetX&&void 0!==this.targetY&&l.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=e)},_drawRect:function(e,t,n,i,r,o,a){return this._drawShape(e,[[t,n],[t+i,n],[t+i,n+r],[t,n+r],[t,n]],o,a)},appendShape:function(e){return this.shapes[e.id]=e,this.shapeseq.push(e.id),this.lastShapeId=e.id,e.id},replaceWithShape:function(e,t){var n,i=this.shapeseq;for(this.shapes[t.id]=t,n=i.length;n--;)i[n]==e&&(i[n]=t.id);delete this.shapes[e]},replaceWithShapes:function(e,t){var n,i,r,o=this.shapeseq,a={};for(i=e.length;i--;)a[e[i]]=!0;for(i=o.length;i--;)n=o[i],a[n]&&(o.splice(i,1),delete this.shapes[n],r=i);for(i=t.length;i--;)o.splice(r,0,t[i].id),this.shapes[t[i].id]=t[i]},insertAfterShape:function(e,t){var n,i=this.shapeseq;for(n=i.length;n--;)if(i[n]===e)return i.splice(n+1,0,t.id),void(this.shapes[t.id]=t)},removeShapeId:function(e){var t,n=this.shapeseq;for(t=n.length;t--;)if(n[t]===e){n.splice(t,1);break}delete this.shapes[e]},getShapeAt:function(e,t,n){return this.targetX=t,this.targetY=n,this.render(),this.currentTargetShapeId},render:function(){var e,t,n,i=this.shapeseq,r=this.shapes,o=i.length,a=this._getContext();for(a.clearRect(0,0,this.pixelWidth,this.pixelHeight),n=0;o>n;n++)e=i[n],t=r[e],this["_draw"+t.type].apply(this,t.args);this.interact||(this.shapes={},this.shapeseq=[])}}),R=n(M,{init:function(t,n,i){var r;R._super.init.call(this,t,n,i),i[0]&&(i=i[0]),e.data(i,"_jqs_vcanvas",this),this.canvas=document.createElement("span"),e(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:t,height:n,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,i),this._calculatePixelDims(t,n,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,r='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>',this.canvas.insertAdjacentHTML("beforeEnd",r),this.group=e(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(e,t,n,i,r){var o,a,s,l,c,u,d,f=[];for(d=0,u=t.length;u>d;d++)f[d]=""+t[d][0]+","+t[d][1];return o=f.splice(0,1),r=void 0===r?1:r,a=void 0===n?' stroked="false" ':' strokeWeight="'+r+'px" strokeColor="'+n+'" ',s=void 0===i?' filled="false"':' fillColor="'+i+'" filled="true" ',l=f[0]===f[f.length-1]?"x ":"",c='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+e+'" '+a+s+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+o+" l "+f.join(", ")+" "+l+'e"> </v:shape>'},_drawCircle:function(e,t,n,i,r,o,a){var s,l,c;return t-=i,n-=i,s=void 0===r?' stroked="false" ':' strokeWeight="'+a+'px" strokeColor="'+r+'" ',l=void 0===o?' filled="false"':' fillColor="'+o+'" filled="true" ',c='<v:oval  id="jqsshape'+e+'" '+s+l+' style="position:absolute;top:'+n+"px; left:"+t+"px; width:"+2*i+"px; height:"+2*i+'px"></v:oval>'},_drawPieSlice:function(e,t,n,i,r,o,a,s){var l,c,u,d,f,h,p,m;if(r===o)return"";if(o-r===2*Math.PI&&(r=0,o=2*Math.PI),c=t+Math.round(Math.cos(r)*i),u=n+Math.round(Math.sin(r)*i),d=t+Math.round(Math.cos(o)*i),f=n+Math.round(Math.sin(o)*i),c===d&&u===f){if(o-r<Math.PI)return"";c=d=t+i,u=f=n}return c===d&&u===f&&o-r<Math.PI?"":(l=[t-i,n-i,t+i,n+i,c,u,d,f],h=void 0===a?' stroked="false" ':' strokeWeight="1px" strokeColor="'+a+'" ',p=void 0===s?' filled="false"':' fillColor="'+s+'" filled="true" ',m='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+e+'" '+h+p+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+t+","+n+" wa "+l.join(", ")+' x e"> </v:shape>')},_drawRect:function(e,t,n,i,r,o,a){return this._drawShape(e,[[t,n],[t,n+r],[t+i,n+r],[t+i,n],[t,n]],o,a)},reset:function(){this.group.innerHTML=""},appendShape:function(e){var t=this["_draw"+e.type].apply(this,e.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",t):this.prerender+=t,this.lastShapeId=e.id,e.id},replaceWithShape:function(t,n){var i=e("#jqsshape"+t),r=this["_draw"+n.type].apply(this,n.args);i[0].outerHTML=r},replaceWithShapes:function(t,n){var i,r=e("#jqsshape"+t[0]),o="",a=n.length;for(i=0;a>i;i++)o+=this["_draw"+n[i].type].apply(this,n[i].args);for(r[0].outerHTML=o,i=1;i<t.length;i++)e("#jqsshape"+t[i]).remove()},insertAfterShape:function(t,n){var i=e("#jqsshape"+t),r=this["_draw"+n.type].apply(this,n.args);i[0].insertAdjacentHTML("afterEnd",r)},removeShapeId:function(t){var n=e("#jqsshape"+t);this.group.removeChild(n[0])},getShapeAt:function(e){var t=e.id.substr(8);return t},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})}),function(){!function(e){return e.easyPieChart=function(t,n){var i,r,o,a,s,l,c,u=this;return this.el=t,this.$el=e(t),this.$el.data("easyPieChart",this),this.init=function(){var t;return u.options=e.extend({},e.easyPieChart.defaultOptions,n),t=parseInt(u.$el.data("percent"),10),u.percentage=0,u.canvas=e("<canvas width='"+u.options.size+"' height='"+u.options.size+"'></canvas>").get(0),u.$el.append(u.canvas),"undefined"!=typeof G_vmlCanvasManager&&null!==G_vmlCanvasManager&&G_vmlCanvasManager.initElement(u.canvas),u.ctx=u.canvas.getContext("2d"),window.devicePixelRatio>1.5&&(e(u.canvas).css({width:u.options.size,height:u.options.size}),u.canvas.width*=2,u.canvas.height*=2,u.ctx.scale(2,2)),u.ctx.translate(u.options.size/2,u.options.size/2),u.$el.addClass("easyPieChart"),u.$el.css({width:u.options.size,height:u.options.size,lineHeight:""+u.options.size+"px"}),u.update(t),u},this.update=function(e){return u.options.animate===!1?o(e):r(u.percentage,e)},l=function(){var e,t,n;for(u.ctx.fillStyle=u.options.scaleColor,u.ctx.lineWidth=1,n=[],e=t=0;24>=t;e=++t)n.push(i(e));return n},i=function(e){var t;return t=e%6===0?0:.017*u.options.size,u.ctx.save(),u.ctx.rotate(e*Math.PI/12),u.ctx.fillRect(u.options.size/2-t,0,.05*-u.options.size+t,1),u.ctx.restore()},c=function(){var e;return e=u.options.size/2-u.options.lineWidth/2,u.options.scaleColor!==!1&&(e-=.08*u.options.size),u.ctx.beginPath(),u.ctx.arc(0,0,e,0,2*Math.PI,!0),u.ctx.closePath(),u.ctx.strokeStyle=u.options.trackColor,u.ctx.lineWidth=u.options.lineWidth,u.ctx.stroke()},s=function(){return u.options.scaleColor!==!1&&l(),u.options.trackColor!==!1?c():void 0},o=function(t){var n;return s(),u.ctx.strokeStyle=e.isFunction(u.options.barColor)?u.options.barColor(t):u.options.barColor,u.ctx.lineCap=u.options.lineCap,u.ctx.lineWidth=u.options.lineWidth,n=u.options.size/2-u.options.lineWidth/2,u.options.scaleColor!==!1&&(n-=.08*u.options.size),u.ctx.save(),u.ctx.rotate(-Math.PI/2),u.ctx.beginPath(),u.ctx.arc(0,0,n,0,2*Math.PI*t/100,!1),u.ctx.stroke(),u.ctx.restore()},r=function(e,t){var n,i,r;return i=30,r=i*u.options.animate/1e3,n=0,u.options.onStart.call(u),u.percentage=t,u.animation&&(clearInterval(u.animation),u.animation=!1),u.animation=setInterval(function(){return u.ctx.clearRect(-u.options.size/2,-u.options.size/2,u.options.size,u.options.size),s.call(u),o.call(u,[a(n,e,t-e,r)]),n++,n/r>1?(clearInterval(u.animation),u.animation=!1,u.options.onStop.call(u)):void 0},1e3/i)},a=function(e,t,n,i){var r,o;return r=function(e){return Math.pow(e,2)},o=function(e){return 1>e?r(e):2-r(e/2*-2+2)},e/=i/2,n/2*o(e)+t},this.init()},e.easyPieChart.defaultOptions={barColor:"#ef1e25",trackColor:"#f2f2f2",scaleColor:"#dfe0e0",lineCap:"round",size:110,lineWidth:3,animate:!1,onStart:e.noop,onStop:e.noop},void(e.fn.easyPieChart=function(t){return e.each(this,function(n,i){var r;return r=e(i),r.data("easyPieChart")?void 0:r.data("easyPieChart",new e.easyPieChart(i,t))})})}(jQuery)}.call(this),function(e){function t(e,t,r){var o=e[0],a=/er/.test(r)?_indeterminate:/bl/.test(r)?p:f,s=r==_update?{checked:o[f],disabled:o[p],indeterminate:"true"==e.attr(_indeterminate)||"false"==e.attr(_determinate)}:o[a];if(/^(ch|di|in)/.test(r)&&!s)n(e,a);else if(/^(un|en|de)/.test(r)&&s)i(e,a);else if(r==_update)for(var l in s)s[l]?n(e,l,!0):i(e,l,!0);else t&&"toggle"!=r||(t||e[_callback]("ifClicked"),s?o[_type]!==d&&i(e,a):n(e,a))}function n(t,n,r){var u=t[0],m=t.parent(),g=n==f,v=n==_indeterminate,b=n==p,y=v?_determinate:g?h:"enabled",x=o(t,y+a(u[_type])),C=o(t,n+a(u[_type]));if(u[n]!==!0){if(!r&&n==f&&u[_type]==d&&u.name){var w=t.closest("form"),k='input[name="'+u.name+'"]';k=w.length?w.find(k):e(k),k.each(function(){this!==u&&e(this).data(l)&&i(e(this),n)})}v?(u[n]=!0,u[f]&&i(t,f,"force")):(r||(u[n]=!0),g&&u[_indeterminate]&&i(t,_indeterminate,!1)),s(t,g,n,r)}u[p]&&o(t,_cursor,!0)&&m.find("."+c).css(_cursor,"default"),m[_add](C||o(t,n)||""),m.attr("role")&&!v&&m.attr("aria-"+(b?p:f),"true"),m[_remove](x||o(t,y)||"")}function i(e,t,n){var i=e[0],r=e.parent(),l=t==f,u=t==_indeterminate,d=t==p,m=u?_determinate:l?h:"enabled",g=o(e,m+a(i[_type])),v=o(e,t+a(i[_type]));i[t]!==!1&&((u||!n||"force"==n)&&(i[t]=!1),s(e,l,m,n)),!i[p]&&o(e,_cursor,!0)&&r.find("."+c).css(_cursor,"pointer"),r[_remove](v||o(e,t)||""),r.attr("role")&&!u&&r.attr("aria-"+(d?p:f),"false"),r[_add](g||o(e,m)||"")}function r(t,n){t.data(l)&&(t.parent().html(t.attr("style",t.data(l).s||"")),n&&t[_callback](n),t.off(".i").unwrap(),e(_label+'[for="'+t[0].id+'"]').add(t.closest(_label)).off(".i"))}function o(e,t,n){return e.data(l)?e.data(l).o[t+(n?"":"Class")]:void 0}function a(e){return e.charAt(0).toUpperCase()+e.slice(1)}function s(e,t,n,i){i||(t&&e[_callback]("ifToggled"),e[_callback]("ifChanged")[_callback]("if"+a(n)))}var l="iCheck",c=l+"-helper",u="checkbox",d="radio",f="checked",h="un"+f,p="disabled";_determinate="determinate",_indeterminate="in"+_determinate,_update="update",_type="type",_click="click",_touch="touchbegin.i touchend.i",_add="addClass",_remove="removeClass",_callback="trigger",_label="label",_cursor="cursor",_mobile=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent),e.fn[l]=function(o,a){var s='input[type="'+u+'"], input[type="'+d+'"]',h=e(),m=function(t){t.each(function(){var t=e(this);
h=h.add(t.is(s)?t:t.find(s))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(o))return o=o.toLowerCase(),m(this),h.each(function(){var n=e(this);"destroy"==o?r(n,"ifDestroyed"):t(n,!0,o),e.isFunction(a)&&a()});if("object"!=typeof o&&o)return this;var g=e.extend({checkedClass:f,disabledClass:p,indeterminateClass:_indeterminate,labelHover:!0},o),v=g.handle,b=g.hoverClass||"hover",y=g.focusClass||"focus",x=g.activeClass||"active",C=!!g.labelHover,w=g.labelHoverClass||"hover",k=0|(""+g.increaseArea).replace("%","");return(v==u||v==d)&&(s='input[type="'+v+'"]'),-50>k&&(k=-50),m(this),h.each(function(){var o=e(this);r(o);var a,s=this,h=s.id,m=-k+"%",v=100+2*k+"%",_={position:"absolute",top:m,left:m,display:"block",width:v,height:v,margin:0,padding:0,background:"#fff",border:0,opacity:0},E=_mobile?{position:"absolute",visibility:"hidden"}:k?_:{position:"absolute",opacity:0},S=s[_type]==u?g.checkboxClass||"i"+u:g.radioClass||"i"+d,N=e(_label+'[for="'+h+'"]').add(o.closest(_label)),T=!!g.aria,M=l+"-"+Math.random().toString(36).substr(2,6),A='<div class="'+S+'" '+(T?'role="'+s[_type]+'" ':"");T&&N.each(function(){A+='aria-labelledby="',this.id?A+=this.id:(this.id=M,A+=M),A+='"'}),A=o.wrap(A+"/>")[_callback]("ifCreated").parent().append(g.insert),a=e('<ins class="'+c+'"/>').css(_).appendTo(A),o.data(l,{o:g,s:o.attr("style")}).css(E),!!g.inheritClass&&A[_add](s.className||""),!!g.inheritID&&h&&A.attr("id",l+"-"+h),"static"==A.css("position")&&A.css("position","relative"),t(o,!0,_update),N.length&&N.on(_click+".i mouseover.i mouseout.i "+_touch,function(n){var i=n[_type],r=e(this);if(!s[p]){if(i==_click){if(e(n.target).is("a"))return;t(o,!1,!0)}else C&&(/ut|nd/.test(i)?(A[_remove](b),r[_remove](w)):(A[_add](b),r[_add](w)));if(!_mobile)return!1;n.stopPropagation()}}),o.on(_click+".i focus.i blur.i keyup.i keydown.i keypress.i",function(e){var t=e[_type],r=e.keyCode;return t==_click?!1:"keydown"==t&&32==r?(s[_type]==d&&s[f]||(s[f]?i(o,f):n(o,f)),!1):void("keyup"==t&&s[_type]==d?!s[f]&&n(o,f):/us|ur/.test(t)&&A["blur"==t?_remove:_add](y))}),a.on(_click+" mousedown mouseup mouseover mouseout "+_touch,function(e){var n=e[_type],i=/wn|up/.test(n)?x:b;if(!s[p]){if(n==_click?t(o,!1,!0):(/wn|er|in/.test(n)?A[_add](i):A[_remove](i+" "+x),N.length&&C&&i==b&&N[/ut|nd/.test(n)?_remove:_add](w)),!_mobile)return!1;e.stopPropagation()}})})}}(window.jQuery||window.Zepto),function(e){var t=new Array,n=new Array;e.fn.doAutosize=function(t){var n=e(this).data("minwidth"),i=e(this).data("maxwidth"),r="",o=e(this),a=e("#"+e(this).data("tester_id"));if(r!==(r=o.val())){var s=r.replace(/&/g,"&").replace(/\s/g," ").replace(/</g,"<").replace(/>/g,">");a.html(s);var l=a.width(),c=l+t.comfortZone>=n?l+t.comfortZone:n,u=o.width(),d=u>c&&c>=n||c>n&&i>c;d&&o.width(c)}},e.fn.resetAutosize=function(t){var n=e(this).data("minwidth")||t.minInputWidth||e(this).width(),i=e(this).data("maxwidth")||t.maxInputWidth||e(this).closest(".tagsinput").width()-t.inputPadding,r=e(this),o=e("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:r.css("fontSize"),fontFamily:r.css("fontFamily"),fontWeight:r.css("fontWeight"),letterSpacing:r.css("letterSpacing"),whiteSpace:"nowrap"}),a=e(this).attr("id")+"_autosize_tester";!e("#"+a).length>0&&(o.attr("id",a),o.appendTo("body")),r.data("minwidth",n),r.data("maxwidth",i),r.data("tester_id",a),r.css("width",n)},e.fn.addTag=function(i,r){return r=jQuery.extend({focus:!1,callback:!0},r),this.each(function(){var o=e(this).attr("id"),a=e(this).val().split(t[o]);if(""==a[0]&&(a=new Array),i=jQuery.trim(i),r.unique){var s=e(a).tagExist(i);1==s&&e("#"+o+"_tag").addClass("not_valid")}else var s=!1;if(""!=i&&1!=s){if(e("<span>").addClass("tag").append(e("<span>").text(i).append("\xa0\xa0"),e("<a>",{href:"#",title:"Removing tag",text:"x"}).click(function(){return e("#"+o).removeTag(escape(i))})).insertBefore("#"+o+"_addTag"),a.push(i),e("#"+o+"_tag").val(""),r.focus?e("#"+o+"_tag").focus():e("#"+o+"_tag").blur(),e.fn.tagsInput.updateTagsField(this,a),r.callback&&n[o]&&n[o].onAddTag){var l=n[o].onAddTag;l.call(this,i)}if(n[o]&&n[o].onChange){var c=a.length,l=n[o].onChange;l.call(this,e(this),a[c-1])}}}),!1},e.fn.removeTag=function(r){return r=unescape(r),this.each(function(){var o=e(this).attr("id"),a=e(this).val().split(t[o]);for(e("#"+o+"_tagsinput .tag").remove(),str="",i=0;i<a.length;i++)a[i]!=r&&(str=str+t[o]+a[i]);if(e.fn.tagsInput.importTags(this,str),n[o]&&n[o].onRemoveTag){var s=n[o].onRemoveTag;s.call(this,r)}}),!1},e.fn.tagExist=function(t){return jQuery.inArray(t,e(this))>=0},e.fn.importTags=function(t){id=e(this).attr("id"),e("#"+id+"_tagsinput .tag").remove(),e.fn.tagsInput.importTags(this,t)},e.fn.tagsInput=function(i){var r=jQuery.extend({interactive:!0,defaultText:"add a tag",minChars:0,width:"300px",height:"100px",autocomplete:{selectFirst:!1},hide:!0,delimiter:",",unique:!0,removeWithBackspace:!0,placeholderColor:"#666666",autosize:!0,comfortZone:20,inputPadding:12},i);return this.each(function(){r.hide&&e(this).hide();var i=e(this).attr("id");(!i||t[e(this).attr("id")])&&(i=e(this).attr("id","tags"+(new Date).getTime()).attr("id"));var o=jQuery.extend({pid:i,real_input:"#"+i,holder:"#"+i+"_tagsinput",input_wrapper:"#"+i+"_addTag",fake_input:"#"+i+"_tag"},r);t[i]=o.delimiter,(r.onAddTag||r.onRemoveTag||r.onChange)&&(n[i]=new Array,n[i].onAddTag=r.onAddTag,n[i].onRemoveTag=r.onRemoveTag,n[i].onChange=r.onChange);var a='<div id="'+i+'_tagsinput" class="tagsinput"><div id="'+i+'_addTag">';if(r.interactive&&(a=a+'<input id="'+i+'_tag" value="" data-default="'+r.defaultText+'" />'),a+='</div><div class="tags_clear"></div></div>',e(a).insertAfter(this),e(o.holder).css("width",r.width),e(o.holder).css("height",r.height),""!=e(o.real_input).val()&&e.fn.tagsInput.importTags(e(o.real_input),e(o.real_input).val()),r.interactive){if(e(o.fake_input).val(e(o.fake_input).attr("data-default")),e(o.fake_input).css("color",r.placeholderColor),e(o.fake_input).resetAutosize(r),e(o.holder).bind("click",o,function(t){e(t.data.fake_input).focus()}),e(o.fake_input).bind("focus",o,function(t){e(t.data.fake_input).val()==e(t.data.fake_input).attr("data-default")&&e(t.data.fake_input).val(""),e(t.data.fake_input).css("color","#000000")}),void 0!=r.autocomplete_url){autocomplete_options={source:r.autocomplete_url};for(attrname in r.autocomplete)autocomplete_options[attrname]=r.autocomplete[attrname];void 0!==jQuery.Autocompleter?(e(o.fake_input).autocomplete(r.autocomplete_url,r.autocomplete),e(o.fake_input).bind("result",o,function(t,n){n&&e("#"+i).addTag(n[0]+"",{focus:!0,unique:r.unique})})):void 0!==jQuery.ui.autocomplete&&(e(o.fake_input).autocomplete(autocomplete_options),e(o.fake_input).bind("autocompleteselect",o,function(t,n){return e(t.data.real_input).addTag(n.item.value,{focus:!0,unique:r.unique}),!1}))}else e(o.fake_input).bind("blur",o,function(t){var n=e(this).attr("data-default");return""!=e(t.data.fake_input).val()&&e(t.data.fake_input).val()!=n?t.data.minChars<=e(t.data.fake_input).val().length&&(!t.data.maxChars||t.data.maxChars>=e(t.data.fake_input).val().length)&&e(t.data.real_input).addTag(e(t.data.fake_input).val(),{focus:!0,unique:r.unique}):(e(t.data.fake_input).val(e(t.data.fake_input).attr("data-default")),e(t.data.fake_input).css("color",r.placeholderColor)),!1});e(o.fake_input).bind("keypress",o,function(t){return t.which==t.data.delimiter.charCodeAt(0)||13==t.which?(t.preventDefault(),t.data.minChars<=e(t.data.fake_input).val().length&&(!t.data.maxChars||t.data.maxChars>=e(t.data.fake_input).val().length)&&e(t.data.real_input).addTag(e(t.data.fake_input).val(),{focus:!0,unique:r.unique}),e(t.data.fake_input).resetAutosize(r),!1):void(t.data.autosize&&e(t.data.fake_input).doAutosize(r))}),o.removeWithBackspace&&e(o.fake_input).bind("keydown",function(t){if(8==t.keyCode&&""==e(this).val()){t.preventDefault();var n=e(this).closest(".tagsinput").find(".tag:last").text(),i=e(this).attr("id").replace(/_tag$/,"");n=n.replace(/[\s]+x$/,""),e("#"+i).removeTag(escape(n)),e(this).trigger("focus")}}),e(o.fake_input).blur(),o.unique&&e(o.fake_input).keydown(function(t){(8==t.keyCode||String.fromCharCode(t.which).match(/\w+|[\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xf1\xd1,/]+/))&&e(this).removeClass("not_valid")})}}),this},e.fn.tagsInput.updateTagsField=function(n,i){var r=e(n).attr("id");e(n).val(i.join(t[r]))},e.fn.tagsInput.importTags=function(r,o){e(r).val("");var a=e(r).attr("id"),s=o.split(t[a]);for(i=0;i<s.length;i++)e(r).addTag(s[i],{focus:!1,callback:!1});if(n[a]&&n[a].onChange){var l=n[a].onChange;l.call(r,r,s[i])}}}(jQuery),!function(e,t){"use strict";function n(e,t){for(var n,i=[],o=0;o<e.length;++o){if(n=a[e[o]]||r(e[o]),!n)throw"module definition dependecy not found: "+e[o];i.push(n)}t.apply(null,i)}function i(e,i,r){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(i===t)throw"invalid module definition, dependencies must be specified";if(r===t)throw"invalid module definition, definition function must be specified";n(i,function(){a[e]=r.apply(null,arguments)})}function r(t){for(var n=e,i=t.split(/[.\/]/),r=0;r<i.length;++r){if(!n[i[r]])return;n=n[i[r]]}return n}function o(n){for(var i=0;i<n.length;i++){for(var r=e,o=n[i],s=o.split(/[.\/]/),l=0;l<s.length-1;++l)r[s[l]]===t&&(r[s[l]]={}),r=r[s[l]];r[s[s.length-1]]=a[o]}}var a={},s="tinymce/dom/EventUtils",l="tinymce/dom/Sizzle",c="tinymce/dom/DomQuery",u="tinymce/html/Styles",d="tinymce/dom/TreeWalker",f="tinymce/util/Tools",h="tinymce/dom/Range",p="tinymce/html/Entities",m="tinymce/Env",g="tinymce/dom/StyleSheetLoader",v="tinymce/dom/DOMUtils",b="tinymce/dom/ScriptLoader",y="tinymce/AddOnManager",x="tinymce/html/Node",C="tinymce/html/Schema",w="tinymce/html/SaxParser",k="tinymce/html/DomParser",_="tinymce/html/Writer",E="tinymce/html/Serializer",S="tinymce/dom/Serializer",N="tinymce/dom/TridentSelection",T="tinymce/util/VK",M="tinymce/dom/ControlSelection",A="tinymce/dom/RangeUtils",R="tinymce/dom/Selection",D="tinymce/fmt/Preview",P="tinymce/Formatter",B="tinymce/UndoManager",I="tinymce/EnterKey",L="tinymce/ForceBlocks",F="tinymce/EditorCommands",O="tinymce/util/URI",H="tinymce/util/Class",z="tinymce/util/EventDispatcher",W="tinymce/ui/Selector",$="tinymce/ui/Collection",q="tinymce/ui/DomUtils",j="tinymce/ui/Control",U="tinymce/ui/Factory",V="tinymce/ui/KeyboardNavigation",Y="tinymce/ui/Container",X="tinymce/ui/DragHelper",K="tinymce/ui/Scrollable",Q="tinymce/ui/Panel",G="tinymce/ui/Movable",J="tinymce/ui/Resizable",Z="tinymce/ui/FloatPanel",et="tinymce/ui/Window",tt="tinymce/ui/MessageBox",nt="tinymce/WindowManager",it="tinymce/util/Quirks",rt="tinymce/util/Observable",ot="tinymce/EditorObservable",at="tinymce/Shortcuts",st="tinymce/Editor",lt="tinymce/util/I18n",ct="tinymce/FocusManager",ut="tinymce/EditorManager",dt="tinymce/LegacyInput",ft="tinymce/util/XHR",ht="tinymce/util/JSON",pt="tinymce/util/JSONRequest",mt="tinymce/util/JSONP",gt="tinymce/util/LocalStorage",vt="tinymce/Compat",bt="tinymce/ui/Layout",yt="tinymce/ui/AbsoluteLayout",xt="tinymce/ui/Tooltip",Ct="tinymce/ui/Widget",wt="tinymce/ui/Button",kt="tinymce/ui/ButtonGroup",_t="tinymce/ui/Checkbox",Et="tinymce/ui/PanelButton",St="tinymce/ui/ColorButton",Nt="tinymce/ui/ComboBox",Tt="tinymce/ui/Path",Mt="tinymce/ui/ElementPath",At="tinymce/ui/FormItem",Rt="tinymce/ui/Form",Dt="tinymce/ui/FieldSet",Pt="tinymce/ui/FilePicker",Bt="tinymce/ui/FitLayout",It="tinymce/ui/FlexLayout",Lt="tinymce/ui/FlowLayout",Ft="tinymce/ui/FormatControls",Ot="tinymce/ui/GridLayout",Ht="tinymce/ui/Iframe",zt="tinymce/ui/Label",Wt="tinymce/ui/Toolbar",$t="tinymce/ui/MenuBar",qt="tinymce/ui/MenuButton",jt="tinymce/ui/ListBox",Ut="tinymce/ui/MenuItem",Vt="tinymce/ui/Menu",Yt="tinymce/ui/Radio",Xt="tinymce/ui/ResizeHandle",Kt="tinymce/ui/Spacer",Qt="tinymce/ui/SplitButton",Gt="tinymce/ui/StackLayout",Jt="tinymce/ui/TabPanel",Zt="tinymce/ui/TextBox",en="tinymce/ui/Throbber";i(s,[],function(){function e(e,t,n,i){e.addEventListener?e.addEventListener(t,n,i||!1):e.attachEvent&&e.attachEvent("on"+t,n)}function t(e,t,n,i){e.removeEventListener?e.removeEventListener(t,n,i||!1):e.detachEvent&&e.detachEvent("on"+t,n)}function n(e,t){function n(){return!1}function i(){return!0}var r,o,l=t||{};for(r in e)s[r]||(l[r]=e[r]);if(l.target||(l.target=l.srcElement||document),e&&a.test(e.type)&&e.pageX===o&&e.clientX!==o){var c=l.target.ownerDocument||document,u=c.documentElement,d=c.body;l.pageX=e.clientX+(u&&u.scrollLeft||d&&d.scrollLeft||0)-(u&&u.clientLeft||d&&d.clientLeft||0),l.pageY=e.clientY+(u&&u.scrollTop||d&&d.scrollTop||0)-(u&&u.clientTop||d&&d.clientTop||0)}return l.preventDefault=function(){l.isDefaultPrevented=i,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},l.stopPropagation=function(){l.isPropagationStopped=i,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},l.stopImmediatePropagation=function(){l.isImmediatePropagationStopped=i,l.stopPropagation()},l.isDefaultPrevented||(l.isDefaultPrevented=n,l.isPropagationStopped=n,l.isImmediatePropagationStopped=n),l}function i(n,i,r){function o(){r.domLoaded||(r.domLoaded=!0,i(c))}function a(){("complete"===l.readyState||"interactive"===l.readyState&&l.body)&&(t(l,"readystatechange",a),o())}function s(){try{l.documentElement.doScroll("left")}catch(e){return void setTimeout(s,0)}o()}var l=n.document,c={type:"ready"};return r.domLoaded?void i(c):(l.addEventListener?"complete"===l.readyState?o():e(n,"DOMContentLoaded",o):(e(l,"readystatechange",a),l.documentElement.doScroll&&n.self===n.top&&s()),void e(n,"load",o))}function r(){function r(e,t){var n,i,r,o,a=f[t];if(n=a&&a[e.type])for(i=0,r=n.length;r>i;i++)if(o=n[i],o&&o.func.call(o.scope,e)===!1&&e.preventDefault(),e.isImmediatePropagationStopped())return}var a,s,l,c,u,d=this,f={};s=o+(+new Date).toString(32),c="onmouseenter"in document.documentElement,l="onfocusin"in document.documentElement,u={mouseenter:"mouseover",mouseleave:"mouseout"},a=1,d.domLoaded=!1,d.events=f,d.bind=function(t,o,h,p){function m(e){r(n(e||k.event),g)}var g,v,b,y,x,C,w,k=window;if(t&&3!==t.nodeType&&8!==t.nodeType){for(t[s]?g=t[s]:(g=a++,t[s]=g,f[g]={}),p=p||t,o=o.split(" "),b=o.length;b--;)y=o[b],C=m,x=w=!1,"DOMContentLoaded"===y&&(y="ready"),d.domLoaded&&"ready"===y&&"complete"==t.readyState?h.call(p,n({type:y})):(c||(x=u[y],x&&(C=function(e){var t,i;if(t=e.currentTarget,i=e.relatedTarget,i&&t.contains)i=t.contains(i);else for(;i&&i!==t;)i=i.parentNode;i||(e=n(e||k.event),e.type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,r(e,g))})),l||"focusin"!==y&&"focusout"!==y||(w=!0,x="focusin"===y?"focus":"blur",C=function(e){e=n(e||k.event),e.type="focus"===e.type?"focusin":"focusout",r(e,g)}),v=f[g][y],v?"ready"===y&&d.domLoaded?h({type:y}):v.push({func:h,scope:p}):(f[g][y]=v=[{func:h,scope:p}],v.fakeName=x,v.capture=w,v.nativeHandler=C,"ready"===y?i(t,C,d):e(t,x||y,C,w)));return t=v=0,h}},d.unbind=function(e,n,i){var r,o,a,l,c,u;if(!e||3===e.nodeType||8===e.nodeType)return d;if(r=e[s]){if(u=f[r],n){for(n=n.split(" "),a=n.length;a--;)if(c=n[a],o=u[c]){if(i)for(l=o.length;l--;)if(o[l].func===i){var h=o.nativeHandler,p=o.fakeName,m=o.capture;o=o.slice(0,l).concat(o.slice(l+1)),o.nativeHandler=h,o.fakeName=p,o.capture=m,u[c]=o}i&&0!==o.length||(delete u[c],t(e,o.fakeName||c,o.nativeHandler,o.capture))}}else{for(c in u)o=u[c],t(e,o.fakeName||c,o.nativeHandler,o.capture);u={}}for(c in u)return d;delete f[r];try{delete e[s]}catch(g){e[s]=null}}return d},d.fire=function(e,t,i){var o;if(!e||3===e.nodeType||8===e.nodeType)return d;i=n(null,i),i.type=t,i.target=e;do o=e[s],o&&r(i,o),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow;while(e&&!i.isPropagationStopped());return d},d.clean=function(e){var t,n,i=d.unbind;if(!e||3===e.nodeType||8===e.nodeType)return d;if(e[s]&&i(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(i(e),n=e.getElementsByTagName("*"),t=n.length;t--;)e=n[t],e[s]&&i(e);return d},d.destroy=function(){f={}},d.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}}var o="mce-data-",a=/^(?:mouse|contextmenu)|click/,s={keyLocation:1,layerX:1,layerY:1,returnValue:1};return r.Event=new r,r.Event.bind(window,"ready",function(){}),r}),i(l,[],function(){function e(e){return mt.test(e+"")}function n(){var e,t=[];return e=function(n,i){return t.push(n+=" ")>k.cacheLength&&delete e[t.shift()],e[n]=i,i}}function i(e){return e[O]=!0,e}function r(e){var t=R.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t=null}}function o(e,t,n,i){var r,o,a,s,l,c,f,h,p,m;if((t?t.ownerDocument||t:H)!==R&&A(t),t=t||R,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(P&&!i){if(r=gt.exec(e))if(a=r[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&F(t,o)&&o.id===a)return n.push(o),n}else{if(r[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((a=r[3])&&z.getElementsByClassName&&t.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(a)),n}if(z.qsa&&!B.test(e)){if(f=!0,h=O,p=t,m=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=u(e),(f=t.getAttribute("id"))?h=f.replace(yt,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",l=c.length;l--;)c[l]=h+d(c[l]);p=pt.test(e)&&t.parentNode||t,m=c.join(",")}if(m)try{return Z.apply(n,p.querySelectorAll(m)),n}catch(g){}finally{f||t.removeAttribute("id")}}}return y(e.replace(lt,"$1"),t,n,i)}function a(e,t){var n=t&&e,i=n&&(~t.sourceIndex||K)-(~e.sourceIndex||K);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return i(function(t){return t=+t,i(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function u(e,t){var n,i,r,a,s,l,c,u=j[e+" "];if(u)return t?0:u.slice(0);for(s=e,l=[],c=k.preFilter;s;){(!n||(i=ct.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),l.push(r=[])),n=!1,(i=ut.exec(s))&&(n=i.shift(),r.push({value:n,type:i[0].replace(lt," ")}),s=s.slice(n.length));for(a in k.filter)!(i=ht[a].exec(s))||c[a]&&!(i=c[a](i))||(n=i.shift(),r.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?o.error(e):j(e,l).slice(0)}function d(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function f(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=$++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,a){var s,l,c,u=W+" "+o;if(a){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||r)if(c=t[O]||(t[O]={}),(l=c[i])&&l[0]===u){if((s=l[1])===!0||s===w)return s===!0}else if(l=c[i]=[u],l[1]=e(t,n,a)||w,l[1]===!0)return!0}}function h(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function p(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,c=null!=t;l>s;s++)(o=e[s])&&(!n||n(o,i,r))&&(a.push(o),c&&t.push(s));return a}function m(e,t,n,r,o,a){return r&&!r[O]&&(r=m(r)),o&&!o[O]&&(o=m(o,a)),i(function(i,a,s,l){var c,u,d,f=[],h=[],m=a.length,g=i||b(t||"*",s.nodeType?[s]:s,[]),v=!e||!i&&t?g:p(g,f,e,s,l),y=n?o||(i?e:m||r)?[]:a:v;if(n&&n(v,y,s,l),r)for(c=p(y,h),r(c,[],s,l),u=c.length;u--;)(d=c[u])&&(y[h[u]]=!(v[h[u]]=d));if(i){if(o||e){if(o){for(c=[],u=y.length;u--;)(d=y[u])&&c.push(v[u]=d);o(null,y=[],c,l)}for(u=y.length;u--;)(d=y[u])&&(c=o?tt.call(i,d):f[u])>-1&&(i[c]=!(a[c]=d))}}else y=p(y===a?y.splice(m,y.length):y),o?o(null,a,y,l):Z.apply(a,y)})}function g(e){for(var t,n,i,r=e.length,o=k.relative[e[0].type],a=o||k.relative[" "],s=o?1:0,l=f(function(e){return e===t},a,!0),c=f(function(e){return tt.call(t,e)>-1},a,!0),u=[function(e,n,i){return!o&&(i||n!==N)||((t=n).nodeType?l(e,n,i):c(e,n,i))}];r>s;s++)if(n=k.relative[e[s].type])u=[f(h(u),n)];else{if(n=k.filter[e[s].type].apply(null,e[s].matches),n[O]){for(i=++s;r>i&&!k.relative[e[i].type];i++);return m(s>1&&h(u),s>1&&d(e.slice(0,s-1)).replace(lt,"$1"),n,i>s&&g(e.slice(s,i)),r>i&&g(e=e.slice(i)),r>i&&d(e))}u.push(n)}return h(u)}function v(e,t){var n=0,r=t.length>0,a=e.length>0,s=function(i,s,l,c,u){var d,f,h,m=[],g=0,v="0",b=i&&[],y=null!=u,x=N,C=i||a&&k.find.TAG("*",u&&s.parentNode||s),_=W+=null==x?1:Math.random()||.1;for(y&&(N=s!==R&&s,w=n);null!=(d=C[v]);v++){if(a&&d){for(f=0;h=e[f++];)if(h(d,s,l)){c.push(d);break}y&&(W=_,w=++n)}r&&((d=!h&&d)&&g--,i&&b.push(d))}if(g+=v,r&&v!==g){for(f=0;h=t[f++];)h(b,m,s,l);if(i){if(g>0)for(;v--;)b[v]||m[v]||(m[v]=G.call(c));m=p(m)}Z.apply(c,m),y&&!i&&m.length>0&&g+t.length>1&&o.uniqueSort(c)}return y&&(W=_,N=x),b};return r?i(s):s}function b(e,t,n){for(var i=0,r=t.length;r>i;i++)o(e,t[i],n);return n}function y(e,t,n,i){var r,o,a,s,l,c=u(e);if(!i&&1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===t.nodeType&&P&&k.relative[o[1].type]){if(t=(k.find.ID(a.matches[0].replace(Ct,wt),t)||[])[0],!t)return n;e=e.slice(o.shift().value.length)}for(r=ht.needsContext.test(e)?0:o.length;r--&&(a=o[r],!k.relative[s=a.type]);)if((l=k.find[s])&&(i=l(a.matches[0].replace(Ct,wt),pt.test(o[0].type)&&t.parentNode||t))){if(o.splice(r,1),e=i.length&&d(o),!e)return Z.apply(n,i),n;break}}return S(e,c)(i,t,!P,n,pt.test(e)),n}function x(){}var C,w,k,_,E,S,N,T,M,A,R,D,P,B,I,L,F,O="sizzle"+-new Date,H=window.document,z={},W=0,$=0,q=n(),j=n(),U=n(),V=!1,Y=function(){return 0},X=typeof t,K=1<<31,Q=[],G=Q.pop,J=Q.push,Z=Q.push,et=Q.slice,tt=Q.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt=it.replace("w","w#"),ot="([*^$|!~]?=)",at="\\["+nt+"*("+it+")"+nt+"*(?:"+ot+nt+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+rt+")|)|)"+nt+"*\\]",st=":("+it+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+at.replace(3,8)+")*)|.*)\\)|)",lt=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ct=new RegExp("^"+nt+"*,"+nt+"*"),ut=new RegExp("^"+nt+"*([\\x20\\t\\r\\n\\f>+~])"+nt+"*"),dt=new RegExp(st),ft=new RegExp("^"+rt+"$"),ht={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),NAME:new RegExp("^\\[name=['\"]?("+it+")['\"]?\\]"),TAG:new RegExp("^("+it.replace("w","w*")+")"),ATTR:new RegExp("^"+at),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},pt=/[\x20\t\r\n\f]*[+~]/,mt=/^[^{]+\{\s*\[native code/,gt=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,vt=/^(?:input|select|textarea|button)$/i,bt=/^h\d$/i,yt=/'|\\/g,xt=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,Ct=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,wt=function(e,t){var n="0x"+t-65536;return n!==n?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{Z.apply(Q=et.call(H.childNodes),H.childNodes),Q[H.childNodes.length].nodeType}catch(kt){Z={apply:Q.length?function(e,t){J.apply(e,et.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}E=o.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},A=o.setDocument=function(n){var i=n?n.ownerDocument||n:H;return i!==R&&9===i.nodeType&&i.documentElement?(R=i,D=i.documentElement,P=!E(i),z.getElementsByTagName=r(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),z.attributes=r(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),z.getElementsByClassName=r(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),z.getByName=r(function(e){e.id=O+0,e.appendChild(R.createElement("a")).setAttribute("name",O),e.appendChild(R.createElement("i")).setAttribute("name",O),D.appendChild(e);var t=i.getElementsByName&&i.getElementsByName(O).length===2+i.getElementsByName(O+0).length;return D.removeChild(e),t}),z.sortDetached=r(function(e){return e.compareDocumentPosition&&1&e.compareDocumentPosition(R.createElement("div"))}),k.attrHandle=r(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==X&&"#"===e.firstChild.getAttribute("href")})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},z.getByName?(k.find.ID=function(e,t){if(typeof t.getElementById!==X&&P){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},k.filter.ID=function(e){var t=e.replace(Ct,wt);return function(e){return e.getAttribute("id")===t}}):(k.find.ID=function(e,n){if(typeof n.getElementById!==X&&P){var i=n.getElementById(e);return i?i.id===e||typeof i.getAttributeNode!==X&&i.getAttributeNode("id").value===e?[i]:t:[]}},k.filter.ID=function(e){var t=e.replace(Ct,wt);return function(e){var n=typeof e.getAttributeNode!==X&&e.getAttributeNode("id");return n&&n.value===t}}),k.find.TAG=z.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==X?t.getElementsByTagName(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},k.find.NAME=z.getByName&&function(e,t){return typeof t.getElementsByName!==X?t.getElementsByName(name):void 0},k.find.CLASS=z.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==X&&P?t.getElementsByClassName(e):void 0},I=[],B=[":focus"],(z.qsa=e(i.querySelectorAll))&&(r(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||B.push("\\["+nt+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||B.push(":checked")}),r(function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&B.push("[*^$]="+nt+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||B.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),B.push(",.*:")})),(z.matchesSelector=e(L=D.matchesSelector||D.mozMatchesSelector||D.webkitMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&r(function(e){z.disconnectedMatch=L.call(e,"div"),L.call(e,"[s!='']:x"),I.push("!=",st)}),B=new RegExp(B.join("|")),I=I.length&&new RegExp(I.join("|")),F=e(D.contains)||D.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Y=D.compareDocumentPosition?function(e,t){if(e===t)return V=!0,0;var n=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return n?1&n||T&&t.compareDocumentPosition(e)===n?e===i||F(H,e)?-1:t===i||F(H,t)?1:M?tt.call(M,e)-tt.call(M,t):0:4&n?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var n,r=0,o=e.parentNode,s=t.parentNode,l=[e],c=[t];if(e===t)return V=!0,0;if(!o||!s)return e===i?-1:t===i?1:o?-1:s?1:0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;l[r]===c[r];)r++;return r?a(l[r],c[r]):l[r]===H?-1:c[r]===H?1:0},R):R},o.matches=function(e,t){return o(e,null,null,t)},o.matchesSelector=function(e,t){if((e.ownerDocument||e)!==R&&A(e),t=t.replace(xt,"='$1']"),z.matchesSelector&&P&&(!I||!I.test(t))&&!B.test(t))try{var n=L.call(e,t);if(n||z.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(i){}return o(t,R,null,[e]).length>0},o.contains=function(e,t){return(e.ownerDocument||e)!==R&&A(e),F(e,t)},o.attr=function(e,t){var n;return(e.ownerDocument||e)!==R&&A(e),P&&(t=t.toLowerCase()),(n=k.attrHandle[t])?n(e):!P||z.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===!0?t:n&&n.specified?n.value:null},o.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},o.uniqueSort=function(e){var t,n=[],i=0,r=0;if(V=!z.detectDuplicates,T=!z.sortDetached,M=!z.sortStable&&e.slice(0),e.sort(Y),V){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return e},_=o.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=_(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i];i++)n+=_(t);return n},k=o.selectors={cacheLength:50,createPseudo:i,match:ht,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Ct,wt),e[3]=(e[4]||e[5]||"").replace(Ct,wt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||o.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&o.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return ht.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&dt.test(n)&&(t=u(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(Ct,wt).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=q[e+" "];return t||(t=new RegExp("(^|"+nt+")"+e+"("+nt+"|$)"))&&q(e,function(e){return t.test(e.className||typeof e.getAttribute!==X&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(i){var r=o.attr(i,e);return null==r?"!="===t:t?(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r+" ").indexOf(n)>-1:"|="===t?r===n||r.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,f,h,p,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),b=!l&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&b){for(u=g[O]||(g[O]={}),c=u[e]||[],h=c[0]===W&&c[1],f=c[0]===W&&c[2],d=h&&g.childNodes[h];d=++h&&d&&d[m]||(f=h=0)||p.pop();)if(1===d.nodeType&&++f&&d===t){u[e]=[W,h,f];break}}else if(b&&(c=(t[O]||(t[O]={}))[e])&&c[0]===W)f=c[1];else for(;(d=++h&&d&&d[m]||(f=h=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(b&&((d[O]||(d[O]={}))[e]=[W,f]),d!==t)););return f-=r,f===i||f%i===0&&f/i>=0}}},PSEUDO:function(e,t){var n,r=k.pseudos[e]||k.setFilters[e.toLowerCase()]||o.error("unsupported pseudo: "+e);return r[O]?r(t):r.length>1?(n=[e,e,"",t],k.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,n){for(var i,o=r(e,t),a=o.length;a--;)i=tt.call(e,o[a]),e[i]=!(n[i]=o[a])}):function(e){return r(e,0,n)}):r}},pseudos:{not:i(function(e){var t=[],n=[],r=S(e.replace(lt,"$1"));return r[O]?i(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:i(function(e){return function(t){return o(e,t).length>0}}),contains:i(function(e){return function(t){return(t.textContent||t.innerText||_(t)).indexOf(e)>-1}}),lang:i(function(e){return ft.test(e||"")||o.error("unsupported lang: "+e),e=e.replace(Ct,wt).toLowerCase(),function(t){var n;do if(n=P?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===D},focus:function(e){return e===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!k.pseudos.empty(e)
},header:function(e){return bt.test(e.nodeName)},input:function(e){return vt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:c(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}};for(C in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[C]=s(C);for(C in{submit:!0,reset:!0})k.pseudos[C]=l(C);return S=o.compile=function(e,t){var n,i=[],r=[],o=U[e+" "];if(!o){for(t||(t=u(e)),n=t.length;n--;)o=g(t[n]),o[O]?i.push(o):r.push(o);o=U(e,v(r,i))}return o},k.pseudos.nth=k.pseudos.eq,x.prototype=k.filters=k.pseudos,k.setFilters=new x,z.sortStable=O.split("").sort(Y).join("")===O,A(),[0,0].sort(Y),z.detectDuplicates=V,o}),i(c,[s,l],function(e,n){function i(e){return"undefined"!=typeof e}function r(e){return"string"==typeof e}function o(e){var t,n,i;for(i=v.createElement("div"),t=v.createDocumentFragment(),i.innerHTML=e;n=i.firstChild;)t.appendChild(n);return t}function a(e,t,n){var i;if("string"==typeof t)t=o(t);else if(t.length){for(i=0;i<t.length;i++)a(e,t[i],n);return e}for(i=e.length;i--;)n.call(e[i],t.parentNode?t:t);return e}function s(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")}function l(e,t){var n;for(e=e||[],"string"==typeof e&&(e=e.split(" ")),t=t||{},n=e.length;n--;)t[e[n]]={};return t}function c(e,t){return new c.fn.init(e,t)}function u(e){var t,n,i,r=arguments;for(n=1;n<r.length;n++){t=r[n];for(i in t)e[i]=t[i]}return e}function d(e){var t,n,i=[];for(t=0,n=e.length;n>t;t++)i[t]=e[t];return i}function f(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1}function h(e){return null===e||e===t?"":(""+e).replace(_,"")}function p(e,t){var n,i,r,o,a;if(e)if(n=e.length,n===o){for(i in e)if(e.hasOwnProperty(i)&&(a=e[i],t.call(a,a,i)===!1))break}else for(r=0;n>r&&(a=e[r],t.call(a,a,i)!==!1);r++);return e}function m(e,n,i){for(var r=[],o=e[n];o&&9!==o.nodeType&&(i===t||1!==o.nodeType||!c(o).is(i));)1===o.nodeType&&r.push(o),o=o[n];return r}function g(e,t,n,i){for(var r=[];e;e=e[n])i&&e.nodeType!==i||e===t||r.push(e);return r}var v=document,b=Array.prototype.push,y=Array.prototype.slice,x=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,C=e.Event,w=l("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"),k=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},_=/^\s*|\s*$/g;return c.fn=c.prototype={constructor:c,selector:"",length:0,init:function(e,t){var n,i,a=this;if(!e)return a;if(e.nodeType)return a.context=a[0]=e,a.length=1,a;if(r(e)){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:x.exec(e),!n)return c(t||document).find(e);if(n[1])for(i=o(e).firstChild;i;)this.add(i),i=i.nextSibling;else{if(i=v.getElementById(n[2]),i.id!==n[2])return a.find(e);a.length=1,a[0]=i}}else this.add(e);return a},toArray:function(){return d(this)},add:function(e){var t=this;return k(e)?b.apply(t,e):e instanceof c?t.add(e.toArray()):b.call(t,e),t},attr:function(e,n){var r=this;if("object"==typeof e)p(e,function(e,t){r.attr(t,e)});else{if(!i(n))return r[0]&&1===r[0].nodeType?r[0].getAttribute(e):t;this.each(function(){1===this.nodeType&&this.setAttribute(e,n)})}return r},css:function(e,n){var r=this;if("object"==typeof e)p(e,function(e,t){r.css(t,e)});else{if(e=e.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}),!i(n))return r[0]?r[0].style[e]:t;"number"!=typeof n||w[e]||(n+="px"),r.each(function(){var t=this.style;"opacity"===e&&this.runtimeStyle&&"undefined"==typeof this.runtimeStyle.opacity&&(t.filter=""===n?"":"alpha(opacity="+100*n+")");try{t[e]=n}catch(i){}})}return r},remove:function(){for(var e,t=this,n=this.length;n--;)e=t[n],C.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this,n=this.length;n--;)for(e=t[n];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(e){var t,n=this;if(i(e)){for(t=n.length;t--;)n[t].innerHTML=e;return n}return n[0]?n[0].innerHTML:""},text:function(e){var t,n=this;if(i(e)){for(t=n.length;t--;)n[t].innerText=n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return a(this,arguments,function(e){1===this.nodeType&&this.appendChild(e)})},prepend:function(){return a(this,arguments,function(e){1===this.nodeType&&this.insertBefore(e,this.firstChild)})},before:function(){var e=this;return e[0]&&e[0].parentNode?a(e,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?a(e,arguments,function(e){this.parentNode.insertBefore(e,this)}):e},appendTo:function(e){return c(e).append(this),this},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return-1!==e.indexOf(" ")?p(e.split(" "),function(){n.toggleClass(this,t)}):n.each(function(n){var i;s(n,e)!==t&&(i=n.className,t?n.className+=i?" "+e:e:n.className=h((" "+i+" ").replace(" "+e+" "," ")))}),n},hasClass:function(e){return s(this[0],e)},each:function(e){return p(this,e)},on:function(e,t){return this.each(function(){C.bind(this,e,t)})},off:function(e,t){return this.each(function(){C.unbind(this,e,t)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new c(y.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},replaceWith:function(e){var t=this;return t[0]&&t[0].parentNode.replaceChild(c(e)[0],t[0]),t},wrap:function(e){return e=c(e)[0],this.each(function(){var t=this,n=e.cloneNode(!1);t.parentNode.insertBefore(n,t),n.appendChild(t)})},unwrap:function(){return this.each(function(){for(var e,t=this,n=t.firstChild;n;)e=n,n=n.nextSibling,t.parentNode.insertBefore(e,t)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),c(e)},find:function(e){var t,n,i=[];for(t=0,n=this.length;n>t;t++)c.find(e,this[t],i);return c(i)},push:b,sort:[].sort,splice:[].splice},u(c,{extend:u,toArray:d,inArray:f,isArray:k,each:p,trim:h,makeMap:l,find:n,expr:n.selectors,unique:n.uniqueSort,text:n.getText,isXMLDoc:n.isXML,contains:n.contains,filter:function(e,t,n){return n&&(e=":not("+e+")"),t=1===t.length?c.find.matchesSelector(t[0],e)?[t[0]]:[]:c.find.matches(e,t)}}),p({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return m(e,"parentNode")},parentsUntil:function(e,t){return m(e,"parentNode",t)},next:function(e){return g(e,"nextSibling",1)},prev:function(e){return g(e,"previousSibling",1)},nextNodes:function(e){return g(e,"nextSibling")},prevNodes:function(e){return g(e,"previousSibling")},children:function(e){return g(e.firstChild,"nextSibling",1)},contents:function(e){return d(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,t){c.fn[e]=function(n){var i,r=this;if(r.length>1)throw new Error("DomQuery only supports traverse functions on a single node.");return r[0]&&(i=t(r[0],n)),i=c(i),n&&"parentsUntil"!==e?i.filter(n):i}}),c.fn.filter=function(e){return c.filter(e)},c.fn.is=function(e){return!!e&&this.filter(e).length>0},c.fn.init.prototype=c.fn,c}),i(u,[],function(){return function(e,t){function n(e,t,n,i){function r(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e}return"#"+r(t)+r(n)+r(i)}var i,r,o,a=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,s=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,l=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,u={},d="\ufeff";for(e=e||{},o=("\\\" \\' \\; \\: ; : "+d).split(" "),r=0;r<o.length;r++)u[o[r]]=d+r,u[d+r]=o[r];return{toHex:function(e){return e.replace(a,n)},parse:function(t){function i(e,t,n){var i,o,a,s;if(i=y[e+"-top"+t],i&&(o=y[e+"-right"+t],o&&(a=y[e+"-bottom"+t],a&&(s=y[e+"-left"+t])))){var l=[i,o,a,s];for(r=l.length-1;r--&&l[r]===l[r+1];);r>-1&&n||(y[e+t]=-1==r?l[0]:l.join(" "),delete y[e+"-top"+t],delete y[e+"-right"+t],delete y[e+"-bottom"+t],delete y[e+"-left"+t])}}function o(e){var t,n=y[e];if(n){for(n=n.split(" "),t=n.length;t--;)if(n[t]!==n[0])return!1;return y[e]=n[0],!0}}function d(e,t,n,i){o(t)&&o(n)&&o(i)&&(y[e]=y[t]+" "+y[n]+" "+y[i],delete y[t],delete y[n],delete y[i])}function f(e){return b=!0,u[e]}function h(e,t){return b&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return u[e]})),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e}function p(t,n,i,r,o,a){if(o=o||a)return o=h(o),"'"+o.replace(/\'/g,"\\'")+"'";if(n=h(n||i||r),!e.allow_script_urls){var s=n.replace(/[\s\r\n]+/,"");if(/(java|vb)script:/i.test(s))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(s))return""}return x&&(n=x.call(C,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"}var m,g,v,b,y={},x=e.url_converter,C=e.url_converter_scope||this;if(t){for(t=t.replace(/[\u0000-\u001F]/g,""),t=t.replace(/\\[\"\';:\uFEFF]/g,f).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,f)});m=l.exec(t);){if(g=m[1].replace(c,"").toLowerCase(),v=m[2].replace(c,""),v=v.replace(/\\[0-9a-f]+/g,function(e){return String.fromCharCode(parseInt(e.substr(1),16))}),g&&v.length>0){if(!e.allow_script_urls&&("behavior"==g||/expression\s*\(|\/\*|\*\//.test(v)))continue;"font-weight"===g&&"700"===v?v="bold":("color"===g||"background-color"===g)&&(v=v.toLowerCase()),v=v.replace(a,n),v=v.replace(s,p),y[g]=b?h(v,!0):v}l.lastIndex=m.index+m[0].length}i("border","",!0),i("border","-width"),i("border","-color"),i("border","-style"),i("padding",""),i("margin",""),d("border","border-width","border-style","border-color"),"medium none"===y.border&&delete y.border,"none"===y["border-image"]&&delete y["border-image"]}return y},serialize:function(e,n){function r(n){var r,o,a,l;if(r=t.styles[n])for(o=0,a=r.length;a>o;o++)n=r[o],l=e[n],l!==i&&l.length>0&&(s+=(s.length>0?" ":"")+n+": "+l+";")}var o,a,s="";if(n&&t&&t.styles)r("*"),r(n);else for(o in e)a=e[o],a!==i&&a.length>0&&(s+=(s.length>0?" ":"")+o+": "+a+";");return s}}}}),i(d,[],function(){return function(e,t){function n(e,n,i,r){var o,a;if(e){if(!r&&e[n])return e[n];if(e!=t){if(o=e[i])return o;for(a=e.parentNode;a&&a!=t;a=a.parentNode)if(o=a[i])return o}}}var i=e;this.current=function(){return i},this.next=function(e){return i=n(i,"firstChild","nextSibling",e)},this.prev=function(e){return i=n(i,"lastChild","previousSibling",e)}}}),i(f,[],function(){function e(e){return null===e||e===t?"":(""+e).replace(m,"")}function n(e,n){return n?"array"==n&&g(e)?!0:typeof e==n:e!==t}function i(e){var t,n,i=[];for(t=0,n=e.length;n>t;t++)i[t]=e[t];return i}function r(e,t,n){var i;for(e=e||[],t=t||",","string"==typeof e&&(e=e.split(t)),n=n||{},i=e.length;i--;)n[e[i]]={};return n}function o(e,n,i){var r,o;if(!e)return 0;if(i=i||e,e.length!==t){for(r=0,o=e.length;o>r;r++)if(n.call(i,e[r],r,e)===!1)return 0}else for(r in e)if(e.hasOwnProperty(r)&&n.call(i,e[r],r,e)===!1)return 0;return 1}function a(e,t){var n=[];return o(e,function(e){n.push(t(e))}),n}function s(e,t){var n=[];return o(e,function(e){(!t||t(e))&&n.push(e)}),n}function l(e,t,n){var i,r,o,a,s,l=this,c=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),o=e[3].match(/(^|\.)(\w+)$/i)[2],r=l.createNS(e[3].replace(/\.\w+$/,""),n),!r[o]){if("static"==e[2])return r[o]=t,void(this.onCreate&&this.onCreate(e[2],e[3],r[o]));t[o]||(t[o]=function(){},c=1),r[o]=t[o],l.extend(r[o].prototype,t),e[5]&&(i=l.resolve(e[5]).prototype,a=e[5].match(/\.(\w+)$/i)[1],s=r[o],r[o]=c?function(){return i[a].apply(this,arguments)}:function(){return this.parent=i[a],s.apply(this,arguments)},r[o].prototype[o]=r[o],l.each(i,function(e,t){r[o].prototype[t]=i[t]}),l.each(t,function(e,t){i[t]?r[o].prototype[t]=function(){return this.parent=i[t],e.apply(this,arguments)}:t!=o&&(r[o].prototype[t]=e)})),l.each(t["static"],function(e,t){r[o][t]=e})}}function c(e,t){var n,i;if(e)for(n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1}function u(e,n){var i,r,o,a,s=arguments;for(i=1,r=s.length;r>i;i++){n=s[i];for(o in n)n.hasOwnProperty(o)&&(a=n[o],a!==t&&(e[o]=a))}return e}function d(e,t,n,i){i=i||this,e&&(n&&(e=e[n]),o(e,function(e,r){return t.call(i,e,r,n)===!1?!1:void d(e,t,n,i)}))}function f(e,t){var n,i;for(t=t||window,e=e.split("."),n=0;n<e.length;n++)i=e[n],t[i]||(t[i]={}),t=t[i];return t}function h(e,t){var n,i;for(t=t||window,e=e.split("."),n=0,i=e.length;i>n&&(t=t[e[n]]);n++);return t}function p(t,i){return!t||n(t,"array")?t:a(t.split(i||","),e)}var m=/^\s*|\s*$/g,g=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};return{trim:e,isArray:g,is:n,toArray:i,makeMap:r,each:o,map:a,grep:s,inArray:c,extend:u,create:l,walk:d,createNS:f,resolve:h,explode:p}}),i(h,[f],function(e){function t(n){function i(){return I.createDocumentFragment()}function r(e,t){k(H,e,t)}function o(e,t){k(z,e,t)}function a(e){r(e.parentNode,V(e))}function s(e){r(e.parentNode,V(e)+1)}function l(e){o(e.parentNode,V(e))}function c(e){o(e.parentNode,V(e)+1)}function u(e){e?(B[q]=B[$],B[j]=B[W]):(B[$]=B[q],B[W]=B[j]),B.collapsed=H}function d(e){a(e),c(e)}function f(e){r(e,0),o(e,1===e.nodeType?e.childNodes.length:e.nodeValue.length)}function h(e,t){var n=B[$],i=B[W],r=B[q],o=B[j],a=t.startContainer,s=t.startOffset,l=t.endContainer,c=t.endOffset;return 0===e?w(n,i,a,s):1===e?w(r,o,a,s):2===e?w(r,o,l,c):3===e?w(n,i,l,c):void 0}function p(){_(O)}function m(){return _(L)}function g(){return _(F)}function v(e){var t,i,r=this[$],o=this[W];3!==r.nodeType&&4!==r.nodeType||!r.nodeValue?(r.childNodes.length>0&&(i=r.childNodes[o]),i?r.insertBefore(e,i):3==r.nodeType?n.insertAfter(e,r):r.appendChild(e)):o?o>=r.nodeValue.length?n.insertAfter(e,r):(t=r.splitText(o),r.parentNode.insertBefore(e,t)):r.parentNode.insertBefore(e,r)}function b(e){var t=B.extractContents();B.insertNode(e),e.appendChild(t),B.selectNode(e)}function y(){return U(new t(n),{startContainer:B[$],startOffset:B[W],endContainer:B[q],endOffset:B[j],collapsed:B.collapsed,commonAncestorContainer:B.commonAncestorContainer})}function x(e,t){var n;if(3==e.nodeType)return e;if(0>t)return e;for(n=e.firstChild;n&&t>0;)--t,n=n.nextSibling;return n?n:e}function C(){return B[$]==B[q]&&B[W]==B[j]}function w(e,t,i,r){var o,a,s,l,c,u;if(e==i)return t==r?0:r>t?-1:1;for(o=i;o&&o.parentNode!=e;)o=o.parentNode;if(o){for(a=0,s=e.firstChild;s!=o&&t>a;)a++,s=s.nextSibling;return a>=t?-1:1}for(o=e;o&&o.parentNode!=i;)o=o.parentNode;if(o){for(a=0,s=i.firstChild;s!=o&&r>a;)a++,s=s.nextSibling;return r>a?-1:1}for(l=n.findCommonAncestor(e,i),c=e;c&&c.parentNode!=l;)c=c.parentNode;for(c||(c=l),u=i;u&&u.parentNode!=l;)u=u.parentNode;if(u||(u=l),c==u)return 0;for(s=l.firstChild;s;){if(s==c)return-1;if(s==u)return 1;s=s.nextSibling}}function k(e,t,i){var r,o;for(e?(B[$]=t,B[W]=i):(B[q]=t,B[j]=i),r=B[q];r.parentNode;)r=r.parentNode;for(o=B[$];o.parentNode;)o=o.parentNode;o==r?w(B[$],B[W],B[q],B[j])>0&&B.collapse(e):B.collapse(e),B.collapsed=C(),B.commonAncestorContainer=n.findCommonAncestor(B[$],B[q])}function _(e){var t,n,i,r,o,a,s,l=0,c=0;if(B[$]==B[q])return E(e);for(t=B[q],n=t.parentNode;n;t=n,n=n.parentNode){if(n==B[$])return S(t,e);++l}for(t=B[$],n=t.parentNode;n;t=n,n=n.parentNode){if(n==B[q])return N(t,e);++c}for(i=c-l,r=B[$];i>0;)r=r.parentNode,i--;for(o=B[q];0>i;)o=o.parentNode,i++;for(a=r.parentNode,s=o.parentNode;a!=s;a=a.parentNode,s=s.parentNode)r=a,o=s;return T(r,o,e)}function E(e){var t,n,r,o,a,s,l,c,u;if(e!=O&&(t=i()),B[W]==B[j])return t;if(3==B[$].nodeType){if(n=B[$].nodeValue,r=n.substring(B[W],B[j]),e!=F&&(o=B[$],c=B[W],u=B[j]-B[W],0===c&&u>=o.nodeValue.length-1?o.parentNode.removeChild(o):o.deleteData(c,u),B.collapse(H)),e==O)return;return r.length>0&&t.appendChild(I.createTextNode(r)),t}for(o=x(B[$],B[W]),a=B[j]-B[W];o&&a>0;)s=o.nextSibling,l=D(o,e),t&&t.appendChild(l),--a,o=s;return e!=F&&B.collapse(H),t}function S(e,t){var n,r,o,a,s,l;if(t!=O&&(n=i()),r=M(e,t),n&&n.appendChild(r),o=V(e),a=o-B[W],0>=a)return t!=F&&(B.setEndBefore(e),B.collapse(z)),n;for(r=e.previousSibling;a>0;)s=r.previousSibling,l=D(r,t),n&&n.insertBefore(l,n.firstChild),--a,r=s;return t!=F&&(B.setEndBefore(e),B.collapse(z)),n}function N(e,t){var n,r,o,a,s,l;for(t!=O&&(n=i()),o=A(e,t),n&&n.appendChild(o),r=V(e),++r,a=B[j]-r,o=e.nextSibling;o&&a>0;)s=o.nextSibling,l=D(o,t),n&&n.appendChild(l),--a,o=s;return t!=F&&(B.setStartAfter(e),B.collapse(H)),n}function T(e,t,n){var r,o,a,s,l,c,u;for(n!=O&&(o=i()),r=A(e,n),o&&o.appendChild(r),a=V(e),s=V(t),++a,l=s-a,c=e.nextSibling;l>0;)u=c.nextSibling,r=D(c,n),o&&o.appendChild(r),c=u,--l;return r=M(t,n),o&&o.appendChild(r),n!=F&&(B.setStartAfter(e),B.collapse(H)),o}function M(e,t){var n,i,r,o,a,s=x(B[q],B[j]-1),l=s!=B[q];if(s==e)return R(s,l,z,t);for(n=s.parentNode,i=R(n,z,z,t);n;){for(;s;)r=s.previousSibling,o=R(s,l,z,t),t!=O&&i.insertBefore(o,i.firstChild),l=H,s=r;if(n==e)return i;s=n.previousSibling,n=n.parentNode,a=R(n,z,z,t),t!=O&&a.appendChild(i),i=a}}function A(e,t){var n,i,r,o,a,s=x(B[$],B[W]),l=s!=B[$];if(s==e)return R(s,l,H,t);for(n=s.parentNode,i=R(n,z,H,t);n;){for(;s;)r=s.nextSibling,o=R(s,l,H,t),t!=O&&i.appendChild(o),l=H,s=r;if(n==e)return i;s=n.nextSibling,n=n.parentNode,a=R(n,z,H,t),t!=O&&a.appendChild(i),i=a}}function R(e,t,i,r){var o,a,s,l,c;if(t)return D(e,r);if(3==e.nodeType){if(o=e.nodeValue,i?(l=B[W],a=o.substring(l),s=o.substring(0,l)):(l=B[j],a=o.substring(0,l),s=o.substring(l)),r!=F&&(e.nodeValue=s),r==O)return;return c=n.clone(e,z),c.nodeValue=a,c}return r!=O?n.clone(e,z):void 0}function D(e,t){return t!=O?t==F?n.clone(e,H):e:void e.parentNode.removeChild(e)}function P(){return n.create("body",null,g()).outerText}var B=this,I=n.doc,L=0,F=1,O=2,H=!0,z=!1,W="startOffset",$="startContainer",q="endContainer",j="endOffset",U=e.extend,V=n.nodeIndex;return U(B,{startContainer:I,startOffset:0,endContainer:I,endOffset:0,collapsed:H,commonAncestorContainer:I,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:r,setEnd:o,setStartBefore:a,setStartAfter:s,setEndBefore:l,setEndAfter:c,collapse:u,selectNode:d,selectNodeContents:f,compareBoundaryPoints:h,deleteContents:p,extractContents:m,cloneContents:g,insertNode:v,surroundContents:b,cloneRange:y,toStringIE:P}),B}return t.prototype.toString=function(){return this.toStringIE()},t}),i(p,[f],function(e){function t(e){var t;return t=document.createElement("div"),t.innerHTML=e,t.textContent||t.innerText||e}function n(e,t){var n,i,o,a={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)i=String.fromCharCode(parseInt(e[n],t)),r[i]||(o="&"+e[n+1]+";",a[i]=o,a[o]=i);return a}}var i,r,o,a=e.makeMap,s=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=/[<>&\"\']/g,u=/&(#x|#)?([\w]+);/g,d={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};r={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},o={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},i=n("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var f={encodeRaw:function(e,t){return e.replace(t?s:l,function(e){return r[e]||e})},encodeAllRaw:function(e){return(""+e).replace(c,function(e){return r[e]||e})},encodeNumeric:function(e,t){return e.replace(t?s:l,function(e){return e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":r[e]||"&#"+e.charCodeAt(0)+";"})},encodeNamed:function(e,t,n){return n=n||i,e.replace(t?s:l,function(e){return r[e]||n[e]||e})},getEncodeFunc:function(e,t){function o(e,n){return e.replace(n?s:l,function(e){return r[e]||t[e]||"&#"+e.charCodeAt(0)+";"||e})}function c(e,n){return f.encodeNamed(e,n,t)}return t=n(t)||i,e=a(e.replace(/\+/g,",")),e.named&&e.numeric?o:e.named?t?c:f.encodeNamed:e.numeric?f.encodeNumeric:f.encodeRaw},decode:function(e){return e.replace(u,function(e,n,r){return n?(r=parseInt(r,2===n.length?16:10),r>65535?(r-=65536,String.fromCharCode(55296+(r>>10),56320+(1023&r))):d[r]||String.fromCharCode(r)):o[e]||i[e]||t(e)})}};return f}),i(m,[],function(){var e,t,n,i,r,o,a,s=navigator,l=s.userAgent;e=window.opera&&window.opera.buildNumber,t=/WebKit/.test(l),n=!t&&!e&&/MSIE/gi.test(l)&&/Explorer/gi.test(s.appName),n=n&&/MSIE (\w+)\./.exec(l)[1],i=-1==l.indexOf("Trident/")||-1==l.indexOf("rv:")&&-1==s.appName.indexOf("Netscape")?!1:11,n=n||i,r=!t&&!i&&/Gecko/.test(l),o=-1!=l.indexOf("Mac"),a=/(iPad|iPhone)/.test(l);var c=!a||l.match(/AppleWebKit\/(\d*)/)[1]>=534;return{opera:e,webkit:t,ie:n,gecko:r,mac:o,iOS:a,contentEditable:c,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=n,range:window.getSelection&&"Range"in window,documentMode:n?document.documentMode||7:10}}),i(g,[],function(){return function(e,t){function n(t){e.getElementsByTagName("head")[0].appendChild(t)}function i(t,i,s){function l(){for(var e=v.passed,t=e.length;t--;)e[t]();v.status=2,v.passed=[],v.failed=[]}function c(){for(var e=v.failed,t=e.length;t--;)e[t]();v.status=3,v.passed=[],v.failed=[]}function u(){var e=navigator.userAgent.match(/WebKit\/(\d*)/);return!!(e&&e[1]<536)}function d(e,t){e()||((new Date).getTime()-g<r?window.setTimeout(t,0):c())}function f(){d(function(){for(var t,n,i=e.styleSheets,r=i.length;r--;)if(t=i[r],n=t.ownerNode?t.ownerNode:t.owningElement,n&&n.id===p.id)return l(),!0},f)}function h(){d(function(){try{var e=m.sheet.cssRules;return l(),!!e}catch(t){}},h)}var p,m,g,v;if(a[t]?v=a[t]:(v={passed:[],failed:[]},a[t]=v),i&&v.passed.push(i),s&&v.failed.push(s),1!=v.status){if(2==v.status)return void l();if(3==v.status)return void c();if(v.status=1,p=e.createElement("link"),p.rel="stylesheet",p.type="text/css",p.id="u"+o++,p.async=!1,p.defer=!1,g=(new Date).getTime(),"onload"in p&&!u())p.onload=f,p.onerror=c;else{if(navigator.userAgent.indexOf("Firefox")>0)return m=e.createElement("style"),m.textContent='@import "'+t+'"',h(),void n(m);f()}n(p),p.href=t}}var r,o=0,a={};t=t||{},r=t.maxLoadTime||5e3,this.load=i}}),i(v,[l,u,s,d,h,p,m,f,g],function(e,n,i,r,o,a,s,l,c){function u(e,t){var r,o=this;o.doc=e,o.win=window,o.files={},o.counter=0,o.stdMode=!v||e.documentMode>=8,o.boxModel=!v||"CSS1Compat"==e.compatMode||o.stdMode,o.hasOuterHTML="outerHTML"in e.createElement("a"),o.styleSheetLoader=new c(e),this.boundEvents=[],o.settings=t=m({keep_values:!1,hex_colors:1},t),o.schema=t.schema,o.styles=new n({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),o.fixDoc(e),o.events=t.ownEvents?new i(t.proxy):i.Event,r=t.schema?t.schema.getBlockElements():{},o.isBlock=function(e){if(!e)return!1;var t=e.nodeType;return t?!(1!==t||!r[e.nodeName]):!!r[e]}}var d=l.each,f=l.is,h=l.grep,p=l.trim,m=l.extend,g=s.webkit,v=s.ie,b=/^([a-z0-9],?)+$/i,y=/^[ \t\r\n]*$/,x=l.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," ");return u.prototype={root:null,props:{"for":"htmlFor","class":"className",className:"className",checked:"checked",disabled:"disabled",maxlength:"maxLength",readonly:"readOnly",selected:"selected",value:"value",id:"id",name:"name",type:"type"},fixDoc:function(e){var t,n=this.settings;if(v&&n.schema){"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(t){e.createElement(t)});for(t in n.schema.getCustomElements())e.createElement(t)}},clone:function(e,t){var n,i,r=this;return!v||1!==e.nodeType||t?e.cloneNode(t):(i=r.doc,t?n.firstChild:(n=i.createElement(e.nodeName),d(r.getAttribs(e),function(t){r.setAttrib(n,t.nodeName,r.getAttrib(e,t.nodeName))}),n))},getRoot:function(){var e=this;return e.get(e.settings.root_element)||e.doc.body},getViewPort:function(e){var t,n;return e=e?e:this.win,t=e.document,n=this.boxModel?t.documentElement:t.body,{x:e.pageXOffset||n.scrollLeft,y:e.pageYOffset||n.scrollTop,w:e.innerWidth||n.clientWidth,h:e.innerHeight||n.clientHeight}},getRect:function(e){var t,n,i=this;return e=i.get(e),t=i.getPos(e),n=i.getSize(e),{x:t.x,y:t.y,w:n.w,h:n.h}},getSize:function(e){var t,n,i=this;return e=i.get(e),t=i.getStyle(e,"width"),n=i.getStyle(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},getParent:function(e,t,n){return this.getParents(e,t,n,!1)},getParents:function(e,n,i,r){var o,a=this,s=[];for(e=a.get(e),r=r===t,i=i||("BODY"!=a.getRoot().nodeName?a.getRoot().parentNode:null),f(n,"string")&&(o=n,n="*"===n?function(e){return 1==e.nodeType}:function(e){return a.is(e,o)});e&&e!=i&&e.nodeType&&9!==e.nodeType;){if(!n||n(e)){if(!r)return e;s.push(e)}e=e.parentNode}return r?s:null},get:function(e){var t;return e&&this.doc&&"string"==typeof e&&(t=e,e=this.doc.getElementById(e),e&&e.id!==t)?this.doc.getElementsByName(t)[1]:e},getNext:function(e,t){return this._findSib(e,t,"nextSibling")},getPrev:function(e,t){return this._findSib(e,t,"previousSibling")},select:function(t,n){var i=this;return e(t,i.get(n)||i.get(i.settings.root_element)||i.doc,[])},is:function(n,i){var r;if(n.length===t){if("*"===i)return 1==n.nodeType;if(b.test(i)){for(i=i.toLowerCase().split(/,/),n=n.nodeName.toLowerCase(),r=i.length-1;r>=0;r--)if(i[r]==n)return!0;return!1}}if(n.nodeType&&1!=n.nodeType)return!1;var o=n.nodeType?[n]:n;return e(i,o[0].ownerDocument||o[0],null,o).length>0},add:function(e,t,n,i,r){var o=this;return this.run(e,function(e){var a;return a=f(t,"string")?o.doc.createElement(t):t,o.setAttribs(a,n),i&&(i.nodeType?a.appendChild(i):o.setHTML(a,i)),r?a:e.appendChild(a)})},create:function(e,t,n){return this.add(this.doc.createElement(e),e,t,n,1)},createHTML:function(e,t,n){var i,r="";r+="<"+e;for(i in t)t.hasOwnProperty(i)&&null!==t[i]&&(r+=" "+i+'="'+this.encode(t[i])+'"');return"undefined"!=typeof n?r+">"+n+"</"+e+">":r+" />"},createFragment:function(e){var t,n,i,r=this.doc;for(i=r.createElement("div"),t=r.createDocumentFragment(),e&&(i.innerHTML=e);n=i.firstChild;)t.appendChild(n);return t},remove:function(e,t){return this.run(e,function(e){var n,i=e.parentNode;if(!i)return null;if(t)for(;n=e.firstChild;)!v||3!==n.nodeType||n.nodeValue?i.insertBefore(n,e):e.removeChild(n);return i.removeChild(e)})},setStyle:function(e,t,n){return this.run(e,function(e){var i,r,o=this;if(t)if("string"==typeof t){i=e.style,t=t.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}),"number"!=typeof n||x[t]||(n+="px"),"opacity"===t&&e.runtimeStyle&&"undefined"==typeof e.runtimeStyle.opacity&&(i.filter=""===n?"":"alpha(opacity="+100*n+")"),"float"==t&&(t="cssFloat"in e.style?"cssFloat":"styleFloat");try{i[t]=n}catch(a){}o.settings.update_styles&&e.removeAttribute("data-mce-style")}else for(r in t)o.setStyle(e,r,t[r])})},getStyle:function(e,n,i){if(e=this.get(e)){if(this.doc.defaultView&&i){n=n.replace(/[A-Z]/g,function(e){return"-"+e});try{return this.doc.defaultView.getComputedStyle(e,null).getPropertyValue(n)}catch(r){return null}}return n=n.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}),"float"==n&&(n=v?"styleFloat":"cssFloat"),e.currentStyle&&i?e.currentStyle[n]:e.style?e.style[n]:t}},setStyles:function(e,t){this.setStyle(e,t)},css:function(e,t,n){this.setStyle(e,t,n)},removeAllAttribs:function(e){return this.run(e,function(e){var t,n=e.attributes;for(t=n.length-1;t>=0;t--)e.removeAttributeNode(n.item(t))})},setAttrib:function(e,t,n){var i=this;return e&&t?this.run(e,function(e){var r=i.settings,o=e.getAttribute(t);if(null!==n)switch(t){case"style":if(!f(n,"string"))return void d(n,function(t,n){i.setStyle(e,n,t)});r.keep_values&&(n?e.setAttribute("data-mce-style",n,2):e.removeAttribute("data-mce-style",2)),e.style.cssText=n;break;case"class":e.className=n||"";break;case"src":case"href":r.keep_values&&(r.url_converter&&(n=r.url_converter.call(r.url_converter_scope||i,n,t,e)),i.setAttrib(e,"data-mce-"+t,n,2));break;case"shape":e.setAttribute("data-mce-style",n)}f(n)&&null!==n&&0!==n.length?e.setAttribute(t,""+n,2):e.removeAttribute(t,2),o!=n&&r.onSetAttrib&&r.onSetAttrib({attrElm:e,attrName:t,attrValue:n})}):void 0},setAttribs:function(e,t){var n=this;return this.run(e,function(e){d(t,function(t,i){n.setAttrib(e,i,t)})})},getAttrib:function(e,t,n){var i,r,o=this;if(e=o.get(e),!e||1!==e.nodeType)return n===r?!1:n;if(f(n)||(n=""),/^(src|href|style|coords|shape)$/.test(t)&&(i=e.getAttribute("data-mce-"+t)))return i;if(v&&o.props[t]&&(i=e[o.props[t]],i=i&&i.nodeValue?i.nodeValue:i),i||(i=e.getAttribute(t,2)),/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noshade|nowrap|readonly|selected)$/.test(t))return e[o.props[t]]===!0&&""===i?t:i?t:"";if("FORM"===e.nodeName&&e.getAttributeNode(t))return e.getAttributeNode(t).nodeValue;if("style"===t&&(i=i||e.style.cssText,i&&(i=o.serializeStyle(o.parseStyle(i),e.nodeName),o.settings.keep_values&&e.setAttribute("data-mce-style",i))),g&&"class"===t&&i&&(i=i.replace(/(apple|webkit)\-[a-z\-]+/gi,"")),v)switch(t){case"rowspan":case"colspan":1===i&&(i="");break;case"size":("+0"===i||20===i||0===i)&&(i="");break;case"width":case"height":case"vspace":case"checked":case"disabled":case"readonly":0===i&&(i="");break;case"hspace":-1===i&&(i="");break;case"maxlength":case"tabindex":(32768===i||2147483647===i||"32768"===i)&&(i="");break;case"multiple":case"compact":case"noshade":case"nowrap":return 65535===i?t:n;case"shape":i=i.toLowerCase();break;default:0===t.indexOf("on")&&i&&(i=(""+i).replace(/^function\s+\w+\(\)\s+\{\s+(.*)\s+\}$/,"$1"))}return i!==r&&null!==i&&""!==i?""+i:n},getPos:function(e,t){var n,i,r=this,o=0,a=0,s=r.doc;if(e=r.get(e),t=t||s.body,e){if(t===s.body&&e.getBoundingClientRect)return i=e.getBoundingClientRect(),t=r.boxModel?s.documentElement:s.body,o=i.left+(s.documentElement.scrollLeft||s.body.scrollLeft)-t.clientLeft,a=i.top+(s.documentElement.scrollTop||s.body.scrollTop)-t.clientTop,{x:o,y:a};
for(n=e;n&&n!=t&&n.nodeType;)o+=n.offsetLeft||0,a+=n.offsetTop||0,n=n.offsetParent;for(n=e.parentNode;n&&n!=t&&n.nodeType;)o-=n.scrollLeft||0,a-=n.scrollTop||0,n=n.parentNode}return{x:o,y:a}},parseStyle:function(e){return this.styles.parse(e)},serializeStyle:function(e,t){return this.styles.serialize(e,t)},addStyle:function(e){var t,n,i=this,r=i.doc;if(i!==u.DOM&&r===document){var o=u.DOM.addedStyles;if(o=o||[],o[e])return;o[e]=!0,u.DOM.addedStyles=o}n=r.getElementById("mceDefaultStyles"),n||(n=r.createElement("style"),n.id="mceDefaultStyles",n.type="text/css",t=r.getElementsByTagName("head")[0],t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(r.createTextNode(e))},loadCSS:function(e){var t,n=this,i=n.doc;return n!==u.DOM&&i===document?void u.DOM.loadCSS(e):(e||(e=""),t=i.getElementsByTagName("head")[0],void d(e.split(","),function(e){var r;n.files[e]||(n.files[e]=!0,r=n.create("link",{rel:"stylesheet",href:e}),v&&i.documentMode&&i.recalc&&(r.onload=function(){i.recalc&&i.recalc(),r.onload=null}),t.appendChild(r))}))},addClass:function(e,t){return this.run(e,function(e){var n;return t?this.hasClass(e,t)?e.className:(n=this.removeClass(e,t),e.className=n=(""!==n?n+" ":"")+t,n):0})},removeClass:function(e,t){var n,i=this;return i.run(e,function(e){var r;return i.hasClass(e,t)?(n||(n=new RegExp("(^|\\s+)"+t+"(\\s+|$)","g")),r=e.className.replace(n," "),r=p(" "!=r?r:""),e.className=r,r||(e.removeAttribute("class"),e.removeAttribute("className")),r):e.className})},hasClass:function(e,t){return e=this.get(e),e&&t?-1!==(" "+e.className+" ").indexOf(" "+t+" "):!1},toggleClass:function(e,n,i){i=i===t?!this.hasClass(e,n):i,this.hasClass(e,n)!==i&&(i?this.addClass(e,n):this.removeClass(e,n))},show:function(e){return this.setStyle(e,"display","block")},hide:function(e){return this.setStyle(e,"display","none")},isHidden:function(e){return e=this.get(e),!e||"none"==e.style.display||"none"==this.getStyle(e,"display")},uniqueId:function(e){return(e?e:"mce_")+this.counter++},setHTML:function(e,t){var n=this;return n.run(e,function(e){if(v){for(;e.firstChild;)e.removeChild(e.firstChild);try{e.innerHTML="<br />"+t,e.removeChild(e.firstChild)}catch(i){var r=n.create("div");r.innerHTML="<br />"+t,d(h(r.childNodes),function(t,n){n&&e.canHaveHTML&&e.appendChild(t)})}}else e.innerHTML=t;return t})},getOuterHTML:function(e){var t,n=this;return(e=n.get(e))?1===e.nodeType&&n.hasOuterHTML?e.outerHTML:(t=(e.ownerDocument||n.doc).createElement("body"),t.appendChild(e.cloneNode(!0)),t.innerHTML):null},setOuterHTML:function(e,t,n){var i=this;return i.run(e,function(e){function r(){var r,o;for(o=n.createElement("body"),o.innerHTML=t,r=o.lastChild;r;)i.insertAfter(r.cloneNode(!0),e),r=r.previousSibling;i.remove(e)}if(1==e.nodeType)if(n=n||e.ownerDocument||i.doc,v)try{1==e.nodeType&&i.hasOuterHTML?e.outerHTML=t:r()}catch(o){r()}else r()})},decode:a.decode,encode:a.encodeAllRaw,insertAfter:function(e,t){return t=this.get(t),this.run(e,function(e){var n,i;return n=t.parentNode,i=t.nextSibling,i?n.insertBefore(e,i):n.appendChild(e),e})},replace:function(e,t,n){var i=this;return i.run(t,function(t){return f(t,"array")&&(e=e.cloneNode(!0)),n&&d(h(t.childNodes),function(t){e.appendChild(t)}),t.parentNode.replaceChild(e,t)})},rename:function(e,t){var n,i=this;return e.nodeName!=t.toUpperCase()&&(n=i.create(t),d(i.getAttribs(e),function(t){i.setAttrib(n,t.nodeName,i.getAttrib(e,t.nodeName))}),i.replace(n,e,1)),n||e},findCommonAncestor:function(e,t){for(var n,i=e;i;){for(n=t;n&&i!=n;)n=n.parentNode;if(i==n)break;i=i.parentNode}return!i&&e.ownerDocument?e.ownerDocument.documentElement:i},toHex:function(e){return this.styles.toHex(l.trim(e))},run:function(e,t,n){var i,r=this;return"string"==typeof e&&(e=r.get(e)),e?(n=n||this,e.nodeType||!e.length&&0!==e.length?t.call(n,e):(i=[],d(e,function(e,o){e&&("string"==typeof e&&(e=r.get(e)),i.push(t.call(n,e,o)))}),i)):!1},getAttribs:function(e){var t;if(e=this.get(e),!e)return[];if(v){if(t=[],"OBJECT"==e.nodeName)return e.attributes;"OPTION"===e.nodeName&&this.getAttrib(e,"selected")&&t.push({specified:1,nodeName:"selected"});var n=/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi;return e.cloneNode(!1).outerHTML.replace(n,"").replace(/[\w:\-]+/gi,function(e){t.push({specified:1,nodeName:e})}),t}return e.attributes},isEmpty:function(e,t){var n,i,o,a,s,l=this,c=0;if(e=e.firstChild){a=new r(e,e.parentNode),t=t||l.schema?l.schema.getNonEmptyElements():null;do{if(o=e.nodeType,1===o){if(e.getAttribute("data-mce-bogus"))continue;if(s=e.nodeName.toLowerCase(),t&&t[s]){if("br"===s){c++;continue}return!1}for(i=l.getAttribs(e),n=i.length;n--;)if(s=i[n].nodeName,"name"===s||"data-mce-bookmark"===s)return!1}if(8==o)return!1;if(3===o&&!y.test(e.nodeValue))return!1}while(e=a.next())}return 1>=c},createRng:function(){var e=this.doc;return e.createRange?e.createRange():new o(this)},nodeIndex:function(e,t){var n,i,r=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)i=e.nodeType,(!t||3!=i||i!=n&&e.nodeValue.length)&&(r++,n=i);return r},split:function(e,t,n){function i(e){function t(e){var t=e.previousSibling&&"SPAN"==e.previousSibling.nodeName,n=e.nextSibling&&"SPAN"==e.nextSibling.nodeName;return t&&n}var n,r=e.childNodes,o=e.nodeType;if(1!=o||"bookmark"!=e.getAttribute("data-mce-type")){for(n=r.length-1;n>=0;n--)i(r[n]);if(9!=o){if(3==o&&e.nodeValue.length>0){var a=p(e.nodeValue).length;if(!s.isBlock(e.parentNode)||a>0||0===a&&t(e))return}else if(1==o&&(r=e.childNodes,1==r.length&&r[0]&&1==r[0].nodeType&&"bookmark"==r[0].getAttribute("data-mce-type")&&e.parentNode.insertBefore(r[0],e),r.length||/^(br|hr|input|img)$/i.test(e.nodeName)))return;s.remove(e)}return e}}var r,o,a,s=this,l=s.createRng();return e&&t?(l.setStart(e.parentNode,s.nodeIndex(e)),l.setEnd(t.parentNode,s.nodeIndex(t)),r=l.extractContents(),l=s.createRng(),l.setStart(t.parentNode,s.nodeIndex(t)+1),l.setEnd(e.parentNode,s.nodeIndex(e)+1),o=l.extractContents(),a=e.parentNode,a.insertBefore(i(r),e),n?a.replaceChild(n,t):a.insertBefore(t,e),a.insertBefore(i(o),e),s.remove(e),n||t):void 0},bind:function(e,t,n,i){var r=this;if(l.isArray(e)){for(var o=e.length;o--;)e[o]=r.bind(e[o],t,n,i);return e}return!r.settings.collect||e!==r.doc&&e!==r.win||r.boundEvents.push([e,t,n,i]),r.events.bind(e,t,n,i||r)},unbind:function(e,t,n){var i,r=this;if(l.isArray(e)){for(i=e.length;i--;)e[i]=r.unbind(e[i],t,n);return e}if(r.boundEvents&&(e===r.doc||e===r.win))for(i=r.boundEvents.length;i--;){var o=r.boundEvents[i];e!=o[0]||t&&t!=o[1]||n&&n!=o[2]||this.events.unbind(o[0],o[1],o[2])}return this.events.unbind(e,t,n)},fire:function(e,t,n){return this.events.fire(e,t,n)},getContentEditable:function(e){var t;return e&&1==e.nodeType?(t=e.getAttribute("data-mce-contenteditable"),t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null):null},getContentEditableParent:function(e){for(var t=this.getRoot(),n=null;e&&e!==t&&(n=this.getContentEditable(e),null===n);e=e.parentNode);return n},destroy:function(){var t=this;if(t.boundEvents){for(var n=t.boundEvents.length;n--;){var i=t.boundEvents[n];this.events.unbind(i[0],i[1],i[2])}t.boundEvents=null}e.setDocument&&e.setDocument(),t.win=t.doc=t.root=t.events=t.frag=null},isChildOf:function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},_findSib:function(e,t,n){var i=this,r=t;if(e)for("string"==typeof r&&(r=function(e){return i.is(e,t)}),e=e[n];e;e=e[n])if(r(e))return e;return null}},u.DOM=new u(document),u}),i(b,[v,f],function(e,t){function n(){function e(e,t){function n(){s.remove(a),o&&(o.onreadystatechange=o.onload=o=null),t()}function r(){"undefined"!=typeof console&&console.log&&console.log("Failed to load: "+e)}var o,a,s=i;a=s.uniqueId(),o=document.createElement("script"),o.id=a,o.type="text/javascript",o.src=e,"onreadystatechange"in o?o.onreadystatechange=function(){/loaded|complete/.test(o.readyState)&&n()}:o.onload=n,o.onerror=r,(document.getElementsByTagName("head")[0]||document.body).appendChild(o)}var t,n=0,a=1,s=2,l={},c=[],u={},d=[],f=0;this.isDone=function(e){return l[e]==s},this.markDone=function(e){l[e]=s},this.add=this.load=function(e,i,r){var o=l[e];o==t&&(c.push(e),l[e]=n),i&&(u[e]||(u[e]=[]),u[e].push({func:i,scope:r||this}))},this.loadQueue=function(e,t){this.loadScripts(c,e,t)},this.loadScripts=function(n,i,c){function h(e){r(u[e],function(e){e.func.call(e.scope)}),u[e]=t}var p;d.push({func:i,scope:c||this}),(p=function(){var t=o(n);n.length=0,r(t,function(t){return l[t]==s?void h(t):void(l[t]!=a&&(l[t]=a,f++,e(t,function(){l[t]=s,f--,h(t),p()})))}),f||(r(d,function(e){e.func.call(e.scope)}),d.length=0)})()}}var i=e.DOM,r=t.each,o=t.grep;return n.ScriptLoader=new n,n}),i(y,[b,f],function(e,n){function i(){var e=this;e.items=[],e.urls={},e.lookup={}}var r=n.each;return i.prototype={get:function(e){return this.lookup[e]?this.lookup[e].instance:t},dependencies:function(e){var t;return this.lookup[e]&&(t=this.lookup[e].dependencies),t||[]},requireLangPack:function(t,n){var r=i.language;if(r&&i.languageLoad!==!1){if(n)if(n=","+n+",",-1!=n.indexOf(","+r.substr(0,2)+","))r=r.substr(0,2);else if(-1==n.indexOf(","+r+","))return;e.ScriptLoader.add(this.urls[t]+"/langs/"+r+".js")}},add:function(e,t,n){return this.items.push(t),this.lookup[e]={instance:t,dependencies:n},t},createUrl:function(e,t){return"object"==typeof t?t:{prefix:e.prefix,resource:t,suffix:e.suffix}},addComponents:function(t,n){var i=this.urls[t];r(n,function(t){e.ScriptLoader.add(i+"/"+t)})},load:function(n,o,a,s){function l(){var i=c.dependencies(n);r(i,function(e){var n=c.createUrl(o,e);c.load(n.resource,n,t,t)}),a&&a.call(s?s:e)}var c=this,u=o;c.urls[n]||("object"==typeof o&&(u=o.prefix+o.resource+o.suffix),0!==u.indexOf("/")&&-1==u.indexOf("://")&&(u=i.baseURL+"/"+u),c.urls[n]=u.substring(0,u.lastIndexOf("/")),c.lookup[n]?l():e.ScriptLoader.add(u,l,s))}},i.PluginManager=new i,i.ThemeManager=new i,i}),i(x,[],function(){function e(e,t,n){var i,r,o=n?"lastChild":"firstChild",a=n?"prev":"next";if(e[o])return e[o];if(e!==t){if(i=e[a])return i;for(r=e.parent;r&&r!==t;r=r.parent)if(i=r[a])return i}}function t(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}var n=/^[ \t\r\n]*$/,i={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};return t.prototype={replace:function(e){var t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t},attr:function(e,t){var n,i,r,o=this;if("string"!=typeof e){for(i in e)o.attr(i,e[i]);return o}if(n=o.attributes){if(t!==r){if(null===t){if(e in n.map)for(delete n.map[e],i=n.length;i--;)if(n[i].name===e)return n=n.splice(i,1),o;return o}if(e in n.map){for(i=n.length;i--;)if(n[i].name===e){n[i].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,o}return n.map[e]}},clone:function(){var e,n,i,r,o,a=this,s=new t(a.name,a.type);if(i=a.attributes){for(o=[],o.map={},e=0,n=i.length;n>e;e++)r=i[e],"id"!==r.name&&(o[o.length]={name:r.name,value:r.value},o.map[r.name]=r.value);s.attributes=o}return s.value=a.value,s.shortEnded=a.shortEnded,s},wrap:function(e){var t=this;return t.parent.insert(e,t),e.append(t),t},unwrap:function(){var e,t,n=this;for(e=n.firstChild;e;)t=e.next,n.insert(e,n,!0),e=t;n.remove()},remove:function(){var e=this,t=e.parent,n=e.next,i=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):i.next=n,t.lastChild===e?(t.lastChild=i,i&&(i.next=null)):n.prev=i,e.parent=e.next=e.prev=null),e},append:function(e){var t,n=this;return e.parent&&e.remove(),t=n.lastChild,t?(t.next=e,e.prev=t,n.lastChild=e):n.lastChild=n.firstChild=e,e.parent=n,e},insert:function(e,t,n){var i;return e.parent&&e.remove(),i=t.parent||this,n?(t===i.firstChild?i.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===i.lastChild?i.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=i,e},getAll:function(t){var n,i=this,r=[];for(n=i.firstChild;n;n=e(n,i))n.name===t&&r.push(n);return r},empty:function(){var t,n,i,r=this;if(r.firstChild){for(t=[],i=r.firstChild;i;i=e(i,r))t.push(i);for(n=t.length;n--;)i=t[n],i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}return r.firstChild=r.lastChild=null,r},isEmpty:function(t){var i,r,o=this,a=o.firstChild;if(a)do{if(1===a.type){if(a.attributes.map["data-mce-bogus"])continue;if(t[a.name])return!1;for(i=a.attributes.length;i--;)if(r=a.attributes[i].name,"name"===r||0===r.indexOf("data-mce-"))return!1}if(8===a.type)return!1;if(3===a.type&&!n.test(a.value))return!1}while(a=e(a,o));return!0},walk:function(t){return e(this,null,t)}},t.create=function(e,n){var r,o;if(r=new t(e,i[e]||1),n)for(o in n)r.attr(o,n[o]);return r},t}),i(C,[f],function(e){function t(e,t){return e?e.split(t||" "):[]}function n(e){function n(e,n,i){function r(e){var t,n,i={};for(t=0,n=e.length;n>t;t++)i[e[t]]={};return i}var o,s,l,c=arguments;for(i=i||[],n=n||"","string"==typeof i&&(i=t(i)),s=3;s<c.length;s++)"string"==typeof c[s]&&(c[s]=t(c[s])),i.push.apply(i,c[s]);for(e=t(e),o=e.length;o--;)l=[].concat(a,t(n)),f[e[o]]={attributes:r(l),attributesOrder:l,children:r(i)}}function r(e,n){var i,r,o,a;for(e=t(e),i=e.length,n=t(n);i--;)for(r=f[e[i]],o=0,a=n.length;a>o;o++)r.attributes[n[o]]={},r.attributesOrder.push(n[o])}var a,s,l,c,u,d,f={};return i[e]?i[e]:(a=t("id accesskey class dir lang style tabindex title"),s=t("address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul"),l=t("a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment"),"html4"!=e&&(a.push.apply(a,t("contenteditable contextmenu draggable dropzone hidden spellcheck translate")),s.push.apply(s,t("article aside details dialog figure header footer hgroup section nav")),l.push.apply(l,t("audio canvas command datalist mark meter output progress time wbr video ruby bdi keygen"))),"html5-strict"!=e&&(a.push("xml:lang"),d=t("acronym applet basefont big font strike tt"),l.push.apply(l,d),o(d,function(e){n(e,"",l)}),u=t("center dir isindex noframes"),s.push.apply(s,u),c=[].concat(s,l),o(u,function(e){n(e,"",c)})),c=c||[].concat(s,l),n("html","manifest","head body"),n("head","","base command link meta noscript script style title"),n("title hr noscript br"),n("base","href target"),n("link","href rel media hreflang type sizes hreflang"),n("meta","name http-equiv content charset"),n("style","media type scoped"),n("script","src async defer type charset"),n("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",c),n("address dt dd div caption","",c),n("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",l),n("blockquote","cite",c),n("ol","reversed start type","li"),n("ul","","li"),n("li","value",c),n("dl","","dt dd"),n("a","href target rel media hreflang type",l),n("q","cite",l),n("ins del","cite datetime",c),n("img","src alt usemap ismap width height"),n("iframe","src name width height",c),n("embed","src type width height"),n("object","data type typemustmatch name usemap form width height",c,"param"),n("param","name value"),n("map","name",c,"area"),n("area","alt coords shape href target rel media hreflang type"),n("table","border","caption colgroup thead tfoot tbody tr"+("html4"==e?" col":"")),n("colgroup","span","col"),n("col","span"),n("tbody thead tfoot","","tr"),n("tr","","td th"),n("td","colspan rowspan headers",c),n("th","colspan rowspan headers scope abbr",c),n("form","accept-charset action autocomplete enctype method name novalidate target",c),n("fieldset","disabled form name",c,"legend"),n("label","form for",l),n("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),n("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==e?c:l),n("select","disabled form multiple name required size","option optgroup"),n("optgroup","disabled label","option"),n("option","disabled label selected value"),n("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),n("menu","type label",c,"li"),n("noscript","",c),"html4"!=e&&(n("wbr"),n("ruby","",l,"rt rp"),n("figcaption","",c),n("mark rt rp summary bdi","",l),n("canvas","width height",c),n("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",c,"track source"),n("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",c,"track source"),n("source","src type media"),n("track","kind src srclang label default"),n("datalist","",l,"option"),n("article section nav aside header footer","",c),n("hgroup","","h1 h2 h3 h4 h5 h6"),n("figure","",c,"figcaption"),n("time","datetime",l),n("dialog","open",c),n("command","type label icon disabled checked radiogroup command"),n("output","for form name",l),n("progress","value max",l),n("meter","value min max low high optimum",l),n("details","open",c,"summary"),n("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=e&&(r("script","language xml:space"),r("style","xml:space"),r("object","declare classid codebase codetype archive standby align border hspace vspace"),r("param","valuetype type"),r("a","charset name rev shape coords"),r("br","clear"),r("applet","codebase archive code object alt name width height align hspace vspace"),r("img","name longdesc align border hspace vspace"),r("iframe","longdesc frameborder marginwidth marginheight scrolling align"),r("font basefont","size color face"),r("input","usemap align"),r("select","onchange"),r("textarea"),r("h1 h2 h3 h4 h5 h6 div p legend caption","align"),r("ul","type compact"),r("li","type"),r("ol dl menu dir","compact"),r("pre","width xml:space"),r("hr","align noshade size width"),r("isindex","prompt"),r("table","summary width frame rules cellspacing cellpadding align bgcolor"),r("col","width align char charoff valign"),r("colgroup","width align char charoff valign"),r("thead","align char charoff valign"),r("tr","align char charoff valign bgcolor"),r("th","axis align char charoff valign nowrap bgcolor width height"),r("form","accept"),r("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),r("tfoot","align char charoff valign"),r("tbody","align char charoff valign"),r("area","nohref"),r("body","background bgcolor text link vlink alink")),"html4"!=e&&(r("input button select textarea","autofocus"),r("input textarea","placeholder"),r("a","download"),r("link script img","crossorigin"),r("iframe","sandbox seamless allowfullscreen")),o(t("a form meter progress dfn"),function(e){f[e]&&delete f[e].children[e]}),delete f.caption.children.table,i[e]=f,f)}var i={},r=e.makeMap,o=e.each,a=e.extend,s=e.explode,l=e.inArray;return function(e){function c(t,n,o){var s=e[t];return s?s=r(s,/[, ]/,r(s.toUpperCase(),/[, ]/)):(s=i[t],s||(s=r(n," ",r(n.toUpperCase()," ")),s=a(s,o),i[t]=s)),s}function u(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")}function d(e){var n,i,o,a,s,c,d,f,h,p,m,g,v,b,y,x,C,w,k,_=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,E=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,N=/[*?+]/;if(e)for(e=t(e,","),S["@"]&&(x=S["@"].attributes,C=S["@"].attributesOrder),n=0,i=e.length;i>n;n++)if(s=_.exec(e[n])){if(b=s[1],h=s[2],y=s[3],f=s[5],g={},v=[],c={attributes:g,attributesOrder:v},"#"===b&&(c.paddEmpty=!0),"-"===b&&(c.removeEmpty=!0),"!"===s[4]&&(c.removeEmptyAttrs=!0),x){for(w in x)g[w]=x[w];v.push.apply(v,C)}if(f)for(f=t(f,"|"),o=0,a=f.length;a>o;o++)if(s=E.exec(f[o])){if(d={},m=s[1],p=s[2].replace(/::/g,":"),b=s[3],k=s[4],"!"===m&&(c.attributesRequired=c.attributesRequired||[],c.attributesRequired.push(p),d.required=!0),"-"===m){delete g[p],v.splice(l(v,p),1);continue}b&&("="===b&&(c.attributesDefault=c.attributesDefault||[],c.attributesDefault.push({name:p,value:k}),d.defaultValue=k),":"===b&&(c.attributesForced=c.attributesForced||[],c.attributesForced.push({name:p,value:k}),d.forcedValue=k),"<"===b&&(d.validValues=r(k,"?"))),N.test(p)?(c.attributePatterns=c.attributePatterns||[],d.pattern=u(p),c.attributePatterns.push(d)):(g[p]||v.push(p),g[p]=d)}x||"@"!=h||(x=g,C=v),y&&(c.outputName=h,S[y]=c),N.test(h)?(c.pattern=u(h),T.push(c)):S[h]=c}}function f(e){S={},T=[],d(e),o(v,function(e,t){N[t]=e.children})}function h(e){var n=/^(~)?(.+)$/;e&&(i.text_block_elements=i.block_elements=null,o(t(e,","),function(e){var t=n.exec(e),i="~"===t[1],r=i?"span":"div",s=t[2];if(N[s]=N[r],M[s]=r,i||(w[s.toUpperCase()]={},w[s]={}),!S[s]){var l=S[r];l=a({},l),delete l.removeEmptyAttrs,delete l.removeEmpty,S[s]=l}o(N,function(e,t){e[r]&&(N[t]=e=a({},N[t]),e[s]=e[r])})}))}function p(e){var n=/^([+\-]?)(\w+)\[([^\]]+)\]$/;e&&o(t(e,","),function(e){var i,r,s=n.exec(e);s&&(r=s[1],i=r?N[s[2]]:N[s[2]]={"#comment":{}},i=N[s[2]],o(t(s[3],"|"),function(e){"-"===r?(N[s[2]]=i=a({},N[s[2]]),delete i[e]):i[e]={}}))})}function m(e){var t,n=S[e];if(n)return n;for(t=T.length;t--;)if(n=T[t],n.pattern.test(e))return n}var g,v,b,y,x,C,w,k,_,E=this,S={},N={},T=[],M={},A={};e=e||{},v=n(e.schema),e.verify_html===!1&&(e.valid_elements="*[*]"),e.valid_styles&&(g={},o(e.valid_styles,function(e,t){g[t]=s(e)})),b=c("whitespace_elements","pre script noscript style textarea video audio iframe object"),y=c("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),x=c("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),C=c("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),k=c("non_empty_elements","td th iframe video audio object script",x),_=c("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),w=c("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup",_),o((e.special||"script noscript style textarea").split(" "),function(e){A[e]=new RegExp("</"+e+"[^>]*>","gi")}),e.valid_elements?f(e.valid_elements):(o(v,function(e,t){S[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},N[t]=e.children}),"html5"!=e.schema&&o(t("strong/b em/i"),function(e){e=t(e,"/"),S[e[1]].outputName=e[0]}),S.img.attributesDefault=[{name:"alt",value:""}],o(t("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(e){S[e]&&(S[e].removeEmpty=!0)}),o(t("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(e){S[e].paddEmpty=!0}),o(t("span"),function(e){S[e].removeEmptyAttrs=!0})),h(e.custom_elements),p(e.valid_children),d(e.extended_valid_elements),p("+ol[ul|ol],+ul[ul|ol]"),e.invalid_elements&&o(s(e.invalid_elements),function(e){S[e]&&delete S[e]}),m("span")||d("span[!data-mce-type|*]"),E.children=N,E.styles=g,E.getBoolAttrs=function(){return C},E.getBlockElements=function(){return w},E.getTextBlockElements=function(){return _},E.getShortEndedElements=function(){return x},E.getSelfClosingElements=function(){return y},E.getNonEmptyElements=function(){return k},E.getWhiteSpaceElements=function(){return b},E.getSpecialElements=function(){return A},E.isValidChild=function(e,t){var n=N[e];return!(!n||!n[t])},E.isValid=function(e,t){var n,i,r=m(e);if(r){if(!t)return!0;if(r.attributes[t])return!0;if(n=r.attributePatterns)for(i=n.length;i--;)if(n[i].pattern.test(e))return!0}return!1},E.getElementRule=m,E.getCustomElements=function(){return M},E.addValidElements=d,E.setValidElements=f,E.addCustomElements=h,E.addValidChildren=p,E.elements=S}}),i(w,[C,p,f],function(e,t,n){var i=n.each;return function(r,o){function a(){}var s=this;r=r||{},s.schema=o=o||new e,r.fix_self_closing!==!1&&(r.fix_self_closing=!0),i("comment cdata text start end pi doctype".split(" "),function(e){e&&(s[e]=r[e]||a)}),s.parse=function(e){function i(e){var t,n;for(t=O.length;t--&&O[t].name!==e;);if(t>=0){for(n=O.length-1;n>=t;n--)e=O[n],e.valid&&L.end(e.name);O.length=t}}function a(e,t,n,i,o){var a,s,l=/[\s\u0000-\u001F]+/g;if(t=t.toLowerCase(),n=t in v?t:z(n||i||o||""),y&&!p&&0!==t.indexOf("data-")){if(a=_[t],!a&&E){for(s=E.length;s--&&(a=E[s],!a.pattern.test(t)););-1===s&&(a=null)}if(!a)return;if(a.validValues&&!(n in a.validValues))return}if(W[t]&&!r.allow_script_urls){var c=n.replace(l,"");try{c=decodeURIComponent(c)}catch(d){c=unescape(c)}if($.test(c))return;if(!r.allow_html_data_urls&&q.test(c)&&!/^data:image\//i.test(c))return}u.map[t]=n,u.push({name:t,value:n})}var s,l,c,u,d,f,h,p,m,g,v,b,y,x,C,w,k,_,E,S,N,T,M,A,R,D,P,B,I,L=this,F=0,O=[],H=0,z=t.decode,W=n.makeMap("src,href,data,background,formaction,poster"),$=/((java|vb)script|mhtml):/i,q=/^data:/i;for(R=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),D=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,g=o.getShortEndedElements(),A=r.self_closing_elements||o.getSelfClosingElements(),v=o.getBoolAttrs(),y=r.validate,m=r.remove_internals,I=r.fix_self_closing,P=o.getSpecialElements();s=R.exec(e);){if(F<s.index&&L.text(z(e.substr(F,s.index-F))),l=s[6])l=l.toLowerCase(),":"===l.charAt(0)&&(l=l.substr(1)),i(l);else if(l=s[7]){if(l=l.toLowerCase(),":"===l.charAt(0)&&(l=l.substr(1)),b=l in g,I&&A[l]&&O.length>0&&O[O.length-1].name===l&&i(l),!y||(x=o.getElementRule(l))){if(C=!0,y&&(_=x.attributes,E=x.attributePatterns),(k=s[8])?(p=-1!==k.indexOf("data-mce-type"),p&&m&&(C=!1),u=[],u.map={},k.replace(D,a)):(u=[],u.map={}),y&&!p){if(S=x.attributesRequired,N=x.attributesDefault,T=x.attributesForced,M=x.removeEmptyAttrs,M&&!u.length&&(C=!1),T)for(d=T.length;d--;)w=T[d],h=w.name,B=w.value,"{$uid}"===B&&(B="mce_"+H++),u.map[h]=B,u.push({name:h,value:B});if(N)for(d=N.length;d--;)w=N[d],h=w.name,h in u.map||(B=w.value,"{$uid}"===B&&(B="mce_"+H++),u.map[h]=B,u.push({name:h,value:B}));if(S){for(d=S.length;d--&&!(S[d]in u.map););-1===d&&(C=!1)}u.map["data-mce-bogus"]&&(C=!1)}C&&L.start(l,u,b)}else C=!1;if(c=P[l]){c.lastIndex=F=s.index+s[0].length,(s=c.exec(e))?(C&&(f=e.substr(F,s.index-F)),F=s.index+s[0].length):(f=e.substr(F),F=e.length),C&&(f.length>0&&L.text(f,!0),L.end(l)),R.lastIndex=F;continue}b||(k&&k.indexOf("/")==k.length-1?C&&L.end(l):O.push({name:l,valid:C}))}else(l=s[1])?(">"===l.charAt(0)&&(l=" "+l),r.allow_conditional_comments||"[if"!==l.substr(0,3)||(l=" "+l),L.comment(l)):(l=s[2])?L.cdata(l):(l=s[3])?L.doctype(l):(l=s[4])&&L.pi(l,s[5]);F=s.index+s[0].length}for(F<e.length&&L.text(z(e.substr(F))),d=O.length-1;d>=0;d--)l=O[d],l.valid&&L.end(l.name)}}}),i(k,[x,C,w,f],function(e,t,n,i){var r=i.makeMap,o=i.each,a=i.explode,s=i.extend;return function(i,l){function c(t){var n,i,o,a,s,c,d,f,h,p,m,g,v,b;for(m=r("tr,td,th,tbody,thead,tfoot,table"),p=l.getNonEmptyElements(),g=l.getTextBlockElements(),n=0;n<t.length;n++)if(i=t[n],i.parent&&!i.fixed)if(g[i.name]&&"li"==i.parent.name){for(v=i.next;v&&g[v.name];)v.name="li",v.fixed=!0,i.parent.insert(v,i.parent),v=v.next;i.unwrap(i)}else{for(a=[i],o=i.parent;o&&!l.isValidChild(o.name,i.name)&&!m[o.name];o=o.parent)a.push(o);if(o&&a.length>1){for(a.reverse(),s=c=u.filterNode(a[0].clone()),h=0;h<a.length-1;h++){for(l.isValidChild(c.name,a[h].name)?(d=u.filterNode(a[h].clone()),c.append(d)):d=c,f=a[h].firstChild;f&&f!=a[h+1];)b=f.next,d.append(f),f=b;c=d}s.isEmpty(p)?o.insert(i,a[0],!0):(o.insert(s,a[0],!0),o.insert(i,s)),o=a[0],(o.isEmpty(p)||o.firstChild===o.lastChild&&"br"===o.firstChild.name)&&o.empty().remove()}else if(i.parent){if("li"===i.name){if(v=i.prev,v&&("ul"===v.name||"ul"===v.name)){v.append(i);continue}if(v=i.next,v&&("ul"===v.name||"ul"===v.name)){v.insert(i,v.firstChild,!0);continue}i.wrap(u.filterNode(new e("ul",1)));continue}l.isValidChild(i.parent.name,"div")&&l.isValidChild("div",i.name)?i.wrap(u.filterNode(new e("div",1))):"style"===i.name||"script"===i.name?i.empty().remove():i.unwrap()}}}var u=this,d={},f=[],h={},p={};i=i||{},i.validate="validate"in i?i.validate:!0,i.root_name=i.root_name||"body",u.schema=l=l||new t,u.filterNode=function(e){var t,n,i;n in d&&(i=h[n],i?i.push(e):h[n]=[e]),t=f.length;for(;t--;)n=f[t].name,n in e.attributes.map&&(i=p[n],i?i.push(e):p[n]=[e]);return e},u.addNodeFilter=function(e,t){o(a(e),function(e){var n=d[e];n||(d[e]=n=[]),n.push(t)})},u.addAttributeFilter=function(e,t){o(a(e),function(e){var n;for(n=0;n<f.length;n++)if(f[n].name===e)return void f[n].callbacks.push(t);f.push({name:e,callbacks:[t]})})},u.parse=function(t,o){function a(){function e(e){e&&(r=e.firstChild,r&&3==r.type&&(r.value=r.value.replace(M,"")),r=e.lastChild,r&&3==r.type&&(r.value=r.value.replace(R,"")))}var t,n,r=b.firstChild;if(l.isValidChild(b.name,F.toLowerCase())){for(;r;)t=r.next,3==r.type||1==r.type&&"p"!==r.name&&!T[r.name]&&!r.attr("data-mce-type")?n?n.append(r):(n=u(F,1),n.attr(i.forced_root_block_attrs),b.insert(n,r),n.append(r)):(e(n),n=null),r=t;e(n)}}function u(t,n){var i,r=new e(t,n);return t in d&&(i=h[t],i?i.push(r):h[t]=[r]),r}function m(e){var t,n,i;for(t=e.prev;t&&3===t.type;)n=t.value.replace(R,""),n.length>0?(t.value=n,t=t.prev):(i=t.prev,t.remove(),t=i)}function g(e){var t,n={};for(t in e)"li"!==t&&"p"!=t&&(n[t]=e[t]);return n}var v,b,y,x,C,w,k,_,E,S,N,T,M,A,R,D,P,B,I,L,F,O=[];if(o=o||{},h={},p={},T=s(r("script,style,head,html,body,title,meta,param"),l.getBlockElements()),L=l.getNonEmptyElements(),I=l.children,N=i.validate,F="forced_root_block"in o?o.forced_root_block:i.forced_root_block,B=l.getWhiteSpaceElements(),M=/^[ \t\r\n]+/,R=/[ \t\r\n]+$/,D=/[ \t\r\n]+/g,P=/^[ \t\r\n]+$/,v=new n({validate:N,allow_script_urls:i.allow_script_urls,allow_conditional_comments:i.allow_conditional_comments,self_closing_elements:g(l.getSelfClosingElements()),cdata:function(e){y.append(u("#cdata",4)).value=e},text:function(e,t){var n;A||(e=e.replace(D," "),y.lastChild&&T[y.lastChild.name]&&(e=e.replace(M,""))),0!==e.length&&(n=u("#text",3),n.raw=!!t,y.append(n).value=e)},comment:function(e){y.append(u("#comment",8)).value=e},pi:function(e,t){y.append(u(e,7)).value=t,m(y)},doctype:function(e){var t;t=y.append(u("#doctype",10)),t.value=e,m(y)},start:function(e,t,n){var i,r,o,a,s;if(o=N?l.getElementRule(e):{}){for(i=u(o.outputName||e,1),i.attributes=t,i.shortEnded=n,y.append(i),s=I[y.name],s&&I[i.name]&&!s[i.name]&&O.push(i),r=f.length;r--;)a=f[r].name,a in t.map&&(E=p[a],E?E.push(i):p[a]=[i]);T[e]&&m(i),n||(y=i),!A&&B[e]&&(A=!0)}},end:function(t){var n,i,r,o,a;if(i=N?l.getElementRule(t):{}){if(T[t]&&!A){if(n=y.firstChild,n&&3===n.type)if(r=n.value.replace(M,""),r.length>0)n.value=r,n=n.next;else for(o=n.next,n.remove(),n=o;n&&3===n.type;)r=n.value,o=n.next,(0===r.length||P.test(r))&&(n.remove(),n=o),n=o;if(n=y.lastChild,n&&3===n.type)if(r=n.value.replace(R,""),r.length>0)n.value=r,n=n.prev;else for(o=n.prev,n.remove(),n=o;n&&3===n.type;)r=n.value,o=n.prev,(0===r.length||P.test(r))&&(n.remove(),n=o),n=o}if(A&&B[t]&&(A=!1),(i.removeEmpty||i.paddEmpty)&&y.isEmpty(L))if(i.paddEmpty)y.empty().append(new e("#text","3")).value="\xa0";else if(!y.attributes.map.name&&!y.attributes.map.id)return a=y.parent,y.empty().remove(),void(y=a);y=y.parent}}},l),b=y=new e(o.context||i.root_name,11),v.parse(t),N&&O.length&&(o.context?o.invalid=!0:c(O)),F&&("body"==b.name||o.isRootContent)&&a(),!o.invalid){for(S in h){for(E=d[S],x=h[S],k=x.length;k--;)x[k].parent||x.splice(k,1);for(C=0,w=E.length;w>C;C++)E[C](x,S,o)}for(C=0,w=f.length;w>C;C++)if(E=f[C],E.name in p){for(x=p[E.name],k=x.length;k--;)x[k].parent||x.splice(k,1);for(k=0,_=E.callbacks.length;_>k;k++)E.callbacks[k](x,E.name,o)}}return b},i.remove_trailing_brs&&u.addNodeFilter("br",function(t){var n,i,r,o,a,c,u,d,f=t.length,h=s({},l.getBlockElements()),p=l.getNonEmptyElements();for(h.body=1,n=0;f>n;n++)if(i=t[n],r=i.parent,h[i.parent.name]&&i===r.lastChild){for(a=i.prev;a;){if(c=a.name,"span"!==c||"bookmark"!==a.attr("data-mce-type")){if("br"!==c)break;if("br"===c){i=null;break}}a=a.prev}i&&(i.remove(),r.isEmpty(p)&&(u=l.getElementRule(r.name),u&&(u.removeEmpty?r.remove():u.paddEmpty&&(r.empty().append(new e("#text",3)).value="\xa0"))))}else{for(o=i;r&&r.firstChild===o&&r.lastChild===o&&(o=r,!h[r.name]);)r=r.parent;o===r&&(d=new e("#text",3),d.value="\xa0",i.replace(d))
}}),i.allow_html_in_named_anchor||u.addAttributeFilter("id,name",function(e){for(var t,n,i,r,o=e.length;o--;)if(r=e[o],"a"===r.name&&r.firstChild&&!r.attr("href")){i=r.parent,t=r.lastChild;do n=t.prev,i.insert(t,r),t=n;while(t)}})}}),i(_,[p,f],function(e,t){var n=t.makeMap;return function(t){var i,r,o,a,s,l=[];return t=t||{},i=t.indent,r=n(t.indent_before||""),o=n(t.indent_after||""),a=e.getEncodeFunc(t.entity_encoding||"raw",t.entities),s="html"==t.element_format,{start:function(e,t,n){var c,u,d,f;if(i&&r[e]&&l.length>0&&(f=l[l.length-1],f.length>0&&"\n"!==f&&l.push("\n")),l.push("<",e),t)for(c=0,u=t.length;u>c;c++)d=t[c],l.push(" ",d.name,'="',a(d.value,!0),'"');l[l.length]=!n||s?">":" />",n&&i&&o[e]&&l.length>0&&(f=l[l.length-1],f.length>0&&"\n"!==f&&l.push("\n"))},end:function(e){var t;l.push("</",e,">"),i&&o[e]&&l.length>0&&(t=l[l.length-1],t.length>0&&"\n"!==t&&l.push("\n"))},text:function(e,t){e.length>0&&(l[l.length]=t?e:a(e))},cdata:function(e){l.push("<![CDATA[",e,"]]>")},comment:function(e){l.push("<!--",e,"-->")},pi:function(e,t){t?l.push("<?",e," ",t,"?>"):l.push("<?",e,"?>"),i&&l.push("\n")},doctype:function(e){l.push("<!DOCTYPE",e,">",i?"\n":"")},reset:function(){l.length=0},getContent:function(){return l.join("").replace(/\n$/,"")}}}}),i(E,[_,C],function(e,t){return function(n,i){var r=this,o=new e(n);n=n||{},n.validate="validate"in n?n.validate:!0,r.schema=i=i||new t,r.writer=o,r.serialize=function(e){function t(e){var n,s,l,c,u,d,f,h,p,m=r[e.type];if(m)m(e);else{if(n=e.name,s=e.shortEnded,l=e.attributes,a&&l&&l.length>1){for(d=[],d.map={},p=i.getElementRule(e.name),f=0,h=p.attributesOrder.length;h>f;f++)c=p.attributesOrder[f],c in l.map&&(u=l.map[c],d.map[c]=u,d.push({name:c,value:u}));for(f=0,h=l.length;h>f;f++)c=l[f].name,c in d.map||(u=l.map[c],d.map[c]=u,d.push({name:c,value:u}));l=d}if(o.start(e.name,l,s),!s){if(e=e.firstChild)do t(e);while(e=e.next);o.end(n)}}}var r,a;return a=n.validate,r={3:function(e){o.text(e.value,e.raw)},8:function(e){o.comment(e.value)},7:function(e){o.pi(e.name,e.value)},10:function(e){o.doctype(e.value)},4:function(e){o.cdata(e.value)},11:function(e){if(e=e.firstChild)do t(e);while(e=e.next)}},o.reset(),1!=e.type||n.inner?r[11](e):t(e),o.getContent()}}}),i(S,[v,k,p,E,x,C,m,f],function(e,t,n,i,r,o,a,s){var l=s.each,c=s.trim,u=e.DOM;return function(e,r){var s,d,f;return r&&(s=r.dom,d=r.schema),s=s||u,d=d||new o(e),e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0,f=new t(e,d),f.addAttributeFilter("data-mce-tabindex",function(e,t){for(var n,i=e.length;i--;)n=e[i],n.attr("tabindex",n.attributes.map["data-mce-tabindex"]),n.attr(t,null)}),f.addAttributeFilter("src,href,style",function(t,n){for(var i,r,o,a=t.length,l="data-mce-"+n,c=e.url_converter,u=e.url_converter_scope;a--;)i=t[a],r=i.attributes.map[l],r!==o?(i.attr(n,r.length>0?r:null),i.attr(l,null)):(r=i.attributes.map[n],"style"===n?r=s.serializeStyle(s.parseStyle(r),i.name):c&&(r=c.call(u,r,n,i.name)),i.attr(n,r.length>0?r:null))}),f.addAttributeFilter("class",function(e){for(var t,n,i=e.length;i--;)t=e[i],n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",n.length>0?n:null)}),f.addAttributeFilter("data-mce-type",function(e,t,n){for(var i,r=e.length;r--;)i=e[r],"bookmark"!==i.attributes.map["data-mce-type"]||n.cleanup||i.remove()}),f.addAttributeFilter("data-mce-expando",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),f.addNodeFilter("noscript",function(e){for(var t,i=e.length;i--;)t=e[i].firstChild,t&&(t.value=n.decode(t.value))}),f.addNodeFilter("script,style",function(e,t){function n(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var i,r,o=e.length;o--;)if(i=e[o],r=i.firstChild?i.firstChild.value:"","script"===t){var a=(i.attr("type")||"text/javascript").replace(/^mce\-/,"");i.attr("type","text/javascript"===a?null:a),r.length>0&&(i.firstChild.value="// <![CDATA[\n"+n(r)+"\n// ]]>")}else r.length>0&&(i.firstChild.value="<!--\n"+n(r)+"\n-->")}),f.addNodeFilter("#comment",function(e){for(var t,n=e.length;n--;)t=e[n],0===t.value.indexOf("[CDATA[")?(t.name="#cdata",t.type=4,t.value=t.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===t.value.indexOf("mce:protected ")&&(t.name="#text",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))}),f.addNodeFilter("xml:namespace,input",function(e,t){for(var n,i=e.length;i--;)n=e[i],7===n.type?n.remove():1===n.type&&("input"!==t||"type"in n.attributes.map||n.attr("type","text"))}),e.fix_list_elements&&f.addNodeFilter("ul,ol",function(e){for(var t,n,i=e.length;i--;)t=e[i],n=t.parent,("ul"===n.name||"ol"===n.name)&&t.prev&&"li"===t.prev.name&&t.prev.append(t)}),f.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),{schema:d,addNodeFilter:f.addNodeFilter,addAttributeFilter:f.addAttributeFilter,serialize:function(t,n){var r,o,u,h,p,m=this;return a.ie&&s.select("script,style,select,map").length>0?(p=t.innerHTML,t=t.cloneNode(!1),s.setHTML(t,p)):t=t.cloneNode(!0),r=t.ownerDocument.implementation,r.createHTMLDocument&&(o=r.createHTMLDocument(""),l("BODY"==t.nodeName?t.childNodes:[t],function(e){o.body.appendChild(o.importNode(e,!0))}),t="BODY"!=t.nodeName?o.body.firstChild:o.body,u=s.doc,s.doc=o),n=n||{},n.format=n.format||"html",n.selection&&(n.forced_root_block=""),n.no_events||(n.node=t,m.onPreProcess(n)),h=new i(e,d),n.content=h.serialize(f.parse(c(n.getInner?t.innerHTML:s.getOuterHTML(t)),n)),n.cleanup||(n.content=n.content.replace(/\uFEFF/g,"")),n.no_events||m.onPostProcess(n),u&&(s.doc=u),n.node=null,n.content},addRules:function(e){d.addValidElements(e)},setRules:function(e){d.setValidElements(e)},onPreProcess:function(e){r&&r.fire("PreProcess",e)},onPostProcess:function(e){r&&r.fire("PostProcess",e)}}}}),i(N,[],function(){function e(e){function t(t,n){var i,r,o,a,s,l,c,u,d=0,f=-1;if(i=t.duplicate(),i.collapse(n),u=i.parentElement(),u.ownerDocument===e.dom.doc){for(;"false"===u.contentEditable;)u=u.parentNode;if(!u.hasChildNodes())return{node:u,inside:1};for(a=u.children,r=a.length-1;r>=d;)if(c=Math.floor((d+r)/2),s=a[c],i.moveToElementText(s),f=i.compareEndPoints(n?"StartToStart":"EndToEnd",t),f>0)r=c-1;else{if(!(0>f))return{node:s};d=c+1}if(0>f)for(s?i.collapse(!1):(i.moveToElementText(u),i.collapse(!0),s=u,o=!0),l=0;0!==i.compareEndPoints(n?"StartToStart":"StartToEnd",t)&&0!==i.move("character",1)&&u==i.parentElement();)l++;else for(i.collapse(!0),l=0;0!==i.compareEndPoints(n?"StartToStart":"StartToEnd",t)&&0!==i.move("character",-1)&&u==i.parentElement();)l++;return{node:s,position:f,offset:l,inside:o}}}function n(){function n(e){var n,i,r,o,a,s=t(u,e),l=0;if(n=s.node,i=s.offset,s.inside&&!n.hasChildNodes())return void d[e?"setStart":"setEnd"](n,0);if(i===o)return void d[e?"setStartBefore":"setEndAfter"](n);if(s.position<0){if(r=s.inside?n.firstChild:n.nextSibling,!r)return void d[e?"setStartAfter":"setEndAfter"](n);if(!i)return void(3==r.nodeType?d[e?"setStart":"setEnd"](r,0):d[e?"setStartBefore":"setEndBefore"](r));for(;r;){if(a=r.nodeValue,l+=a.length,l>=i){n=r,l-=i,l=a.length-l;break}r=r.nextSibling}}else{if(r=n.previousSibling,!r)return d[e?"setStartBefore":"setEndBefore"](n);if(!i)return void(3==n.nodeType?d[e?"setStart":"setEnd"](r,n.nodeValue.length):d[e?"setStartAfter":"setEndAfter"](r));for(;r;){if(l+=r.nodeValue.length,l>=i){n=r,l-=i;break}r=r.previousSibling}}d[e?"setStart":"setEnd"](n,l)}var o,a,s,l,c,u=e.getRng(),d=r.createRng();if(o=u.item?u.item(0):u.parentElement(),o.ownerDocument!=r.doc)return d;if(a=e.isCollapsed(),u.item)return d.setStart(o.parentNode,r.nodeIndex(o)),d.setEnd(d.startContainer,d.startOffset+1),d;try{n(!0),a||n()}catch(f){if(-2147024809!=f.number)throw f;c=i.getBookmark(2),s=u.duplicate(),s.collapse(!0),o=s.parentElement(),a||(s=u.duplicate(),s.collapse(!1),l=s.parentElement(),l.innerHTML=l.innerHTML),o.innerHTML=o.innerHTML,i.moveToBookmark(c),u=e.getRng(),n(!0),a||n()}return d}var i=this,r=e.dom,o=!1;this.getBookmark=function(n){function i(e){var t,n,i,o,a=[];for(t=e.parentNode,n=r.getRoot().parentNode;t!=n&&9!==t.nodeType;){for(i=t.children,o=i.length;o--;)if(e===i[o]){a.push(o);break}e=t,t=t.parentNode}return a}function o(e){var n;return n=t(a,e),n?{position:n.position,offset:n.offset,indexes:i(n.node),inside:n.inside}:void 0}var a=e.getRng(),s={};return 2===n&&(a.item?s.start={ctrl:!0,indexes:i(a.item(0))}:(s.start=o(!0),e.isCollapsed()||(s.end=o()))),s},this.moveToBookmark=function(e){function t(e){var t,n,i,o;for(t=r.getRoot(),n=e.length-1;n>=0;n--)o=t.children,i=e[n],i<=o.length-1&&(t=o[i]);return t}function n(n){var r,a,s,l,c=e[n?"start":"end"];c&&(r=c.position>0,a=o.createTextRange(),a.moveToElementText(t(c.indexes)),l=c.offset,l!==s?(a.collapse(c.inside||r),a.moveStart("character",r?-l:l)):a.collapse(n),i.setEndPoint(n?"StartToStart":"EndToStart",a),n&&i.collapse(!0))}var i,o=r.doc.body;e.start&&(e.start.ctrl?(i=o.createControlRange(),i.addElement(t(e.start.indexes)),i.select()):(i=o.createTextRange(),n(!0),n(),i.select()))},this.addRange=function(t){function n(e){var t,n,a,d,f;a=r.create("a"),t=e?s:c,n=e?l:u,d=i.duplicate(),(t==p||t==p.documentElement)&&(t=m,n=0),3==t.nodeType?(t.parentNode.insertBefore(a,t),d.moveToElementText(a),d.moveStart("character",n),r.remove(a),i.setEndPoint(e?"StartToStart":"EndToEnd",d)):(f=t.childNodes,f.length?(n>=f.length?r.insertAfter(a,f[f.length-1]):t.insertBefore(a,f[n]),d.moveToElementText(a)):t.canHaveHTML&&(t.innerHTML="<span>&#xFEFF;</span>",a=t.firstChild,d.moveToElementText(a),d.collapse(o)),i.setEndPoint(e?"StartToStart":"EndToEnd",d),r.remove(a))}var i,a,s,l,c,u,d,f,h,p=e.dom.doc,m=p.body;if(s=t.startContainer,l=t.startOffset,c=t.endContainer,u=t.endOffset,i=m.createTextRange(),s==c&&1==s.nodeType){if(l==u&&!s.hasChildNodes()){if(s.canHaveHTML)return d=s.previousSibling,d&&!d.hasChildNodes()&&r.isBlock(d)?d.innerHTML="&#xFEFF;":d=null,s.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",i.moveToElementText(s.lastChild),i.select(),r.doc.selection.clear(),s.innerHTML="",void(d&&(d.innerHTML=""));l=r.nodeIndex(s),s=s.parentNode}if(l==u-1)try{if(h=s.childNodes[l],a=m.createControlRange(),a.addElement(h),a.select(),f=e.getRng(),f.item&&h===f.item(0))return}catch(g){}}n(!0),n(),i.select()},this.getRangeAt=n}return e}),i(T,[m],function(e){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey},metaKeyPressed:function(t){return(e.mac?t.metaKey:t.ctrlKey)&&!t.altKey}}}),i(M,[T,f,m],function(e,t,n){return function(i,r){function o(e){var t=r.settings.object_resizing;return t===!1||n.iOS?!1:("string"!=typeof t&&(t="table,img,div"),"false"===e.getAttribute("data-mce-resize")?!1:r.dom.is(e,t))}function a(t){var n,i;n=t.screenX-E,i=t.screenY-S,P=n*k[2]+M,B=i*k[3]+A,P=5>P?5:P,B=5>B?5:B,(e.modifierPressed(t)||"IMG"==x.nodeName&&k[2]*k[3]!==0)&&(P=Math.round(B/R),B=Math.round(P*R)),I.setStyles(C,{width:P,height:B}),k[2]<0&&C.clientWidth<=P&&I.setStyle(C,"left",N+(M-P)),k[3]<0&&C.clientHeight<=B&&I.setStyle(C,"top",T+(A-B)),D||(r.fire("ObjectResizeStart",{target:x,width:M,height:A}),D=!0)}function s(){function e(e,t){t&&(x.style[e]||!r.schema.isValid(x.nodeName.toLowerCase(),e)?I.setStyle(x,e,t):I.setAttrib(x,e,t))}D=!1,e("width",P),e("height",B),I.unbind(F,"mousemove",a),I.unbind(F,"mouseup",s),O!=F&&(I.unbind(O,"mousemove",a),I.unbind(O,"mouseup",s)),I.remove(C),H&&"TABLE"!=x.nodeName||l(x),r.fire("ObjectResized",{target:x,width:P,height:B}),r.nodeChanged()}function l(e,t,i){var l,u,d,f,h,p=r.getBody();g(),l=I.getPos(e,p),N=l.x,T=l.y,h=e.getBoundingClientRect(),u=h.width||h.right-h.left,d=h.height||h.bottom-h.top,x!=e&&(m(),x=e,P=B=0),f=r.fire("ObjectSelected",{target:e}),o(e)&&!f.isDefaultPrevented()?L(w,function(e,o){function l(t){E=t.screenX,S=t.screenY,M=x.clientWidth,A=x.clientHeight,R=A/M,k=e,C=x.cloneNode(!0),I.addClass(C,"mce-clonedresizable"),C.contentEditable=!1,C.unSelectabe=!0,I.setStyles(C,{left:N,top:T,margin:0}),C.removeAttribute("data-mce-selected"),r.getBody().appendChild(C),I.bind(F,"mousemove",a),I.bind(F,"mouseup",s),O!=F&&(I.bind(O,"mousemove",a),I.bind(O,"mouseup",s))}var c,f;return t?void(o==t&&l(i)):(c=I.get("mceResizeHandle"+o),c?I.show(c):(f=r.getBody(),c=I.add(f,"div",{id:"mceResizeHandle"+o,"data-mce-bogus":!0,"class":"mce-resizehandle",unselectable:!0,style:"cursor:"+o+"-resize; margin:0; padding:0"}),n.ie&&(c.contentEditable=!1)),e.elm||(I.bind(c,"mousedown",function(e){e.stopImmediatePropagation(),e.preventDefault(),l(e)}),e.elm=c),void I.setStyles(c,{left:u*e[0]+N-c.offsetWidth/2,top:d*e[1]+T-c.offsetHeight/2}))}):c(),x.setAttribute("data-mce-selected","1")}function c(){var e,t;g(),x&&x.removeAttribute("data-mce-selected");for(e in w)t=I.get("mceResizeHandle"+e),t&&(I.unbind(t),I.remove(t))}function u(e){function t(e,t){if(e)do if(e===t)return!0;while(e=e.parentNode)}var n;return L(I.select("img[data-mce-selected],hr[data-mce-selected]"),function(e){e.removeAttribute("data-mce-selected")}),n="mousedown"==e.type?e.target:i.getNode(),n=I.getParent(n,H?"table":"table,img,hr"),t(n,r.getBody())&&(v(),t(i.getStart(),n)&&t(i.getEnd(),n)&&(!H||n!=i.getStart()&&"IMG"!==i.getStart().nodeName))?void l(n):void c()}function d(e,t,n){e&&e.attachEvent&&e.attachEvent("on"+t,n)}function f(e,t,n){e&&e.detachEvent&&e.detachEvent("on"+t,n)}function h(e){var t,n,i,o,a,s,c,u=e.srcElement;t=u.getBoundingClientRect(),s=_.clientX-t.left,c=_.clientY-t.top;for(n in w)if(i=w[n],o=u.offsetWidth*i[0],a=u.offsetHeight*i[1],Math.abs(o-s)<8&&Math.abs(a-c)<8){k=i;break}D=!0,r.getDoc().selection.empty(),l(u,n,_)}function p(e){var t=e.srcElement;if(t!=x){if(m(),0===t.id.indexOf("mceResizeHandle"))return void(e.returnValue=!1);("IMG"==t.nodeName||"TABLE"==t.nodeName)&&(c(),x=t,d(t,"resizestart",h))}}function m(){f(x,"resizestart",h)}function g(){for(var e in w){var t=w[e];t.elm&&(I.unbind(t.elm),delete t.elm)}}function v(){try{r.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(e){}}function b(e){var t;if(H){t=F.body.createControlRange();try{return t.addElement(e),t.select(),!0}catch(n){}}}function y(){x=C=null,H&&(m(),f(r.getBody(),"controlselect",p))}var x,C,w,k,_,E,S,N,T,M,A,R,D,P,B,I=r.dom,L=t.each,F=r.getDoc(),O=document,H=n.ie&&n.ie<11;w={n:[.5,0,0,-1],e:[1,.5,1,0],s:[.5,1,0,1],w:[0,.5,-1,0],nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var z=".mce-content-body";return r.contentStyles.push(z+" div.mce-resizehandle {position: absolute;border: 1px solid black;background: #FFF;width: 5px;height: 5px;z-index: 10000}"+z+" .mce-resizehandle:hover {background: #000}"+z+" img[data-mce-selected], hr[data-mce-selected] {outline: 1px solid black;resize: none}"+z+" .mce-clonedresizable {position: absolute;"+(n.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"),r.on("init",function(){H?(r.on("ObjectResized",function(e){"TABLE"!=e.target.nodeName&&(c(),b(e.target))}),d(r.getBody(),"controlselect",p),r.on("mousedown",function(e){_=e})):(v(),n.ie>=11&&(r.on("mouseup",function(e){var t=e.target.nodeName;/^(TABLE|IMG|HR)$/.test(t)&&(r.selection.select(e.target,"TABLE"==t),r.nodeChanged())}),r.dom.bind(r.getBody(),"mscontrolselect",function(e){/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"==e.target.tagName&&window.setTimeout(function(){r.selection.select(e.target)},0))}))),r.on("nodechange mousedown mouseup ResizeEditor",u),r.on("keydown keyup",function(e){x&&"TABLE"==x.nodeName&&u(e)}),r.on("hide",c)}),r.on("remove",g),{isResizable:o,showResizeRect:l,hideResizeRect:c,updateResizeRect:u,controlSelect:b,destroy:y}}}),i(A,[f,d],function(e,t){function n(e){this.walk=function(t,n){function r(e){var t;return t=e[0],3===t.nodeType&&t===m&&g>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===b&&e.length>0&&t===v&&3===t.nodeType&&e.splice(e.length-1,1),e}function o(e,t,n){for(var i=[];e&&e!=n;e=e[t])i.push(e);return i}function a(e,t){do{if(e.parentNode==t)return e;e=e.parentNode}while(e)}function s(e,t,i){var a=i?"nextSibling":"previousSibling";for(d=e,f=d.parentNode;d&&d!=t;d=f)f=d.parentNode,h=o(d==e?d:d[a],a),h.length&&(i||h.reverse(),n(r(h)))}var l,c,u,d,f,h,p,m=t.startContainer,g=t.startOffset,v=t.endContainer,b=t.endOffset;if(p=e.select("td.mce-item-selected,th.mce-item-selected"),p.length>0)return void i(p,function(e){n([e])});if(1==m.nodeType&&m.hasChildNodes()&&(m=m.childNodes[g]),1==v.nodeType&&v.hasChildNodes()&&(v=v.childNodes[Math.min(b-1,v.childNodes.length-1)]),m==v)return n(r([m]));for(l=e.findCommonAncestor(m,v),d=m;d;d=d.parentNode){if(d===v)return s(m,l,!0);if(d===l)break}for(d=v;d;d=d.parentNode){if(d===m)return s(v,l);if(d===l)break}c=a(m,l)||m,u=a(v,l)||v,s(m,c,!0),h=o(c==m?c:c.nextSibling,"nextSibling",u==v?u.nextSibling:u),h.length&&n(r(h)),s(v,u)},this.split=function(e){function t(e,t){return e.splitText(t)}var n=e.startContainer,i=e.startOffset,r=e.endContainer,o=e.endOffset;return n==r&&3==n.nodeType?i>0&&i<n.nodeValue.length&&(r=t(n,i),n=r.previousSibling,o>i?(o-=i,n=r=t(r,o).previousSibling,o=r.nodeValue.length,i=0):o=0):(3==n.nodeType&&i>0&&i<n.nodeValue.length&&(n=t(n,i),i=0),3==r.nodeType&&o>0&&o<r.nodeValue.length&&(r=t(r,o).previousSibling,o=r.nodeValue.length)),{startContainer:n,startOffset:i,endContainer:r,endOffset:o}},this.normalize=function(n){function i(i){function a(n,i){for(var r=new t(n,e.getParent(n.parentNode,e.isBlock)||g);n=r[i?"prev":"next"]();)if("BR"===n.nodeName)return!0}function s(e,t){return e.previousSibling&&e.previousSibling.nodeName==t}function l(n,i){var a,s,l;if(i=i||c,l=e.getParent(i.parentNode,e.isBlock)||g,n&&"BR"==i.nodeName&&m&&e.isEmpty(l))return c=i.parentNode,u=e.nodeIndex(i),void(r=!0);for(a=new t(i,l);f=a[n?"prev":"next"]();){if("false"===e.getContentEditableParent(f))return;if(3===f.nodeType&&f.nodeValue.length>0)return c=f,u=n?f.nodeValue.length:0,void(r=!0);if(e.isBlock(f)||h[f.nodeName.toLowerCase()])return;s=f}o&&s&&(c=s,r=!0,u=0)}var c,u,d,f,h,p,m,g=e.getRoot();if(c=n[(i?"start":"end")+"Container"],u=n[(i?"start":"end")+"Offset"],m=1==c.nodeType&&u===c.childNodes.length,h=e.schema.getNonEmptyElements(),p=i,1==c.nodeType&&u>c.childNodes.length-1&&(p=!1),9===c.nodeType&&(c=e.getRoot(),u=0),c===g){if(p&&(f=c.childNodes[u>0?u-1:0],f&&(h[f.nodeName]||"TABLE"==f.nodeName)))return;if(c.hasChildNodes()&&(u=Math.min(!p&&u>0?u-1:u,c.childNodes.length-1),c=c.childNodes[u],u=0,c.hasChildNodes()&&!/TABLE/.test(c.nodeName))){f=c,d=new t(c,g);do{if(3===f.nodeType&&f.nodeValue.length>0){u=p?0:f.nodeValue.length,c=f,r=!0;break}if(h[f.nodeName.toLowerCase()]){u=e.nodeIndex(f),c=f.parentNode,"IMG"!=f.nodeName||p||u++,r=!0;break}}while(f=p?d.next():d.prev())}}o&&(3===c.nodeType&&0===u&&l(!0),1===c.nodeType&&(f=c.childNodes[u],f||(f=c.childNodes[u-1]),!f||"BR"!==f.nodeName||s(f,"A")||a(f)||a(f,!0)||l(!0,f))),p&&!o&&3===c.nodeType&&u===c.nodeValue.length&&l(!1),r&&n["set"+(i?"Start":"End")](c,u)}var r,o;return o=n.collapsed,i(!0),o||i(),r&&o&&n.collapse(!0),r}}var i=e.each;return n.compareRanges=function(e,t){if(e&&t){if(!e.item&&!e.duplicate)return e.startContainer==t.startContainer&&e.startOffset==t.startOffset;if(e.item&&t.item&&e.item(0)===t.item(0))return!0;if(e.isEqual&&t.isEqual&&t.isEqual(e))return!0}return!1},n}),i(R,[d,N,M,A,m,f],function(e,n,i,r,o,a){function s(e,t,r,o){var a=this;a.dom=e,a.win=t,a.serializer=r,a.editor=o,a.controlSelection=new i(a,o),a.win.getSelection||(a.tridentSel=new n(a))}var l=a.each,c=a.grep,u=a.trim,d=o.ie,f=o.opera;return s.prototype={setCursorLocation:function(e,t){var n=this,i=n.dom.createRng();e?(i.setStart(e,t),i.setEnd(e,t),n.setRng(i),n.collapse(!1)):(n._moveEndPoint(i,n.editor.getBody(),!0),n.setRng(i))},getContent:function(e){var n,i,r,o=this,a=o.getRng(),s=o.dom.create("body"),l=o.getSel();return e=e||{},n=i="",e.get=!0,e.format=e.format||"html",e.selection=!0,o.editor.fire("BeforeGetContent",e),"text"==e.format?o.isCollapsed()?"":a.text||(l.toString?l.toString():""):(a.cloneContents?(r=a.cloneContents(),r&&s.appendChild(r)):a.item!==t||a.htmlText!==t?(s.innerHTML="<br>"+(a.item?a.item(0).outerHTML:a.htmlText),s.removeChild(s.firstChild)):s.innerHTML=a.toString(),/^\s/.test(s.innerHTML)&&(n=" "),/\s+$/.test(s.innerHTML)&&(i=" "),e.getInner=!0,e.content=o.isCollapsed()?"":n+o.serializer.serialize(s,e)+i,o.editor.fire("GetContent",e),e.content)},setContent:function(e,t){var n,i,r,o=this,a=o.getRng(),s=o.win.document;if(t=t||{format:"html"},t.set=!0,t.selection=!0,e=t.content=e,t.no_events||o.editor.fire("BeforeSetContent",t),e=t.content,a.insertNode){e+='<span id="__caret">_</span>',a.startContainer==s&&a.endContainer==s?s.body.innerHTML=e:(a.deleteContents(),0===s.body.childNodes.length?s.body.innerHTML=e:a.createContextualFragment?a.insertNode(a.createContextualFragment(e)):(i=s.createDocumentFragment(),r=s.createElement("div"),i.appendChild(r),r.outerHTML=e,a.insertNode(i))),n=o.dom.get("__caret"),a=s.createRange(),a.setStartBefore(n),a.setEndBefore(n),o.setRng(a),o.dom.remove("__caret");try{o.setRng(a)}catch(l){}}else a.item&&(s.execCommand("Delete",!1,null),a=o.getRng()),/^\s+/.test(e)?(a.pasteHTML('<span id="__mce_tmp">_</span>'+e),o.dom.remove("__mce_tmp")):a.pasteHTML(e);t.no_events||o.editor.fire("SetContent",t)},getStart:function(){var e,t,n,i,r=this,o=r.getRng();if(o.duplicate||o.item){if(o.item)return o.item(0);for(n=o.duplicate(),n.collapse(1),e=n.parentElement(),e.ownerDocument!==r.dom.doc&&(e=r.dom.getRoot()),t=i=o.parentElement();i=i.parentNode;)if(i==e){e=t;break}return e}return e=o.startContainer,1==e.nodeType&&e.hasChildNodes()&&(e=e.childNodes[Math.min(e.childNodes.length-1,o.startOffset)]),e&&3==e.nodeType?e.parentNode:e},getEnd:function(){var e,t,n=this,i=n.getRng();return i.duplicate||i.item?i.item?i.item(0):(i=i.duplicate(),i.collapse(0),e=i.parentElement(),e.ownerDocument!==n.dom.doc&&(e=n.dom.getRoot()),e&&"BODY"==e.nodeName?e.lastChild||e:e):(e=i.endContainer,t=i.endOffset,1==e.nodeType&&e.hasChildNodes()&&(e=e.childNodes[t>0?t-1:t]),e&&3==e.nodeType?e.parentNode:e)},getBookmark:function(e,t){function n(e,t){var n=0;return l(p.select(e),function(e,i){e==t&&(n=i)}),n}function i(e){function t(t){var n,i,r,o=t?"start":"end";n=e[o+"Container"],i=e[o+"Offset"],1==n.nodeType&&"TR"==n.nodeName&&(r=n.childNodes,n=r[Math.min(t?i:i-1,r.length-1)],n&&(i=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,i)))}return t(!0),t(),e}function r(){function e(e,n){var r,o,a=e[n?"startContainer":"endContainer"],s=e[n?"startOffset":"endOffset"],l=[],c=0;if(3==a.nodeType){if(t)for(r=a.previousSibling;r&&3==r.nodeType;r=r.previousSibling)s+=r.nodeValue.length;l.push(s)}else o=a.childNodes,s>=o.length&&o.length&&(c=1,s=Math.max(0,o.length-1)),l.push(h.dom.nodeIndex(o[s],t)+c);for(;a&&a!=i;a=a.parentNode)l.push(h.dom.nodeIndex(a,t));return l}var n=h.getRng(!0),i=p.getRoot(),r={};return r.start=e(n,!0),h.isCollapsed()||(r.end=e(n)),r}var o,a,s,c,u,d,f,h=this,p=h.dom,m="&#xFEFF;";if(2==e)return d=h.getNode(),u=d?d.nodeName:null,"IMG"==u?{name:u,index:n(u,d)}:h.tridentSel?h.tridentSel.getBookmark(e):r();if(e)return{rng:h.getRng()};if(o=h.getRng(),s=p.uniqueId(),c=h.isCollapsed(),f="overflow:hidden;line-height:0px",o.duplicate||o.item){if(o.item)return d=o.item(0),u=d.nodeName,{name:u,index:n(u,d)};a=o.duplicate();try{o.collapse(),o.pasteHTML('<span data-mce-type="bookmark" id="'+s+'_start" style="'+f+'">'+m+"</span>"),c||(a.collapse(!1),o.moveToElementText(a.parentElement()),0===o.compareEndPoints("StartToEnd",a)&&a.move("character",-1),a.pasteHTML('<span data-mce-type="bookmark" id="'+s+'_end" style="'+f+'">'+m+"</span>"))}catch(g){return null}}else{if(d=h.getNode(),u=d.nodeName,"IMG"==u)return{name:u,index:n(u,d)};a=i(o.cloneRange()),c||(a.collapse(!1),a.insertNode(p.create("span",{"data-mce-type":"bookmark",id:s+"_end",style:f},m))),o=i(o),o.collapse(!0),o.insertNode(p.create("span",{"data-mce-type":"bookmark",id:s+"_start",style:f},m))}return h.moveToBookmark({id:s,keep:1}),{id:s}},moveToBookmark:function(e){function t(t){var n,i,a,s,l=e[t?"start":"end"];if(l){for(a=l[0],i=o,n=l.length-1;n>=1;n--){if(s=i.childNodes,l[n]>s.length-1)return;i=s[l[n]]}3===i.nodeType&&(a=Math.min(l[0],i.nodeValue.length)),1===i.nodeType&&(a=Math.min(l[0],i.childNodes.length)),t?r.setStart(i,a):r.setEnd(i,a)}return!0}function n(t){var n,i,r,o,d=m.get(e.id+"_"+t),p=e.keep;if(d&&(n=d.parentNode,"start"==t?(p?(n=d.firstChild,i=1):i=m.nodeIndex(d),a=s=n,u=h=i):(p?(n=d.firstChild,i=1):i=m.nodeIndex(d),s=n,h=i),!p)){for(o=d.previousSibling,r=d.nextSibling,l(c(d.childNodes),function(e){3==e.nodeType&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});d=m.get(e.id+"_"+t);)m.remove(d,1);o&&r&&o.nodeType==r.nodeType&&3==o.nodeType&&!f&&(i=o.nodeValue.length,o.appendData(r.nodeValue),m.remove(r),"start"==t?(a=s=o,u=h=i):(s=o,h=i))}}function i(e){return!m.isBlock(e)||e.innerHTML||d||(e.innerHTML='<br data-mce-bogus="1" />'),e}var r,o,a,s,u,h,p=this,m=p.dom;if(e)if(e.start){if(r=m.createRng(),o=m.getRoot(),p.tridentSel)return p.tridentSel.moveToBookmark(e);t(!0)&&t()&&p.setRng(r)}else e.id?(n("start"),n("end"),a&&(r=m.createRng(),r.setStart(i(a),u),r.setEnd(i(s),h),p.setRng(r))):e.name?p.select(m.select(e.name)[e.index]):e.rng&&p.setRng(e.rng)},select:function(e,t){var n,i=this,r=i.dom,o=r.createRng();if(i.lastFocusBookmark=null,e){if(!t&&i.controlSelection.controlSelect(e))return;n=r.nodeIndex(e),o.setStart(e.parentNode,n),o.setEnd(e.parentNode,n+1),t&&(i._moveEndPoint(o,e,!0),i._moveEndPoint(o,e)),i.setRng(o)}return e},isCollapsed:function(){var e=this,t=e.getRng(),n=e.getSel();return!t||t.item?!1:t.compareEndPoints?0===t.compareEndPoints("StartToEnd",t):!n||t.collapsed},collapse:function(e){var t,n=this,i=n.getRng();i.item&&(t=i.item(0),i=n.win.document.body.createTextRange(),i.moveToElementText(t)),i.collapse(!!e),n.setRng(i)},getSel:function(){var e=this.win;return e.getSelection?e.getSelection():e.document.selection},getRng:function(e){function t(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(i){return-1}}var n,i,r,o,a=this,s=a.win.document;if(!e&&a.lastFocusBookmark){var l=a.lastFocusBookmark;return l.startContainer?(i=s.createRange(),i.setStart(l.startContainer,l.startOffset),i.setEnd(l.endContainer,l.endOffset)):i=l,i}if(e&&a.tridentSel)return a.tridentSel.getRangeAt(0);try{(n=a.getSel())&&(i=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():s.createRange())}catch(c){}if(d&&i&&i.setStart&&s.selection){try{o=s.selection.createRange()}catch(c){}o&&o.item&&(r=o.item(0),i=s.createRange(),i.setStartBefore(r),i.setEndAfter(r))}return i||(i=s.createRange?s.createRange():s.body.createTextRange()),i.setStart&&9===i.startContainer.nodeType&&i.collapsed&&(r=a.dom.getRoot(),i.setStart(r,0),i.setEnd(r,0)),a.selectedRange&&a.explicitRange&&(0===t(i.START_TO_START,i,a.selectedRange)&&0===t(i.END_TO_END,i,a.selectedRange)?i=a.explicitRange:(a.selectedRange=null,a.explicitRange=null)),i},setRng:function(e,t){var n,i=this;if(e.select)try{e.select()}catch(r){}else if(i.tridentSel){if(e.cloneRange)try{return void i.tridentSel.addRange(e)}catch(r){}}else if(n=i.getSel()){i.explicitRange=e;try{n.removeAllRanges(),n.addRange(e)}catch(r){}t===!1&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),i.selectedRange=n.rangeCount>0?n.getRangeAt(0):null}},setNode:function(e){var t=this;return t.setContent(t.dom.getOuterHTML(e)),e},getNode:function(){function e(e,t){for(var n=e;e&&3===e.nodeType&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n}var t,n=this,i=n.getRng(),r=i.startContainer,o=i.endContainer,a=i.startOffset,s=i.endOffset,l=n.dom.getRoot();return i?i.setStart?(t=i.commonAncestorContainer,!i.collapsed&&(r==o&&2>s-a&&r.hasChildNodes()&&(t=r.childNodes[a]),3===r.nodeType&&3===o.nodeType&&(r=r.length===a?e(r.nextSibling,!0):r.parentNode,o=0===s?e(o.previousSibling,!1):o.parentNode,r&&r===o))?r:t&&3==t.nodeType?t.parentNode:t):(t=i.item?i.item(0):i.parentElement(),t.ownerDocument!==n.win.document&&(t=l),t):l},getSelectedBlocks:function(t,n){var i,r,o=this,a=o.dom,s=[];if(r=a.getRoot(),t=a.getParent(t||o.getStart(),a.isBlock),n=a.getParent(n||o.getEnd(),a.isBlock),t&&t!=r&&s.push(t),t&&n&&t!=n){i=t;for(var l=new e(t,r);(i=l.next())&&i!=n;)a.isBlock(i)&&s.push(i)}return n&&t!=n&&n!=r&&s.push(n),s},isForward:function(){var e,t,n=this.dom,i=this.getSel();return i&&i.anchorNode&&i.focusNode?(e=n.createRng(),e.setStart(i.anchorNode,i.anchorOffset),e.collapse(!0),t=n.createRng(),t.setStart(i.focusNode,i.focusOffset),t.collapse(!0),e.compareBoundaryPoints(e.START_TO_START,t)<=0):!0},normalize:function(){var e=this,t=e.getRng();return!d&&new r(e.dom).normalize(t)&&e.setRng(t,e.isForward()),t},selectorChanged:function(e,t){var n,i=this;return i.selectorChangedData||(i.selectorChangedData={},n={},i.editor.on("NodeChange",function(e){var t=e.element,r=i.dom,o=r.getParents(t,null,r.getRoot()),a={};l(i.selectorChangedData,function(e,t){l(o,function(i){return r.is(i,t)?(n[t]||(l(e,function(e){e(!0,{node:i,selector:t,parents:o})}),n[t]=e),a[t]=e,!1):void 0})}),l(n,function(e,i){a[i]||(delete n[i],l(e,function(e){e(!1,{node:t,selector:i,parents:o})}))})})),i.selectorChangedData[e]||(i.selectorChangedData[e]=[]),i.selectorChangedData[e].push(t),i},getScrollContainer:function(){for(var e,t=this.dom.getRoot();t&&"BODY"!=t.nodeName;){if(t.scrollHeight>t.clientHeight){e=t;break}t=t.parentNode}return e},scrollIntoView:function(e){function t(e){for(var t=0,n=0,i=e;i&&i.nodeType;)t+=i.offsetLeft||0,n+=i.offsetTop||0,i=i.offsetParent;return{x:t,y:n}}var n,i,r,o,a=this,s=a.dom,l=s.getRoot();if("BODY"!=l.nodeName){var c=a.getScrollContainer();if(c)return n=t(e).y-t(c).y,o=c.clientHeight,r=c.scrollTop,void((r>n||n+25>r+o)&&(c.scrollTop=r>n?n:n-o+25))}i=s.getViewPort(a.editor.getWin()),n=s.getPos(e).y,r=i.y,o=i.h,(n<i.y||n+25>r+o)&&a.editor.getWin().scrollTo(0,r>n?n:n-o+25)},_moveEndPoint:function(t,n,i){var r=n,a=new e(n,r),s=this.dom.schema.getNonEmptyElements();do{if(3==n.nodeType&&0!==u(n.nodeValue).length)return void(i?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(s[n.nodeName])return void(i?t.setStartBefore(n):"BR"==n.nodeName?t.setEndBefore(n):t.setEndAfter(n));if(o.ie&&o.ie<11&&this.dom.isBlock(n)&&this.dom.isEmpty(n))return void(i?t.setStart(n,0):t.setEnd(n,0))}while(n=i?a.next():a.prev());"BODY"==r.nodeName&&(i?t.setStart(r,0):t.setEnd(r,r.childNodes.length))},destroy:function(){this.win=null,this.controlSelection.destroy()}},s}),i(D,[f],function(e){function t(e,t){function i(e){return e.replace(/%(\w+)/g,"")}var r,o,a,s,l=e.dom,c="";if(s=e.settings.preview_styles,s===!1)return"";if(s||(s="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),"string"==typeof t){if(t=e.formatter.get(t),!t)return;t=t[0]}return r=t.block||t.inline||"span",o=l.create(r),n(t.styles,function(e,t){e=i(e),e&&l.setStyle(o,t,e)}),n(t.attributes,function(e,t){e=i(e),e&&l.setAttrib(o,t,e)}),n(t.classes,function(e){e=i(e),l.hasClass(o,e)||l.addClass(o,e)}),e.fire("PreviewFormats"),l.setStyles(o,{position:"absolute",left:-65535}),e.getBody().appendChild(o),a=l.getStyle(e.getBody(),"fontSize",!0),a=/px$/.test(a)?parseInt(a,10):0,n(s.split(" "),function(t){var n=l.getStyle(o,t,!0);if(!("background-color"==t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=l.getStyle(e.getBody(),t,!0),"#ffffff"==l.toHex(n).toLowerCase())||"color"==t&&"#000000"==l.toHex(n).toLowerCase())){if("font-size"==t&&/em|%$/.test(n)){if(0===a)return;n=parseFloat(n,10)/(/%$/.test(n)?100:1),n=n*a+"px"}"border"==t&&n&&(c+="padding:0 2px;"),c+=t+":"+n+";"}}),e.fire("AfterPreviewFormats"),l.remove(o),c}var n=e.each;return{getCssText:t}}),i(P,[d,A,f,D],function(e,t,n,i){return function(r){function o(e){return e.nodeType&&(e=e.nodeName),!!r.schema.getTextBlockElements()[e.toLowerCase()]}function a(e,t){return j.getParents(e,t,j.getRoot())}function s(e){return 1===e.nodeType&&"_mce_caret"===e.id}function l(){d({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},defaultBlock:"div"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"}}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},wrap_links:!1},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},wrap_links:!1},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0
},onformat:function(e,t,n){nt(n,function(t,n){j.setAttrib(e,n,t)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),nt("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(e){d(e,{block:e,remove:"all"})}),d(r.settings.formats)}function c(){r.addShortcut("ctrl+b","bold_desc","Bold"),r.addShortcut("ctrl+i","italic_desc","Italic"),r.addShortcut("ctrl+u","underline_desc","Underline");for(var e=1;6>=e;e++)r.addShortcut("ctrl+"+e,"",["FormatBlock",!1,"h"+e]);r.addShortcut("ctrl+7","",["FormatBlock",!1,"p"]),r.addShortcut("ctrl+8","",["FormatBlock",!1,"div"]),r.addShortcut("ctrl+9","",["FormatBlock",!1,"address"])}function u(e){return e?q[e]:q}function d(e,t){e&&("string"!=typeof e?nt(e,function(e,t){d(t,e)}):(t=t.length?t:[t],nt(t,function(e){e.deep===z&&(e.deep=!e.selector),e.split===z&&(e.split=!e.selector||e.inline),e.remove===z&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))}),q[e]=t))}function f(e){var t;return r.dom.getParent(e,function(e){return t=r.dom.getStyle(e,"text-decoration"),t&&"none"!==t}),t}function h(e){var t;1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType&&(t=f(e.parentNode),r.dom.getStyle(e,"color")&&t?r.dom.setStyle(e,"text-decoration",t):r.dom.getStyle(e,"textdecoration")===t&&r.dom.setStyle(e,"text-decoration",null))}function p(t,n,i){function a(e,t){if(t=t||b,e){if(t.onformat&&t.onformat(e,t,n,i),nt(t.styles,function(t,i){j.setStyle(e,i,N(t,n))}),t.styles){var r=j.getAttrib(e,"style");r&&e.setAttribute("data-mce-style",r)}nt(t.attributes,function(t,i){j.setAttrib(e,i,N(t,n))}),nt(t.classes,function(t){t=N(t,n),j.hasClass(e,t)||j.addClass(e,t)})}}function l(){function t(t,n){var r=new e(n);for(i=r.current();i;i=r.prev())if(i.childNodes.length>1||i==t||"BR"==i.tagName)return i}var n=r.selection.getRng(),o=n.startContainer,a=n.endContainer;if(o!=a&&0===n.endOffset){var s=t(o,a),l=3==s.nodeType?s.length:s.childNodes.length;n.setEnd(s,l)}return n}function c(e,t,n,i,r){var o,a,s=[],l=-1,c=-1,u=-1;return nt(e.childNodes,function(e,t){return"UL"===e.nodeName||"OL"===e.nodeName?(l=t,o=e,!1):void 0}),nt(e.childNodes,function(e,n){"SPAN"===e.nodeName&&"bookmark"==j.getAttrib(e,"data-mce-type")&&(e.id==t.id+"_start"?c=n:e.id==t.id+"_end"&&(u=n))}),0>=l||l>c&&u>l?(nt(it(e.childNodes),r),0):(a=j.clone(n,Z),nt(it(e.childNodes),function(e,t){(l>c&&l>t||c>l&&t>l)&&(s.push(e),e.parentNode.removeChild(e))}),l>c?e.insertBefore(a,o):c>l&&e.insertBefore(a,o.nextSibling),i.push(a),nt(s,function(e){a.appendChild(e)}),a)}function d(e,i,r){var l,u,d=[],f=!0;l=b.inline||b.block,u=j.create(l),a(u),V.walk(e,function(e){function h(e){var m,x,C,w,k;return k=f,m=e.nodeName.toLowerCase(),x=e.parentNode.nodeName.toLowerCase(),1===e.nodeType&&tt(e)&&(k=f,f="true"===tt(e),w=!0),_(m,"br")?(p=0,void(b.block&&j.remove(e))):b.wrapper&&v(e,t,n)?void(p=0):f&&!w&&b.block&&!b.wrapper&&o(m)&&Y(x,l)?(e=j.rename(e,l),a(e),d.push(e),void(p=0)):b.selector&&(nt(g,function(t){"collapsed"in t&&t.collapsed!==y||j.is(e,t.selector)&&!s(e)&&(a(e,t),C=!0)}),!b.inline||C)?void(p=0):void(!f||w||!Y(l,m)||!Y(x,l)||!r&&3===e.nodeType&&1===e.nodeValue.length&&65279===e.nodeValue.charCodeAt(0)||s(e)||b.inline&&X(e)?"li"==m&&i?p=c(e,i,u,d,h):(p=0,nt(it(e.childNodes),h),w&&(f=k),p=0):(p||(p=j.clone(u,Z),e.parentNode.insertBefore(p,e),d.push(p)),p.appendChild(e)))}var p;nt(e,h)}),b.wrap_links===!1&&nt(d,function(e){function t(e){var n,i,r;if("A"===e.nodeName){for(i=j.clone(u,Z),d.push(i),r=it(e.childNodes),n=0;n<r.length;n++)i.appendChild(r[n]);e.appendChild(i)}nt(it(e.childNodes),t)}t(e)}),nt(d,function(e){function i(e){var t=0;return nt(e.childNodes,function(e){T(e)||B(e)||t++}),t}function r(e){var t,n;return nt(e.childNodes,function(e){return 1!=e.nodeType||B(e)||s(e)?void 0:(t=e,Z)}),t&&!B(t)&&k(t,b)&&(n=j.clone(t,Z),a(n),j.replace(n,e,et),j.remove(t,1)),n||e}var o;if(o=i(e),(d.length>1||!X(e))&&0===o)return void j.remove(e,1);if(b.inline||b.wrapper){if(b.exact||1!==o||(e=r(e)),nt(g,function(t){nt(j.select(t.inline,e),function(e){var i;if(!B(e)){if(t.wrap_links===!1){i=e.parentNode;do if("A"===i.nodeName)return;while(i=i.parentNode)}R(t,n,e,t.exact?e:null)}})}),v(e.parentNode,t,n))return j.remove(e,1),e=0,et;b.merge_with_parents&&j.getParent(e.parentNode,function(i){return v(i,t,n)?(j.remove(e,1),e=0,et):void 0}),e&&b.merge_siblings!==!1&&(e=I(P(e),e),e=I(e,P(e,et)))}})}var f,m,g=u(t),b=g[0],y=!i&&U.isCollapsed();if(b)if(i)i.nodeType?(m=j.createRng(),m.setStartBefore(i),m.setEndAfter(i),d(A(m,g),null,!0)):d(i,null,!0);else if(y&&b.inline&&!j.select("td.mce-item-selected,th.mce-item-selected").length)F("apply",t,n);else{var x=r.selection.getNode();K||!g[0].defaultBlock||j.getParent(x,j.isBlock)||p(g[0].defaultBlock),r.selection.setRng(l()),f=U.getBookmark(),d(A(U.getRng(et),g),f),b.styles&&(b.styles.color||b.styles.textDecoration)&&(rt(x,h,"childNodes"),h(x)),U.moveToBookmark(f),O(U.getRng(et)),r.nodeChanged()}}function m(e,t,n){function i(e){var n,r,o,a,s;if(1===e.nodeType&&tt(e)&&(a=y,y="true"===tt(e),s=!0),n=it(e.childNodes),y&&!s)for(r=0,o=m.length;o>r&&!R(m[r],t,e,e);r++);if(g.deep&&n.length){for(r=0,o=n.length;o>r;r++)i(n[r]);s&&(y=a)}}function o(n){var i;return nt(a(n.parentNode).reverse(),function(n){var r;i||"_start"==n.id||"_end"==n.id||(r=v(n,e,t),r&&r.split!==!1&&(i=n))}),i}function s(e,n,i,r){var o,a,s,l,c,u;if(e){for(u=e.parentNode,o=n.parentNode;o&&o!=u;o=o.parentNode){for(a=j.clone(o,Z),c=0;c<m.length;c++)if(R(m[c],t,a,a)){a=0;break}a&&(s&&a.appendChild(s),l||(l=a),s=a)}!r||g.mixed&&X(e)||(n=j.split(e,n)),s&&(i.parentNode.insertBefore(s,i),l.appendChild(i))}return n}function l(e){return s(o(e),e,e,!0)}function c(e){var t=j.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return B(n)&&(n=n[e?"firstChild":"lastChild"]),j.remove(t,!0),n}function d(e){var t,n,o=e.commonAncestorContainer;e=A(e,m,et),g.split&&(t=L(e,et),n=L(e),t!=n?(/^(TR|TH|TD)$/.test(t.nodeName)&&t.firstChild&&(t="TR"==t.nodeName?t.firstChild.firstChild||t:t.firstChild||t),o&&/^T(HEAD|BODY|FOOT|R)$/.test(o.nodeName)&&/^(TH|TD)$/.test(n.nodeName)&&n.firstChild&&(n=n.firstChild||n),t=M(t,"span",{id:"_start","data-mce-type":"bookmark"}),n=M(n,"span",{id:"_end","data-mce-type":"bookmark"}),l(t),l(n),t=c(et),n=c()):t=n=l(t),e.startContainer=t.parentNode,e.startOffset=Q(t),e.endContainer=n.parentNode,e.endOffset=Q(n)+1),V.walk(e,function(e){nt(e,function(e){i(e),1===e.nodeType&&"underline"===r.dom.getStyle(e,"text-decoration")&&e.parentNode&&"underline"===f(e.parentNode)&&R({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,e)})})}var h,p,m=u(e),g=m[0],y=!0;return n?void(n.nodeType?(p=j.createRng(),p.setStartBefore(n),p.setEndAfter(n),d(p)):d(n)):void(U.isCollapsed()&&g.inline&&!j.select("td.mce-item-selected,th.mce-item-selected").length?F("remove",e,t):(h=U.getBookmark(),d(U.getRng(et)),U.moveToBookmark(h),g.inline&&b(e,t,U.getStart())&&O(U.getRng(!0)),r.nodeChanged()))}function g(e,t,n){var i=u(e);!b(e,t,n)||"toggle"in i[0]&&!i[0].toggle?p(e,t,n):m(e,t,n)}function v(e,t,n,i){function r(e,t,r){var o,a,s,l=t[r];if(t.onmatch)return t.onmatch(e,t,r);if(l)if(l.length===z){for(o in l)if(l.hasOwnProperty(o)){if(a="attributes"===r?j.getAttrib(e,o):E(e,o),i&&!a&&!t.exact)return;if((!i||t.exact)&&!_(a,S(N(l[o],n),o)))return}}else for(s=0;s<l.length;s++)if("attributes"===r?j.getAttrib(e,l[s]):E(e,l[s]))return t;return t}var o,a,s,l=u(t);if(l&&e)for(a=0;a<l.length;a++)if(o=l[a],k(e,o)&&r(e,o,"attributes")&&r(e,o,"styles")){if(s=o.classes)for(a=0;a<s.length;a++)if(!j.hasClass(e,s[a]))return;return o}}function b(e,t,n){function i(n){var i=j.getRoot();return n===i?!1:(n=j.getParent(n,function(n){return n.parentNode===i||!!v(n,e,t,!0)}),v(n,e,t))}var r;return n?i(n):(n=U.getNode(),i(n)?et:(r=U.getStart(),r!=n&&i(r)?et:Z))}function y(e,t){var n,i=[],r={};return n=U.getStart(),j.getParent(n,function(n){var o,a;for(o=0;o<e.length;o++)a=e[o],!r[a]&&v(n,a,t)&&(r[a]=!0,i.push(a))},j.getRoot()),i}function x(e){var t,n,i,r,o,s=u(e);if(s)for(t=U.getStart(),n=a(t),r=s.length-1;r>=0;r--){if(o=s[r].selector,!o||s[r].defaultBlock)return et;for(i=n.length-1;i>=0;i--)if(j.is(n[i],o))return et}return Z}function C(e,t,n){var i;return H||(H={},i={},r.on("NodeChange",function(e){var t=a(e.element),n={};nt(H,function(e,r){nt(t,function(o){return v(o,r,{},e.similar)?(i[r]||(nt(e,function(e){e(!0,{node:o,format:r,parents:t})}),i[r]=e),n[r]=e,!1):void 0})}),nt(i,function(r,o){n[o]||(delete i[o],nt(r,function(n){n(!1,{node:e.element,format:o,parents:t})}))})})),nt(e.split(","),function(e){H[e]||(H[e]=[],H[e].similar=n),H[e].push(t)}),this}function w(e){return i.getCssText(r,e)}function k(e,t){return _(e,t.inline)?et:_(e,t.block)?et:t.selector?1==e.nodeType&&j.is(e,t.selector):void 0}function _(e,t){return e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()==t.toLowerCase()}function E(e,t){return S(j.getStyle(e,t),t)}function S(e,t){return("color"==t||"backgroundColor"==t)&&(e=j.toHex(e)),"fontWeight"==t&&700==e&&(e="bold"),"fontFamily"==t&&(e=e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+e}function N(e,t){return"string"!=typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,function(e,n){return t[n]||e})),e}function T(e){return e&&3===e.nodeType&&/^([\t \r\n]+|)$/.test(e.nodeValue)}function M(e,t,n){var i=j.create(t,n);return e.parentNode.insertBefore(i,e),i.appendChild(e),i}function A(t,n,i){function s(e){function t(e){return"BR"==e.nodeName&&e.getAttribute("data-mce-bogus")&&!e.nextSibling}var i,r,o,a,s;if(i=r=e?g:b,a=e?"previousSibling":"nextSibling",s=j.getRoot(),3==i.nodeType&&!T(i)&&(e?v>0:y<i.nodeValue.length))return i;for(;;){if(!n[0].block_expand&&X(r))return r;for(o=r[a];o;o=o[a])if(!B(o)&&!T(o)&&!t(o))return r;if(r.parentNode==s){i=r;break}r=r.parentNode}return i}function l(e,t){for(t===z&&(t=3===e.nodeType?e.length:e.childNodes.length);e&&e.hasChildNodes();)e=e.childNodes[t],e&&(t=3===e.nodeType?e.length:e.childNodes.length);return{node:e,offset:t}}function c(e){for(var t=e;t;){if(1===t.nodeType&&tt(t))return"false"===tt(t)?t:e;t=t.parentNode}return e}function u(t,n,o){function a(e,t){var n,r,a=e.nodeValue;return"undefined"==typeof t&&(t=o?a.length:0),o?(n=a.lastIndexOf(" ",t),r=a.lastIndexOf("\xa0",t),n=n>r?n:r,-1===n||i||n++):(n=a.indexOf(" ",t),r=a.indexOf("\xa0",t),n=-1!==n&&(-1===r||r>n)?n:r),n}var s,l,c,u;if(3===t.nodeType){if(c=a(t,n),-1!==c)return{container:t,offset:c};u=t}for(s=new e(t,j.getParent(t,X)||r.getBody());l=s[o?"prev":"next"]();)if(3===l.nodeType){if(u=l,c=a(l),-1!==c)return{container:l,offset:c}}else if(X(l))break;return u?(n=o?0:u.length,{container:u,offset:n}):void 0}function d(e,i){var r,o,s,l;for(3==e.nodeType&&0===e.nodeValue.length&&e[i]&&(e=e[i]),r=a(e),o=0;o<r.length;o++)for(s=0;s<n.length;s++)if(l=n[s],!("collapsed"in l&&l.collapsed!==t.collapsed)&&j.is(r[o],l.selector))return r[o];return e}function f(e,t){var i,r=j.getRoot();if(n[0].wrapper||(i=j.getParent(e,n[0].block,r)),i||(i=j.getParent(3==e.nodeType?e.parentNode:e,function(e){return e!=r&&o(e)})),i&&n[0].wrapper&&(i=a(i,"ul,ol").reverse()[0]||i),!i)for(i=e;i[t]&&!X(i[t])&&(i=i[t],!_(i,"br")););return i||e}var h,p,m,g=t.startContainer,v=t.startOffset,b=t.endContainer,y=t.endOffset;if(1==g.nodeType&&g.hasChildNodes()&&(h=g.childNodes.length-1,g=g.childNodes[v>h?h:v],3==g.nodeType&&(v=0)),1==b.nodeType&&b.hasChildNodes()&&(h=b.childNodes.length-1,b=b.childNodes[y>h?h:y-1],3==b.nodeType&&(y=b.nodeValue.length)),g=c(g),b=c(b),(B(g.parentNode)||B(g))&&(g=B(g)?g:g.parentNode,g=g.nextSibling||g,3==g.nodeType&&(v=0)),(B(b.parentNode)||B(b))&&(b=B(b)?b:b.parentNode,b=b.previousSibling||b,3==b.nodeType&&(y=b.length)),n[0].inline&&(t.collapsed&&(m=u(g,v,!0),m&&(g=m.container,v=m.offset),m=u(b,y),m&&(b=m.container,y=m.offset)),p=l(b,y),p.node)){for(;p.node&&0===p.offset&&p.node.previousSibling;)p=l(p.node.previousSibling);p.node&&p.offset>0&&3===p.node.nodeType&&" "===p.node.nodeValue.charAt(p.offset-1)&&p.offset>1&&(b=p.node,b.splitText(p.offset-1))}return(n[0].inline||n[0].block_expand)&&(n[0].inline&&3==g.nodeType&&0!==v||(g=s(!0)),n[0].inline&&3==b.nodeType&&y!==b.nodeValue.length||(b=s())),n[0].selector&&n[0].expand!==Z&&!n[0].inline&&(g=d(g,"previousSibling"),b=d(b,"nextSibling")),(n[0].block||n[0].selector)&&(g=f(g,"previousSibling"),b=f(b,"nextSibling"),n[0].block&&(X(g)||(g=s(!0)),X(b)||(b=s()))),1==g.nodeType&&(v=Q(g),g=g.parentNode),1==b.nodeType&&(y=Q(b)+1,b=b.parentNode),{startContainer:g,startOffset:v,endContainer:b,endOffset:y}}function R(e,t,n,i){var r,o,a;if(!k(n,e))return Z;if("all"!=e.remove)for(nt(e.styles,function(e,r){e=S(N(e,t),r),"number"==typeof r&&(r=e,i=0),(!i||_(E(i,r),e))&&j.setStyle(n,r,""),a=1}),a&&""===j.getAttrib(n,"style")&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style")),nt(e.attributes,function(e,r){var o;if(e=N(e,t),"number"==typeof r&&(r=e,i=0),!i||_(j.getAttrib(i,r),e)){if("class"==r&&(e=j.getAttrib(n,r),e&&(o="",nt(e.split(/\s+/),function(e){/mce\w+/.test(e)&&(o+=(o?" ":"")+e)}),o)))return void j.setAttrib(n,r,o);"class"==r&&n.removeAttribute("className"),J.test(r)&&n.removeAttribute("data-mce-"+r),n.removeAttribute(r)}}),nt(e.classes,function(e){e=N(e,t),(!i||j.hasClass(i,e))&&j.removeClass(n,e)}),o=j.getAttribs(n),r=0;r<o.length;r++)if(0!==o[r].nodeName.indexOf("_"))return Z;return"none"!=e.remove?(D(n,e),et):void 0}function D(e,t){function n(e,t,n){return e=P(e,t,n),!e||"BR"==e.nodeName||X(e)}var i,o=e.parentNode;t.block&&(K?o==j.getRoot()&&(t.list_block&&_(e,t.list_block)||nt(it(e.childNodes),function(e){Y(K,e.nodeName.toLowerCase())?i?i.appendChild(e):(i=M(e,K),j.setAttribs(i,r.settings.forced_root_block_attrs)):i=0})):X(e)&&!X(o)&&(n(e,Z)||n(e.firstChild,et,1)||e.insertBefore(j.create("br"),e.firstChild),n(e,et)||n(e.lastChild,Z,1)||e.appendChild(j.create("br")))),t.selector&&t.inline&&!_(t.inline,e)||j.remove(e,1)}function P(e,t,n){if(e)for(t=t?"nextSibling":"previousSibling",e=n?e:e[t];e;e=e[t])if(1==e.nodeType||!T(e))return e}function B(e){return e&&1==e.nodeType&&"bookmark"==e.getAttribute("data-mce-type")}function I(e,t){function n(e,t){function n(e){var t={};return nt(j.getAttribs(e),function(n){var i=n.nodeName.toLowerCase();0!==i.indexOf("_")&&"style"!==i&&"data-mce-style"!==i&&(t[i]=j.getAttrib(e,i))}),t}function i(e,t){var n,i;for(i in e)if(e.hasOwnProperty(i)){if(n=t[i],n===z)return Z;if(e[i]!=n)return Z;delete t[i]}for(i in t)if(t.hasOwnProperty(i))return Z;return et}return e.nodeName!=t.nodeName?Z:i(n(e),n(t))&&i(j.parseStyle(j.getAttrib(e,"style")),j.parseStyle(j.getAttrib(t,"style")))?!B(e)&&!B(t):Z}function i(e,t){for(r=e;r;r=r[t]){if(3==r.nodeType&&0!==r.nodeValue.length)return e;if(1==r.nodeType&&!B(r))return r}return e}var r,o;if(e&&t&&(e=i(e,"previousSibling"),t=i(t,"nextSibling"),n(e,t))){for(r=e.nextSibling;r&&r!=t;)o=r,r=r.nextSibling,e.appendChild(o);return j.remove(t),nt(it(t.childNodes),function(t){e.appendChild(t)}),e}return t}function L(t,n){var i,o,a;return i=t[n?"startContainer":"endContainer"],o=t[n?"startOffset":"endOffset"],1==i.nodeType&&(a=i.childNodes.length-1,!n&&o&&o--,i=i.childNodes[o>a?a:o]),3===i.nodeType&&n&&o>=i.nodeValue.length&&(i=new e(i,r.getBody()).next()||i),3!==i.nodeType||n||0!==o||(i=new e(i,r.getBody()).prev()||i),i}function F(t,n,i){function a(e){var t=j.create("span",{id:b,"data-mce-bogus":!0,style:y?"color:red":""});return e&&t.appendChild(r.getDoc().createTextNode(G)),t}function s(e,t){for(;e;){if(3===e.nodeType&&e.nodeValue!==G||e.childNodes.length>1)return!1;t&&1===e.nodeType&&t.push(e),e=e.firstChild}return!0}function l(e){for(;e;){if(e.id===b)return e;e=e.parentNode}}function c(t){var n;if(t)for(n=new e(t,t),t=n.current();t;t=n.next())if(3===t.nodeType)return t}function d(e,t){var n,i;if(e)i=U.getRng(!0),s(e)?(t!==!1&&(i.setStartBefore(e),i.setEndBefore(e)),j.remove(e)):(n=c(e),n.nodeValue.charAt(0)===G&&(n=n.deleteData(0,1)),j.remove(e,1)),U.setRng(i);else if(e=l(U.getStart()),!e)for(;e=j.get(b);)d(e,!1)}function f(){var e,t,r,o,s,d,f;e=U.getRng(!0),o=e.startOffset,d=e.startContainer,f=d.nodeValue,t=l(U.getStart()),t&&(r=c(t)),f&&o>0&&o<f.length&&/\w/.test(f.charAt(o))&&/\w/.test(f.charAt(o-1))?(s=U.getBookmark(),e.collapse(!0),e=A(e,u(n)),e=V.split(e),p(n,i,e),U.moveToBookmark(s)):(t&&r.nodeValue===G?p(n,i,t):(t=a(!0),r=t.firstChild,e.insertNode(t),o=1,p(n,i,t)),U.setCursorLocation(r,o))}function h(){var e,t,r,s,l,c,d,f,h=U.getRng(!0),p=[];for(e=h.startContainer,t=h.startOffset,l=e,3==e.nodeType&&((t!=e.nodeValue.length||e.nodeValue===G)&&(s=!0),l=l.parentNode);l;){if(v(l,n,i)){c=l;break}l.nextSibling&&(s=!0),p.push(l),l=l.parentNode}if(c)if(s)r=U.getBookmark(),h.collapse(!0),h=A(h,u(n),!0),h=V.split(h),m(n,i,h),U.moveToBookmark(r);else{for(f=a(),l=f,d=p.length-1;d>=0;d--)l.appendChild(j.clone(p[d],!1)),l=l.firstChild;l.appendChild(j.doc.createTextNode(G)),l=l.firstChild;var g=j.getParent(c,o);g&&j.isEmpty(g)?c.parentNode.replaceChild(f,c):j.insertAfter(f,c),U.setCursorLocation(l,1),j.isEmpty(c)&&j.remove(c)}}function g(){var e;e=l(U.getStart()),e&&!j.isEmpty(e)&&rt(e,function(e){1!=e.nodeType||e.id===b||j.isEmpty(e)||j.setAttrib(e,"data-mce-bogus",null)},"childNodes")}var b="_mce_caret",y=r.settings.caret_debug;r._hasCaretEvents||($=function(){var e,t=[];if(s(l(U.getStart()),t))for(e=t.length;e--;)j.setAttrib(t[e],"data-mce-bogus","1")},W=function(e){var t=e.keyCode;d(),(8==t||37==t||39==t)&&d(l(U.getStart())),g()},r.on("SetContent",function(e){e.selection&&g()}),r._hasCaretEvents=!0),"apply"==t?f():h()}function O(t){var n,i,r,o,a,s=t.startContainer,l=t.startOffset;if(3==s.nodeType&&l>=s.nodeValue.length&&(l=Q(s),s=s.parentNode,n=!0),1==s.nodeType)for(o=s.childNodes,s=o[Math.min(l,o.length-1)],i=new e(s,j.getParent(s,j.isBlock)),(l>o.length-1||n)&&i.next(),r=i.current();r;r=i.next())if(3==r.nodeType&&!T(r))return a=j.create("a",null,G),r.parentNode.insertBefore(a,r),t.setStart(r,0),U.setRng(t),void j.remove(a)}var H,z,W,$,q={},j=r.dom,U=r.selection,V=new t(j),Y=r.schema.isValidChild,X=j.isBlock,K=r.settings.forced_root_block,Q=j.nodeIndex,G="\ufeff",J=/^(src|href|style)$/,Z=!1,et=!0,tt=j.getContentEditable,nt=n.each,it=n.grep,rt=n.walk,ot=n.extend;ot(this,{get:u,register:d,apply:p,remove:m,toggle:g,match:b,matchAll:y,matchNode:v,canApply:x,formatChanged:C,getCssText:w}),l(),c(),r.on("BeforeGetContent",function(){$&&$()}),r.on("mouseup keydown",function(e){W&&W(e)})}}),i(B,[m,f],function(e,t){var n,i=t.trim;return n=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[\u200b\ufeff]+<\\/span>","<div[^>]+data-mce-bogus[^>]+><\\/div>",'\\s?data-mce-selected="[^"]+"'].join("|"),"gi"),function(t){function r(){return i(t.getContent({format:"raw",no_events:1}).replace(n,""))}function o(e){l.typing=!1,l.add({},e)}var a,s,l=this,c=0,u=[],d=0;return t.on("init",function(){l.add()}),t.on("BeforeExecCommand",function(e){var t=e.command;"Undo"!=t&&"Redo"!=t&&"mceRepaint"!=t&&l.beforeChange()}),t.on("ExecCommand",function(e){var t=e.command;"Undo"!=t&&"Redo"!=t&&"mceRepaint"!=t&&o(e)}),t.on("ObjectResizeStart",function(){l.beforeChange()}),t.on("SaveContent ObjectResized blur",o),t.on("DragEnd",o),t.on("KeyUp",function(n){var i=n.keyCode;(i>=33&&36>=i||i>=37&&40>=i||45==i||13==i||n.ctrlKey)&&(o(),t.nodeChanged()),(46==i||8==i||e.mac&&(91==i||93==i))&&t.nodeChanged(),s&&l.typing&&(t.isDirty()||(t.isNotDirty=!u[0]||r()==u[0].content,t.isNotDirty||t.fire("change",{level:u[0],lastLevel:null})),t.fire("TypingUndo"),s=!1,t.nodeChanged())}),t.on("KeyDown",function(e){var t=e.keyCode;return t>=33&&36>=t||t>=37&&40>=t||45==t?void(l.typing&&o(e)):void((16>t||t>20)&&224!=t&&91!=t&&!l.typing&&(l.beforeChange(),l.typing=!0,l.add({},e),s=!0))}),t.on("MouseDown",function(e){l.typing&&o(e)}),t.addShortcut("ctrl+z","","Undo"),t.addShortcut("ctrl+y,ctrl+shift+z","","Redo"),t.on("AddUndo Undo Redo ClearUndos MouseUp",function(e){e.isDefaultPrevented()||t.nodeChanged()}),l={data:u,typing:!1,beforeChange:function(){d||(a=t.selection.getBookmark(2,!0))},add:function(e,n){var i,o,s=t.settings;if(e=e||{},e.content=r(),d||t.removed)return null;if(o=u[c],t.fire("BeforeAddUndo",{level:e,lastLevel:o,originalEvent:n}).isDefaultPrevented())return null;if(o&&o.content==e.content)return null;if(u[c]&&(u[c].beforeBookmark=a),s.custom_undo_redo_levels&&u.length>s.custom_undo_redo_levels){for(i=0;i<u.length-1;i++)u[i]=u[i+1];u.length--,c=u.length}e.bookmark=t.selection.getBookmark(2,!0),c<u.length-1&&(u.length=c+1),u.push(e),c=u.length-1;var l={level:e,lastLevel:o,originalEvent:n};return t.fire("AddUndo",l),c>0&&(t.isNotDirty=!1,t.fire("change",l)),e},undo:function(){var e;return l.typing&&(l.add(),l.typing=!1),c>0&&(e=u[--c],0===c&&(t.isNotDirty=!0),t.setContent(e.content,{format:"raw"}),t.selection.moveToBookmark(e.beforeBookmark),t.fire("undo",{level:e})),e},redo:function(){var e;return c<u.length-1&&(e=u[++c],t.setContent(e.content,{format:"raw"}),t.selection.moveToBookmark(e.bookmark),t.fire("redo",{level:e})),e},clear:function(){u=[],c=0,l.typing=!1,t.fire("ClearUndos")},hasUndo:function(){return c>0||l.typing&&u[0]&&r()!=u[0].content},hasRedo:function(){return c<u.length-1&&!this.typing},transact:function(e){l.beforeChange();try{d++,e()}finally{d--}l.add()}}}}),i(I,[d,A,m],function(e,t,n){var i=n.ie&&n.ie<11;return function(r){function o(o){function f(e){return e&&a.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&"true"!==a.getContentEditable(e)}function h(e){var t;a.isBlock(e)&&(t=s.getRng(),e.appendChild(a.create("span",null,"\xa0")),s.select(e),e.lastChild.outerHTML="",s.setRng(t))}function p(e){for(var t,n=e,i=[];n=n.firstChild;){if(a.isBlock(n))return;1!=n.nodeType||d[n.nodeName.toLowerCase()]||i.push(n)}for(t=i.length;t--;)n=i[t],!n.hasChildNodes()||n.firstChild==n.lastChild&&""===n.firstChild.nodeValue?a.remove(n):"A"==n.nodeName&&" "===(n.innerText||n.textContent)&&a.remove(n)}function m(t){function i(e){for(;e;){if(1==e.nodeType||3==e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}}var r,o,l,c,u=t;if(n.ie&&n.ie<9&&R&&R.firstChild&&R.firstChild==R.lastChild&&"BR"==R.firstChild.tagName&&a.remove(R.firstChild),"LI"==t.nodeName){var f=i(t.firstChild);f&&/^(UL|OL)$/.test(f.nodeName)&&t.insertBefore(a.doc.createTextNode("\xa0"),t.firstChild)}if(l=a.createRng(),t.hasChildNodes()){for(r=new e(t,t);o=r.current();){if(3==o.nodeType){l.setStart(o,0),l.setEnd(o,0);break}if(d[o.nodeName.toLowerCase()]){l.setStartBefore(o),l.setEndBefore(o);break}u=o,o=r.next()}o||(l.setStart(u,0),l.setEnd(u,0))}else"BR"==t.nodeName?t.nextSibling&&a.isBlock(t.nextSibling)?((!D||9>D)&&(c=a.create("br"),t.parentNode.insertBefore(c,t)),l.setStartBefore(t),l.setEndBefore(t)):(l.setStartAfter(t),l.setEndAfter(t)):(l.setStart(t,0),l.setEnd(t,0));s.setRng(l),a.remove(c),s.scrollIntoView(t)}function g(e){var t=l.forced_root_block;t&&t.toLowerCase()===e.tagName.toLowerCase()&&a.setAttribs(e,l.forced_root_block_attrs)}function v(e){var t,n,r,o=M;if(e||"TABLE"==F?(t=a.create(e||H),g(t)):t=R.cloneNode(!1),r=t,l.keep_styles!==!1)do if(/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U|VAR|CITE|DFN|CODE|MARK|Q|SUP|SUB|SAMP)$/.test(o.nodeName)){if("_mce_caret"==o.id)continue;n=o.cloneNode(!1),a.setAttrib(n,"id",""),t.hasChildNodes()?(n.appendChild(t.firstChild),t.appendChild(n)):(r=n,t.appendChild(n))}while(o=o.parentNode);return i||(r.innerHTML='<br data-mce-bogus="1">'),t}function b(t){var n,i,r;if(3==M.nodeType&&(t?A>0:A<M.nodeValue.length))return!1;if(M.parentNode==R&&z&&!t)return!0;if(t&&1==M.nodeType&&M==R.firstChild)return!0;if("TABLE"===M.nodeName||M.previousSibling&&"TABLE"==M.previousSibling.nodeName)return z&&!t||!z&&t;for(n=new e(M,R),3==M.nodeType&&(t&&0===A?n.prev():t||A!=M.nodeValue.length||n.next());i=n.current();){if(1===i.nodeType){if(!i.getAttribute("data-mce-bogus")&&(r=i.nodeName.toLowerCase(),d[r]&&"br"!==r))return!1}else if(3===i.nodeType&&!/^[ \t\r\n]*$/.test(i.nodeValue))return!1;t?n.prev():n.next()}return!0}function y(e,t){var n,i,o,s,l,c,d=H||"P";if(i=a.getParent(e,a.isBlock),c=r.getBody().nodeName.toLowerCase(),!i||!f(i)){if(i=i||T,!i.hasChildNodes())return n=a.create(d),g(n),i.appendChild(n),S.setStart(n,0),S.setEnd(n,0),n;for(s=e;s.parentNode!=i;)s=s.parentNode;for(;s&&!a.isBlock(s);)o=s,s=s.previousSibling;if(o&&u.isValidChild(c,d.toLowerCase())){for(n=a.create(d),g(n),o.parentNode.insertBefore(n,o),s=o;s&&!a.isBlock(s);)l=s.nextSibling,n.appendChild(s),s=l;S.setStart(e,t),S.setEnd(e,t)}}return e}function x(){function e(e){for(var t=L[e?"firstChild":"lastChild"];t&&1!=t.nodeType;)t=t[e?"nextSibling":"previousSibling"];return t===R}function t(){var e=L.parentNode;return"LI"==e.nodeName?e:L}var n=L.parentNode.nodeName;/^(OL|UL|LI)$/.test(n)&&(H="LI"),B=H?v(H):a.create("BR"),e(!0)&&e()?"LI"==n?a.insertAfter(B,t()):a.replace(B,L):e(!0)?"LI"==n?(a.insertAfter(B,t()),B.appendChild(a.doc.createTextNode(" ")),B.appendChild(L)):L.parentNode.insertBefore(B,L):e()?(a.insertAfter(B,t()),h(B)):(L=t(),N=S.cloneRange(),N.setStartAfter(R),N.setEndAfter(L),I=N.extractContents(),"LI"==H&&"LI"==I.firstChild.nodeName?(B=I.firstChild,a.insertAfter(I,L)):(a.insertAfter(I,L),a.insertAfter(B,L))),a.remove(R),m(B),c.add()}function C(){for(var t,n=new e(M,R);t=n.next();)if(d[t.nodeName.toLowerCase()]||t.length>0)return!0}function w(){var e,t,n;M&&3==M.nodeType&&A>=M.nodeValue.length&&(i||C()||(e=a.create("br"),S.insertNode(e),S.setStartAfter(e),S.setEndAfter(e),t=!0)),e=a.create("br"),S.insertNode(e),i&&"PRE"==F&&(!D||8>D)&&e.parentNode.insertBefore(a.doc.createTextNode("\r"),e),n=a.create("span",{},"&nbsp;"),e.parentNode.insertBefore(n,e),s.scrollIntoView(n),a.remove(n),t?(S.setStartBefore(e),S.setEndBefore(e)):(S.setStartAfter(e),S.setEndAfter(e)),s.setRng(S),c.add()}function k(e){do 3===e.nodeType&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)}function _(e){var t,n,i=a.getRoot();for(t=e;t!==i&&"false"!==a.getContentEditable(t);)"true"===a.getContentEditable(t)&&(n=t),t=t.parentNode;return t!==i?n:i}function E(e){var t;i||(e.normalize(),t=e.lastChild,(!t||/^(left|right)$/gi.test(a.getStyle(t,"float",!0)))&&a.add(e,"br"))}var S,N,T,M,A,R,D,P,B,I,L,F,O,H,z;if(S=s.getRng(!0),!o.isDefaultPrevented()){if(!S.collapsed)return void r.execCommand("Delete");if(new t(a).normalize(S),M=S.startContainer,A=S.startOffset,H=(l.force_p_newlines?"p":"")||l.forced_root_block,H=H?H.toUpperCase():"",D=a.doc.documentMode,P=o.shiftKey,1==M.nodeType&&M.hasChildNodes()&&(z=A>M.childNodes.length-1,M=M.childNodes[Math.min(A,M.childNodes.length-1)]||M,A=z&&3==M.nodeType?M.nodeValue.length:0),T=_(M)){if(c.beforeChange(),!a.isBlock(T)&&T!=a.getRoot())return void((!H||P)&&w());if((H&&!P||!H&&P)&&(M=y(M,A)),R=a.getParent(M,a.isBlock),L=R?a.getParent(R.parentNode,a.isBlock):null,F=R?R.nodeName.toUpperCase():"",O=L?L.nodeName.toUpperCase():"","LI"!=O||o.ctrlKey||(R=L,F=O),"LI"==F){if(!H&&P)return void w();if(a.isEmpty(R))return void x()}if("PRE"==F&&l.br_in_pre!==!1){if(!P)return void w()}else if(!H&&!P&&"LI"!=F||H&&P)return void w();H&&R===r.getBody()||(H=H||"P",b()?(B=/^(H[1-6]|PRE|FIGURE)$/.test(F)&&"HGROUP"!=O?v(H):v(),l.end_container_on_empty_block&&f(L)&&a.isEmpty(R)?B=a.split(L,R):a.insertAfter(B,R),m(B)):b(!0)?(B=R.parentNode.insertBefore(v(),R),h(B),m(R)):(N=S.cloneRange(),N.setEndAfter(R),I=N.extractContents(),k(I),B=I.firstChild,a.insertAfter(I,R),p(B),E(R),m(B)),a.setAttrib(B,"id",""),r.fire("NewBlock",{newBlock:B}),c.add())}}}var a=r.dom,s=r.selection,l=r.settings,c=r.undoManager,u=r.schema,d=u.getNonEmptyElements();r.on("keydown",function(e){13==e.keyCode&&o(e)!==!1&&e.preventDefault()})}}),i(L,[],function(){return function(e){function t(){var t,s,l,c,u,d,f,h,p,m,g,v,b=r.getStart(),y=e.getBody(),x=-16777215;if(v=n.forced_root_block,b&&1===b.nodeType&&v){for(;b&&b!=y;){if(a[b.nodeName])return;b=b.parentNode}if(t=r.getRng(),t.setStart){s=t.startContainer,l=t.startOffset,c=t.endContainer,u=t.endOffset;try{p=e.getDoc().activeElement===y}catch(C){}}else t.item&&(b=t.item(0),t=e.getDoc().body.createTextRange(),t.moveToElementText(b)),p=t.parentElement().ownerDocument===e.getDoc(),m=t.duplicate(),m.collapse(!0),l=-1*m.move("character",x),m.collapsed||(m=t.duplicate(),m.collapse(!1),u=-1*m.move("character",x)-l);for(b=y.firstChild,g=y.nodeName.toLowerCase();b;)if((3===b.nodeType||1==b.nodeType&&!a[b.nodeName])&&o.isValidChild(g,v.toLowerCase())){if(3===b.nodeType&&0===b.nodeValue.length){f=b,b=b.nextSibling,i.remove(f);continue}d||(d=i.create(v,e.settings.forced_root_block_attrs),b.parentNode.insertBefore(d,b),h=!0),f=b,b=b.nextSibling,d.appendChild(f)}else d=null,b=b.nextSibling;if(h&&p){if(t.setStart)t.setStart(s,l),t.setEnd(c,u),r.setRng(t);else try{t=e.getDoc().body.createTextRange(),t.moveToElementText(y),t.collapse(!0),t.moveStart("character",l),u>0&&t.moveEnd("character",u),t.select()}catch(C){}e.nodeChanged()}}}var n=e.settings,i=e.dom,r=e.selection,o=e.schema,a=o.getBlockElements();n.forced_root_block&&e.on("NodeChange",t)}}),i(F,[E,m,f],function(e,n,i){var r=i.each,o=i.extend,a=i.map,s=i.inArray,l=i.explode,c=n.gecko,u=n.ie,d=!0,f=!1;return function(i){function h(e,t,n){var i;return e=e.toLowerCase(),(i=E.exec[e])?(i(e,t,n),d):f}function p(e){var t;return e=e.toLowerCase(),(t=E.state[e])?t(e):-1}function m(e){var t;return e=e.toLowerCase(),(t=E.value[e])?t(e):f}function g(e,t){t=t||"exec",r(e,function(e,n){r(n.toLowerCase().split(","),function(n){E[t][n]=e})})}function v(e,n,r){return n===t&&(n=f),r===t&&(r=null),i.getDoc().execCommand(e,n,r)}function b(e){return N.match(e)}function y(e,n){N.toggle(e,n?{value:n}:t),i.nodeChanged()}function x(e){w=_.getBookmark(e)}function C(){_.moveToBookmark(w)}var w,k=i.dom,_=i.selection,E={state:{},exec:{},value:{}},S=i.settings,N=i.formatter;o(this,{execCommand:h,queryCommandState:p,queryCommandValue:m,addCommands:g}),g({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){i.undoManager.add()},"Cut,Copy,Paste":function(e){var t,r=i.getDoc();try{v(e)}catch(o){t=d}if(t||!r.queryCommandSupported(e)){var a=i.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");n.mac&&(a=a.replace(/Ctrl\+/g,"\u2318+")),i.windowManager.alert(a)}},unlink:function(){if(_.isCollapsed()){var e=_.getNode();return void("A"==e.tagName&&i.dom.remove(e,!0))}N.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(e){var t=e.substring(7);"full"==t&&(t="justify"),r("left,center,right,justify".split(","),function(e){t!=e&&N.remove("align"+e)}),y("align"+t),h("mceRepaint")},"InsertUnorderedList,InsertOrderedList":function(e){var t,n;v(e),t=k.getParent(_.getNode(),"ol,ul"),t&&(n=t.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName)&&(x(),k.split(n,t),C()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){y(e)},"ForeColor,HiliteColor,FontName":function(e,t,n){y(e,n)},FontSize:function(e,t,n){var i,r;n>=1&&7>=n&&(r=l(S.font_size_style_values),i=l(S.font_size_classes),n=i?i[n-1]||n:r[n-1]||n),y(e,n)},RemoveFormat:function(e){N.remove(e)},mceBlockQuote:function(){y("blockquote")},FormatBlock:function(e,t,n){return y(n||"p")},mceCleanup:function(){var e=_.getBookmark();i.setContent(i.getContent({cleanup:d}),{cleanup:d}),_.moveToBookmark(e)},mceRemoveNode:function(e,t,n){var r=n||_.getNode();r!=i.getBody()&&(x(),i.dom.remove(r,d),C())},mceSelectNodeDepth:function(e,t,n){var r=0;k.getParent(_.getNode(),function(e){return 1==e.nodeType&&r++==n?(_.select(e),f):void 0},i.getBody())},mceSelectNode:function(e,t,n){_.select(n)},mceInsertContent:function(t,n,r){function o(e){function t(e){return i[e]&&3==i[e].nodeType}var n,i,r;return n=_.getRng(!0),i=n.startContainer,r=n.startOffset,3==i.nodeType&&(r>0?e=e.replace(/^&nbsp;/," "):t("previousSibling")||(e=e.replace(/^ /,"&nbsp;")),r<i.length?e=e.replace(/&nbsp;(<br>|)$/," "):t("nextSibling")||(e=e.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),e}var a,s,l,c,d,f,h,p,m,g,v;/^ | $/.test(r)&&(r=o(r)),a=i.parser,s=new e({},i.schema),v='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#200B;</span>',f={content:r,format:"html",selection:!0},i.fire("BeforeSetContent",f),r=f.content,-1==r.indexOf("{$caret}")&&(r+="{$caret}"),r=r.replace(/\{\$caret\}/,v),p=_.getRng();var b=p.startContainer||(p.parentElement?p.parentElement():null),y=i.getBody();b===y&&_.isCollapsed()&&k.isBlock(y.firstChild)&&k.isEmpty(y.firstChild)&&(p=k.createRng(),p.setStart(y.firstChild,0),p.setEnd(y.firstChild,0),_.setRng(p)),_.isCollapsed()||i.getDoc().execCommand("Delete",!1,null),l=_.getNode();
var x={context:l.nodeName.toLowerCase()};if(d=a.parse(r,x),m=d.lastChild,"mce_marker"==m.attr("id"))for(h=m,m=m.prev;m;m=m.walk(!0))if(3==m.type||!k.isBlock(m.name)){m.parent.insert(h,m,"br"===m.name);break}if(x.invalid){for(_.setContent(v),l=_.getNode(),c=i.getBody(),9==l.nodeType?l=m=c:m=l;m!==c;)l=m,m=m.parentNode;r=l==c?c.innerHTML:k.getOuterHTML(l),r=s.serialize(a.parse(r.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return s.serialize(d)}))),l==c?k.setHTML(c,r):k.setOuterHTML(l,r)}else r=s.serialize(d),m=l.firstChild,g=l.lastChild,!m||m===g&&"BR"===m.nodeName?k.setHTML(l,r):_.setContent(r);h=k.get("mce_marker"),_.scrollIntoView(h),p=k.createRng(),m=h.previousSibling,m&&3==m.nodeType?(p.setStart(m,m.nodeValue.length),u||(g=h.nextSibling,g&&3==g.nodeType&&(m.appendData(g.data),g.parentNode.removeChild(g)))):(p.setStartBefore(h),p.setEndBefore(h)),k.remove(h),_.setRng(p),i.fire("SetContent",f),i.addVisual()},mceInsertRawHTML:function(e,t,n){_.setContent("tiny_mce_marker"),i.setContent(i.getContent().replace(/tiny_mce_marker/g,function(){return n}))},mceToggleFormat:function(e,t,n){y(n)},mceSetContent:function(e,t,n){i.setContent(n)},"Indent,Outdent":function(e){var t,n,o;t=S.indentation,n=/[a-z%]+$/i.exec(t),t=parseInt(t,10),p("InsertUnorderedList")||p("InsertOrderedList")?v(e):(S.forced_root_block||k.getParent(_.getNode(),k.isBlock)||N.apply("div"),r(_.getSelectedBlocks(),function(r){if("LI"!=r.nodeName){var a=i.getParam("indent_use_margin",!1)?"margin":"padding";a+="rtl"==k.getStyle(r,"direction",!0)?"Right":"Left","outdent"==e?(o=Math.max(0,parseInt(r.style[a]||0,10)-t),k.setStyle(r,a,o?o+n:"")):(o=parseInt(r.style[a]||0,10)+t+n,k.setStyle(r,a,o))}}))},mceRepaint:function(){if(c)try{x(d),_.getSel()&&_.getSel().selectAllChildren(i.getBody()),_.collapse(d),C()}catch(e){}},InsertHorizontalRule:function(){i.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){i.hasVisual=!i.hasVisual,i.addVisual()},mceReplaceContent:function(e,t,n){i.execCommand("mceInsertContent",!1,n.replace(/\{\$selection\}/g,_.getContent({format:"text"})))},mceInsertLink:function(e,t,n){var i;"string"==typeof n&&(n={href:n}),i=k.getParent(_.getNode(),"a"),n.href=n.href.replace(" ","%20"),i&&n.href||N.remove("link"),n.href&&N.apply("link",n,i)},selectAll:function(){var e,t=k.getRoot();_.getRng().setStart?(e=k.createRng(),e.setStart(t,0),e.setEnd(t,t.childNodes.length),_.setRng(e)):(e=_.getRng(),e.item||(e.moveToElementText(t),e.select()))},"delete":function(){v("Delete");var e=i.getBody();k.isEmpty(e)&&(i.setContent(""),e.firstChild&&k.isBlock(e.firstChild)?i.selection.setCursorLocation(e.firstChild,0):i.selection.setCursorLocation(e,0))},mceNewDocument:function(){i.setContent("")}}),g({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(e){var t="align"+e.substring(7),n=_.isCollapsed()?[k.getParent(_.getNode(),k.isBlock)]:_.getSelectedBlocks(),i=a(n,function(e){return!!N.matchNode(e,t)});return-1!==s(i,d)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return b(e)},mceBlockQuote:function(){return b("blockquote")},Outdent:function(){var e;if(S.inline_styles){if((e=k.getParent(_.getStart(),k.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return d;if((e=k.getParent(_.getEnd(),k.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return d}return p("InsertUnorderedList")||p("InsertOrderedList")||!S.inline_styles&&!!k.getParent(_.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(e){var t=k.getParent(_.getNode(),"ul,ol");return t&&("insertunorderedlist"===e&&"UL"===t.tagName||"insertorderedlist"===e&&"OL"===t.tagName)}},"state"),g({"FontSize,FontName":function(e){var t,n=0;return(t=k.getParent(_.getNode(),"span"))&&(n="fontsize"==e?t.style.fontSize:t.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),n}},"value"),g({Undo:function(){i.undoManager.undo()},Redo:function(){i.undoManager.redo()}})}}),i(O,[f],function(e){function t(e,r){var o,a,s=this;if(e=i(e),r=s.settings=r||{},/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))return void(s.source=e);var l=0===e.indexOf("//");0!==e.indexOf("/")||l||(e=(r.base_uri?r.base_uri.protocol||"http":"http")+"://mce_host"+e),/^[\w\-]*:?\/\//.test(e)||(a=r.base_uri?r.base_uri.path:new t(location.href).directory,e=""===r.base_uri.protocol?"//mce_host"+s.toAbsPath(a,e):(r.base_uri&&r.base_uri.protocol||"http")+"://mce_host"+s.toAbsPath(a,e)),e=e.replace(/@@/g,"(mce_at)"),e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e),n(["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],function(t,n){var i=e[n];i&&(i=i.replace(/\(mce_at\)/g,"@@")),s[t]=i}),o=r.base_uri,o&&(s.protocol||(s.protocol=o.protocol),s.userInfo||(s.userInfo=o.userInfo),s.port||"mce_host"!==s.host||(s.port=o.port),s.host&&"mce_host"!==s.host||(s.host=o.host),s.source=""),l&&(s.protocol="")}var n=e.each,i=e.trim,r={ftp:21,http:80,https:443,mailto:25};return t.prototype={setPath:function(e){var t=this;e=/^(.*?)\/?(\w+)?$/.exec(e),t.path=e[0],t.directory=e[1],t.file=e[2],t.source="",t.getURI()},toRelative:function(e){var n,i=this;if("./"===e)return e;if(e=new t(e,{base_uri:i}),"mce_host"!=e.host&&i.host!=e.host&&e.host||i.port!=e.port||i.protocol!=e.protocol&&""!==e.protocol)return e.getURI();var r=i.getURI(),o=e.getURI();return r==o||"/"==r.charAt(r.length-1)&&r.substr(0,r.length-1)==o?r:(n=i.toRelPath(i.path,e.path),e.query&&(n+="?"+e.query),e.anchor&&(n+="#"+e.anchor),n)},toAbsolute:function(e,n){return e=new t(e,{base_uri:this}),e.getURI(n&&this.isSameOrigin(e))},isSameOrigin:function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=r[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},toRelPath:function(e,t){var n,i,r,o=0,a="";if(e=e.substring(0,e.lastIndexOf("/")),e=e.split("/"),n=t.split("/"),e.length>=n.length)for(i=0,r=e.length;r>i;i++)if(i>=n.length||e[i]!=n[i]){o=i+1;break}if(e.length<n.length)for(i=0,r=n.length;r>i;i++)if(i>=e.length||e[i]!=n[i]){o=i+1;break}if(1===o)return t;for(i=0,r=e.length-(o-1);r>i;i++)a+="../";for(i=o-1,r=n.length;r>i;i++)a+=i!=o-1?"/"+n[i]:n[i];return a},toAbsPath:function(e,t){var i,r,o,a=0,s=[];for(r=/\/$/.test(t)?"/":"",e=e.split("/"),t=t.split("/"),n(e,function(e){e&&s.push(e)}),e=s,i=t.length-1,s=[];i>=0;i--)0!==t[i].length&&"."!==t[i]&&(".."!==t[i]?a>0?a--:s.push(t[i]):a++);return i=e.length-a,o=0>=i?s.reverse().join("/"):e.slice(0,i).join("/")+"/"+s.reverse().join("/"),0!==o.indexOf("/")&&(o="/"+o),r&&o.lastIndexOf("/")!==o.length-1&&(o+=r),o},getURI:function(e){var t,n=this;return(!n.source||e)&&(t="",e||(t+=n.protocol?n.protocol+"://":"//",n.userInfo&&(t+=n.userInfo+"@"),n.host&&(t+=n.host),n.port&&(t+=":"+n.port)),n.path&&(t+=n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),n.source=t),n.source}},t}),i(H,[f],function(e){function t(){}var n,i,r=e.each,o=e.extend;return t.extend=n=function(e){function t(){var e,t,n,r=this;if(!i&&(r.init&&r.init.apply(r,arguments),t=r.Mixins))for(e=t.length;e--;)n=t[e],n.init&&n.init.apply(r,arguments)}function a(){return this}function s(e,t){return function(){var n,i=this,r=i._super;return i._super=f[e],n=t.apply(i,arguments),i._super=r,n}}var l,c,u,d=this,f=d.prototype;i=!0,l=new d,i=!1,e.Mixins&&(r(e.Mixins,function(t){t=t;for(var n in t)"init"!==n&&(e[n]=t[n])}),f.Mixins&&(e.Mixins=f.Mixins.concat(e.Mixins))),e.Methods&&r(e.Methods.split(","),function(t){e[t]=a}),e.Properties&&r(e.Properties.split(","),function(t){var n="_"+t;e[t]=function(e){var t,i=this;return e!==t?(i[n]=e,i):i[n]}}),e.Statics&&r(e.Statics,function(e,n){t[n]=e}),e.Defaults&&f.Defaults&&(e.Defaults=o({},f.Defaults,e.Defaults));for(c in e)u=e[c],l[c]="function"==typeof u&&f[c]?s(c,u):u;return t.prototype=l,t.constructor=t,t.extend=n,t},t}),i(z,[f],function(e){function t(e){function t(){return!1}function n(){return!0}function i(i,r){var o,a,l,c;if(i=i.toLowerCase(),r=r||{},r.type=i,r.target||(r.target=s),r.preventDefault||(r.preventDefault=function(){r.isDefaultPrevented=n},r.stopPropagation=function(){r.isPropagationStopped=n},r.stopImmediatePropagation=function(){r.isImmediatePropagationStopped=n},r.isDefaultPrevented=t,r.isPropagationStopped=t,r.isImmediatePropagationStopped=t),e.beforeFire&&e.beforeFire(r),o=u[i])for(a=0,l=o.length;l>a;a++){if(o[a]=c=o[a],r.isImmediatePropagationStopped())return r.stopPropagation(),r;if(c.call(s,r)===!1)return r.preventDefault(),r}return r}function r(e,n,i){var r,o,a;if(n===!1&&(n=t),n)for(o=e.toLowerCase().split(" "),a=o.length;a--;)e=o[a],r=u[e],r||(r=u[e]=[],l(e,!0)),i?r.unshift(n):r.push(n);return c}function o(e,t){var n,i,r,o,a;if(e)for(o=e.toLowerCase().split(" "),n=o.length;n--;){if(e=o[n],i=u[e],!e){for(r in u)l(r,!1),delete u[r];return c}if(i){if(t)for(a=i.length;a--;)i[a]===t&&i.splice(a,1);else i.length=0;i.length||(l(e,!1),delete u[e])}}else{for(e in u)l(e,!1);u={}}return c}function a(e){return e=e.toLowerCase(),!(!u[e]||0===u[e].length)}var s,l,c=this,u={};e=e||{},s=e.scope||c,l=e.toggleEvent||t,c.fire=i,c.on=r,c.off=o,c.has=a}var n=e.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit"," ");return t.isNative=function(e){return!!n[e.toLowerCase()]},t}),i(W,[H],function(e){function t(e){for(var t,n=[],i=e.length;i--;)t=e[i],t.__checked||(n.push(t),t.__checked=1);for(i=n.length;i--;)delete n[i].__checked;return n}var n,i=/^([\w\\*]+)?(?:#([\w\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,r=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,o=/^\s*|\s*$/g,a=e.extend({init:function(e){function t(e){return e?(e=e.toLowerCase(),function(t){return"*"===e||t.type===e}):void 0}function n(e){return e?function(t){return t._name===e}:void 0}function a(e){return e?(e=e.split("."),function(t){for(var n=e.length;n--;)if(!t.hasClass(e[n]))return!1;return!0}):void 0}function s(e,t,n){return e?function(i){var r=i[e]?i[e]():"";return t?"="===t?r===n:"*="===t?r.indexOf(n)>=0:"~="===t?(" "+r+" ").indexOf(" "+n+" ")>=0:"!="===t?r!=n:"^="===t?0===r.indexOf(n):"$="===t?r.substr(r.length-n.length)===n:!1:!!n}:void 0}function l(e){var t;return e?(e=/(?:not\((.+)\))|(.+)/i.exec(e),e[1]?(t=u(e[1],[]),function(e){return!d(e,t)}):(e=e[2],function(t,n,i){return"first"===e?0===n:"last"===e?n===i-1:"even"===e?n%2===0:"odd"===e?n%2===1:t[e]?t[e]():!1})):void 0}function c(e,r,c){function u(e){e&&r.push(e)}var d;return d=i.exec(e.replace(o,"")),u(t(d[1])),u(n(d[2])),u(a(d[3])),u(s(d[4],d[5],d[6])),u(l(d[7])),r.psuedo=!!d[7],r.direct=c,r}function u(e,t){var n,i,o,a=[];do if(r.exec(""),i=r.exec(e),i&&(e=i[3],a.push(i[1]),i[2])){n=i[3];break}while(i);for(n&&u(n,t),e=[],o=0;o<a.length;o++)">"!=a[o]&&e.push(c(a[o],[],">"===a[o-1]));return t.push(e),t}var d=this.match;this._selectors=u(e,[])},match:function(e,t){var n,i,r,o,a,s,l,c,u,d,f,h,p;for(t=t||this._selectors,n=0,i=t.length;i>n;n++){for(a=t[n],o=a.length,p=e,h=0,r=o-1;r>=0;r--)for(c=a[r];p;){if(c.psuedo)for(f=p.parent().items(),u=d=f.length;u--&&f[u]!==p;);for(s=0,l=c.length;l>s;s++)if(!c[s](p,u,d)){s=l+1;break}if(s===l){h++;break}if(r===o-1)break;p=p.parent()}if(h===o)return!0}return!1},find:function(e){function i(e,t,n){var r,o,a,l,c,u=t[n];for(r=0,o=e.length;o>r;r++){for(c=e[r],a=0,l=u.length;l>a;a++)if(!u[a](c,r,o)){a=l+1;break}if(a===l)n==t.length-1?s.push(c):c.items&&i(c.items(),t,n+1);else if(u.direct)return;c.items&&i(c.items(),t,n)}}var r,o,s=[],l=this._selectors;if(e.items){for(r=0,o=l.length;o>r;r++)i(e.items(),l[r],0);o>1&&(s=t(s))}return n||(n=a.Collection),new n(s)}});return a}),i($,[f,W,H],function(e,t,n){var i,r,o=Array.prototype.push,a=Array.prototype.slice;return r={length:0,init:function(e){e&&this.add(e)},add:function(t){var n=this;return e.isArray(t)?o.apply(n,t):t instanceof i?n.add(t.toArray()):o.call(n,t),n},set:function(e){var t,n=this,i=n.length;for(n.length=0,n.add(e),t=n.length;i>t;t++)delete n[t];return n},filter:function(e){var n,r,o,a,s=this,l=[];for("string"==typeof e?(e=new t(e),a=function(t){return e.match(t)}):a=e,n=0,r=s.length;r>n;n++)o=s[n],a(o)&&l.push(o);return new i(l)},slice:function(){return new i(a.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},each:function(t){return e.each(this,t),this},toArray:function(){return e.toArray(this)},indexOf:function(e){for(var t=this,n=t.length;n--&&t[n]!==e;);return n},reverse:function(){return new i(e.toArray(this).reverse())},hasClass:function(e){return this[0]?this[0].hasClass(e):!1},prop:function(e,t){var n,i,r=this;return t!==n?(r.each(function(n){n[e]&&n[e](t)}),r):(i=r[0],i&&i[e]?i[e]():void 0)},exec:function(t){var n=this,i=e.toArray(arguments).slice(1);return n.each(function(e){e[t]&&e[t].apply(e,i)}),n},remove:function(){for(var e=this.length;e--;)this[e].remove();return this}},e.each("fire on off show hide addClass removeClass append prepend before after reflow".split(" "),function(t){r[t]=function(){var n=e.toArray(arguments);return this.each(function(e){t in e&&e[t].apply(e,n)}),this}}),e.each("text name disabled active selected checked visible parent value data".split(" "),function(e){r[e]=function(t){return this.prop(e,t)}}),i=n.extend(r),t.Collection=i,i}),i(q,[f,v],function(e,t){return{id:function(){return t.DOM.uniqueId()},createFragment:function(e){return t.DOM.createFragment(e)},getWindowSize:function(){return t.DOM.getViewPort()},getSize:function(e){var t,n;if(e.getBoundingClientRect){var i=e.getBoundingClientRect();t=Math.max(i.width||i.right-i.left,e.offsetWidth),n=Math.max(i.height||i.bottom-i.bottom,e.offsetHeight)}else t=e.offsetWidth,n=e.offsetHeight;return{width:t,height:n}},getPos:function(e,n){return t.DOM.getPos(e,n)},getViewPort:function(e){return t.DOM.getViewPort(e)},get:function(e){return document.getElementById(e)},addClass:function(e,n){return t.DOM.addClass(e,n)},removeClass:function(e,n){return t.DOM.removeClass(e,n)},hasClass:function(e,n){return t.DOM.hasClass(e,n)},toggleClass:function(e,n,i){return t.DOM.toggleClass(e,n,i)},css:function(e,n,i){return t.DOM.setStyle(e,n,i)},on:function(e,n,i,r){return t.DOM.bind(e,n,i,r)},off:function(e,n,i){return t.DOM.unbind(e,n,i)},fire:function(e,n,i){return t.DOM.fire(e,n,i)},innerHtml:function(e,n){t.DOM.setHTML(e,n)}}}),i(j,[H,f,z,$,q],function(e,t,n,i,r){function o(e){return e._eventDispatcher||(e._eventDispatcher=new n({scope:e,toggleEvent:function(t,i){i&&n.isNative(t)&&(e._nativeEvents||(e._nativeEvents={}),e._nativeEvents[t]=!0,e._rendered&&e.bindPendingEvents())}})),e._eventDispatcher}var a={},s="onmousewheel"in document,l=!1,c="mce-",u=e.extend({Statics:{elementIdCache:a,classPrefix:c},isRtl:function(){return u.rtl},classPrefix:c,init:function(e){var n,i,o=this;if(o.settings=e=t.extend({},o.Defaults,e),o._id=e.id||r.id(),o._text=o._name="",o._width=o._height=0,o._aria={role:e.role},n=e.classes)for(n=n.split(" "),n.map={},i=n.length;i--;)n.map[n[i]]=!0;o._classes=n||[],o.visible(!0),t.each("title text width height name classes visible disabled active value".split(" "),function(t){var n,i=e[t];i!==n?o[t](i):o["_"+t]===n&&(o["_"+t]=!1)}),o.on("click",function(){return o.disabled()?!1:void 0}),e.classes&&t.each(e.classes.split(" "),function(e){o.addClass(e)}),o.settings=e,o._borderBox=o.parseBox(e.border),o._paddingBox=o.parseBox(e.padding),o._marginBox=o.parseBox(e.margin),e.hidden&&o.hide()},Properties:"parent,title,text,width,height,disabled,active,name,value",Methods:"renderHtml",getContainerElm:function(){return document.body},getParentCtrl:function(e){for(var t,n=this.getRoot().controlIdLookup;e&&n&&!(t=n[e.id]);)e=e.parentNode;return t},parseBox:function(e){var t,n=10;return e?"number"==typeof e?(e=e||0,{top:e,left:e,bottom:e,right:e}):(e=e.split(" "),t=e.length,1===t?e[1]=e[2]=e[3]=e[0]:2===t?(e[2]=e[0],e[3]=e[1]):3===t&&(e[3]=e[1]),{top:parseInt(e[0],n)||0,right:parseInt(e[1],n)||0,bottom:parseInt(e[2],n)||0,left:parseInt(e[3],n)||0}):void 0},borderBox:function(){return this._borderBox},paddingBox:function(){return this._paddingBox},marginBox:function(){return this._marginBox},measureBox:function(e,t){function n(t){var n=document.defaultView;return n?(t=t.replace(/[A-Z]/g,function(e){return"-"+e}),n.getComputedStyle(e,null).getPropertyValue(t)):e.currentStyle[t]}function i(e){var t=parseFloat(n(e),10);return isNaN(t)?0:t}return{top:i(t+"TopWidth"),right:i(t+"RightWidth"),bottom:i(t+"BottomWidth"),left:i(t+"LeftWidth")}},initLayoutRect:function(){var e,t,n,i,o,a,s,l,c,u,d=this,f=d.settings,h=d.getEl();e=d._borderBox=d._borderBox||d.measureBox(h,"border"),d._paddingBox=d._paddingBox||d.measureBox(h,"padding"),d._marginBox=d._marginBox||d.measureBox(h,"margin"),u=r.getSize(h),l=f.minWidth,c=f.minHeight,o=l||u.width,a=c||u.height,n=f.width,i=f.height,s=f.autoResize,s="undefined"!=typeof s?s:!n&&!i,n=n||o,i=i||a;var p=e.left+e.right,m=e.top+e.bottom,g=f.maxWidth||65535,v=f.maxHeight||65535;return d._layoutRect=t={x:f.x||0,y:f.y||0,w:n,h:i,deltaW:p,deltaH:m,contentW:n-p,contentH:i-m,innerW:n-p,innerH:i-m,startMinWidth:l||0,startMinHeight:c||0,minW:Math.min(o,g),minH:Math.min(a,v),maxW:g,maxH:v,autoResize:s,scrollW:0},d._lastLayoutRect={},t},layoutRect:function(e){var t,n,i,r,o,a,s=this,l=s._layoutRect;return l||(l=s.initLayoutRect()),e?(i=l.deltaW,r=l.deltaH,e.x!==o&&(l.x=e.x),e.y!==o&&(l.y=e.y),e.minW!==o&&(l.minW=e.minW),e.minH!==o&&(l.minH=e.minH),n=e.w,n!==o&&(n=n<l.minW?l.minW:n,n=n>l.maxW?l.maxW:n,l.w=n,l.innerW=n-i),n=e.h,n!==o&&(n=n<l.minH?l.minH:n,n=n>l.maxH?l.maxH:n,l.h=n,l.innerH=n-r),n=e.innerW,n!==o&&(n=n<l.minW-i?l.minW-i:n,n=n>l.maxW-i?l.maxW-i:n,l.innerW=n,l.w=n+i),n=e.innerH,n!==o&&(n=n<l.minH-r?l.minH-r:n,n=n>l.maxH-r?l.maxH-r:n,l.innerH=n,l.h=n+r),e.contentW!==o&&(l.contentW=e.contentW),e.contentH!==o&&(l.contentH=e.contentH),t=s._lastLayoutRect,(t.x!==l.x||t.y!==l.y||t.w!==l.w||t.h!==l.h)&&(a=u.repaintControls,a&&a.map&&!a.map[s._id]&&(a.push(s),a.map[s._id]=!0),t.x=l.x,t.y=l.y,t.w=l.w,t.h=l.h),s):l},repaint:function(){var e,t,n,i,r,o,a=this,s=0,l=0;o=document.createRange?function(e){return e}:Math.round,e=a.getEl().style,n=a._layoutRect,r=a._lastRepaintRect||{},i=a._borderBox,s=i.left+i.right,l=i.top+i.bottom,n.x!==r.x&&(e.left=o(n.x)+"px",r.x=n.x),n.y!==r.y&&(e.top=o(n.y)+"px",r.y=n.y),n.w!==r.w&&(e.width=o(n.w-s)+"px",r.w=n.w),n.h!==r.h&&(e.height=o(n.h-l)+"px",r.h=n.h),a._hasBody&&n.innerW!==r.innerW&&(t=a.getEl("body").style,t.width=o(n.innerW)+"px",r.innerW=n.innerW),a._hasBody&&n.innerH!==r.innerH&&(t=t||a.getEl("body").style,t.height=o(n.innerH)+"px",r.innerH=n.innerH),a._lastRepaintRect=r,a.fire("repaint",{},!1)},on:function(e,t){function n(e){var t,n;return"string"!=typeof e?e:function(r){return t||i.parentsAndSelf().each(function(i){var r=i.settings.callbacks;return r&&(t=r[e])?(n=i,!1):void 0}),t.call(n,r)}}var i=this;return o(i).on(e,n(t)),i},off:function(e,t){return o(this).off(e,t),this},fire:function(e,t,n){var i=this;if(t=t||{},t.control||(t.control=i),t=o(i).fire(e,t),n!==!1&&i.parent)for(var r=i.parent();r&&!t.isPropagationStopped();)r.fire(e,t,!1),r=r.parent();return t},hasEventListeners:function(e){return o(this).has(e)},parents:function(e){var t,n=this,r=new i;for(t=n.parent();t;t=t.parent())r.add(t);return e&&(r=r.filter(e)),r},parentsAndSelf:function(e){return new i(this).add(this.parents(e))},next:function(){var e=this.parent().items();return e[e.indexOf(this)+1]},prev:function(){var e=this.parent().items();return e[e.indexOf(this)-1]},findCommonAncestor:function(e,t){for(var n;e;){for(n=t;n&&e!=n;)n=n.parent();if(e==n)break;e=e.parent()}return e},hasClass:function(e,t){var n=this._classes[t||"control"];return e=this.classPrefix+e,n&&!!n.map[e]},addClass:function(e,t){var n,i,r=this;return e=this.classPrefix+e,n=r._classes[t||"control"],n||(n=[],n.map={},r._classes[t||"control"]=n),n.map[e]||(n.map[e]=e,n.push(e),r._rendered&&(i=r.getEl(t),i&&(i.className=n.join(" ")))),r},removeClass:function(e,t){var n,i,r,o=this;if(e=this.classPrefix+e,n=o._classes[t||"control"],n&&n.map[e])for(delete n.map[e],i=n.length;i--;)n[i]===e&&n.splice(i,1);return o._rendered&&(r=o.getEl(t),r&&(r.className=n.join(" "))),o},toggleClass:function(e,t,n){var i=this;return t?i.addClass(e,n):i.removeClass(e,n),i},classes:function(e){var t=this._classes[e||"control"];return t?t.join(" "):""},innerHtml:function(e){return r.innerHtml(this.getEl(),e),this},getEl:function(e,t){var n,i=e?this._id+"-"+e:this._id;return n=a[i]=(t===!0?null:a[i])||r.get(i)},visible:function(e){var t,n=this;return"undefined"!=typeof e?(n._visible!==e&&(n._rendered&&(n.getEl().style.display=e?"":"none"),n._visible=e,t=n.parent(),t&&(t._lastRect=null),n.fire(e?"show":"hide")),n):n._visible},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(e){}return this},blur:function(){return this.getEl().blur(),this},aria:function(e,t){var n=this,i=n.getEl(n.ariaTarget);return"undefined"==typeof t?n._aria[e]:(n._aria[e]=t,n._rendered&&i.setAttribute("role"==e?e:"aria-"+e,t),n)},encode:function(e,t){return t!==!1&&(e=this.translate(e)),(e||"").replace(/[&<>"]/g,function(e){return"&#"+e.charCodeAt(0)+";"})},translate:function(e){return u.translate?u.translate(e):e},before:function(e){var t=this,n=t.parent();return n&&n.insert(e,n.items().indexOf(t),!0),t},after:function(e){var t=this,n=t.parent();return n&&n.insert(e,n.items().indexOf(t)),t},remove:function(){var e,t,n=this,i=n.getEl(),o=n.parent();if(n.items){var s=n.items().toArray();for(t=s.length;t--;)s[t].remove()}o&&o.items&&(e=[],o.items().each(function(t){t!==n&&e.push(t)}),o.items().set(e),o._lastRect=null),n._eventsRoot&&n._eventsRoot==n&&r.off(i);var l=n.getRoot().controlIdLookup;if(l&&delete l[n._id],delete a[n._id],i&&i.parentNode){var c=i.getElementsByTagName("*");for(t=c.length;t--;)delete a[c[t].id];i.parentNode.removeChild(i)}return n._rendered=!1,n},renderBefore:function(e){var t=this;return e.parentNode.insertBefore(r.createFragment(t.renderHtml()),e),t.postRender(),t},renderTo:function(e){var t=this;return e=e||t.getContainerElm(),e.appendChild(r.createFragment(t.renderHtml())),t.postRender(),t},postRender:function(){var e,t,n,i,o,a=this,s=a.settings;for(i in s)0===i.indexOf("on")&&a.on(i.substr(2),s[i]);if(a._eventsRoot){for(n=a.parent();!o&&n;n=n.parent())o=n._eventsRoot;if(o)for(i in o._nativeEvents)a._nativeEvents[i]=!0}a.bindPendingEvents(),s.style&&(e=a.getEl(),e&&(e.setAttribute("style",s.style),e.style.cssText=s.style)),a._visible||r.css(a.getEl(),"display","none"),a.settings.border&&(t=a.borderBox(),r.css(a.getEl(),{"border-top-width":t.top,"border-right-width":t.right,"border-bottom-width":t.bottom,"border-left-width":t.left}));var l=a.getRoot();l.controlIdLookup||(l.controlIdLookup={}),l.controlIdLookup[a._id]=a;for(var c in a._aria)a.aria(c,a._aria[c]);a.fire("postrender",{},!1)},scrollIntoView:function(e){function t(e,t){var n,i,r=e;for(n=i=0;r&&r!=t&&r.nodeType;)n+=r.offsetLeft||0,i+=r.offsetTop||0,r=r.offsetParent;return{x:n,y:i}}var n,i,r,o,a,s,l=this.getEl(),c=l.parentNode,u=t(l,c);return n=u.x,i=u.y,r=l.offsetWidth,o=l.offsetHeight,a=c.clientWidth,s=c.clientHeight,"end"==e?(n-=a-r,i-=s-o):"center"==e&&(n-=a/2-r/2,i-=s/2-o/2),c.scrollLeft=n,c.scrollTop=i,this},bindPendingEvents:function(){function e(e){var t=h.getParentCtrl(e.target);t&&t.fire(e.type,e)}function t(){var e=u._lastHoverCtrl;e&&(e.fire("mouseleave",{target:e.getEl()}),e.parents().each(function(e){e.fire("mouseleave",{target:e.getEl()})}),u._lastHoverCtrl=null)}function n(e){var t,n,i,r=h.getParentCtrl(e.target),o=u._lastHoverCtrl,a=0;if(r!==o){if(u._lastHoverCtrl=r,n=r.parents().toArray().reverse(),n.push(r),o){for(i=o.parents().toArray().reverse(),i.push(o),a=0;a<i.length&&n[a]===i[a];a++);for(t=i.length-1;t>=a;t--)o=i[t],o.fire("mouseleave",{target:o.getEl()})}for(t=a;t<n.length;t++)r=n[t],r.fire("mouseenter",{target:r.getEl()})}}function i(e){e.preventDefault(),"mousewheel"==e.type?(e.deltaY=-1/40*e.wheelDelta,e.wheelDeltaX&&(e.deltaX=-1/40*e.wheelDeltaX)):(e.deltaX=0,e.deltaY=e.detail),e=h.fire("wheel",e)}var o,a,c,u,d,f,h=this;if(h._rendered=!0,d=h._nativeEvents){for(c=h.parents().toArray(),c.unshift(h),o=0,a=c.length;!u&&a>o;o++)u=c[o]._eventsRoot;for(u||(u=c[c.length-1]||h),h._eventsRoot=u,a=o,o=0;a>o;o++)c[o]._eventsRoot=u;var p=u._delegates;p||(p=u._delegates={});for(f in d){if(!d)return!1;"wheel"!==f||l?("mouseenter"===f||"mouseleave"===f?u._hasMouseEnter||(r.on(u.getEl(),"mouseleave",t),r.on(u.getEl(),"mouseover",n),u._hasMouseEnter=1):p[f]||(r.on(u.getEl(),f,e),p[f]=!0),d[f]=!1):s?r.on(h.getEl(),"mousewheel",i):r.on(h.getEl(),"DOMMouseScroll",i)}}},getRoot:function(){for(var e,t=this,n=[];t;){if(t.rootControl){e=t.rootControl;break}n.push(t),e=t,t=t.parent()}e||(e=this);for(var i=n.length;i--;)n[i].rootControl=e;return e},reflow:function(){return this.repaint(),this}});return u}),i(U,[],function(){var e,t={};return{add:function(e,n){t[e.toLowerCase()]=n},has:function(e){return!!t[e.toLowerCase()]},create:function(n,i){var r,o,a;if(!e){a=tinymce.ui;for(o in a)t[o.toLowerCase()]=a[o];e=!0}if("string"==typeof n?(i=i||{},i.type=n):(i=n,n=i.type),n=n.toLowerCase(),r=t[n],!r)throw new Error("Could not find control by type: "+n);return r=new r(i),r.type=n,r}}}),i(V,[],function(){return function(e){function t(e){return e=e||b,e&&e.getAttribute("role")}function n(e){for(var n,i=e||b;i=i.parentNode;)if(n=t(i))return n}function i(e){var t=b;return t?t.getAttribute("aria-"+e):void 0}function r(e){var t=e.tagName.toUpperCase();return"INPUT"==t||"TEXTAREA"==t}function o(e){return r(e)&&!e.hidden?!0:/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell)$/.test(t(e))?!0:!1}function a(e){function t(e){if(1==e.nodeType&&"none"!=e.style.display){o(e)&&n.push(e);for(var i=0;i<e.childNodes.length;i++)t(e.childNodes[i])}}var n=[];return t(e||x.getEl()),n}function s(e){var t,n;e=e||y,n=e.parents().toArray(),n.unshift(e);for(var i=0;i<n.length&&(t=n[i],!t.settings.ariaRoot);i++);return t}function l(e){var t=s(e),n=a(t.getEl());t.settings.ariaRemember&&"lastAriaIndex"in t?c(t.lastAriaIndex,n):c(0,n)}function c(e,t){return 0>e?e=t.length-1:e>=t.length&&(e=0),t[e]&&t[e].focus(),e}function u(e,t){var n=-1,i=s();t=t||a(i.getEl());for(var r=0;r<t.length;r++)t[r]===b&&(n=r);n+=e,i.lastAriaIndex=c(n,t)}function d(){var e=n();"tablist"==e?u(-1,a(b.parentNode)):y.parent().submenu?g():u(-1)}function f(){var e=t(),r=n();"tablist"==r?u(1,a(b.parentNode)):"menuitem"==e&&"menu"==r&&i("haspopup")?v():u(1)}function h(){u(-1)}function p(){var e=t(),r=n();"menuitem"==e&&"menubar"==r?v():"button"==e&&i("haspopup")?v({key:"down"}):u(1)}function m(e){var t=n();if("tablist"==t){var i=a(y.getEl("body"))[0];i&&i.focus()}else u(e.shiftKey?-1:1)}function g(){y.fire("cancel")}function v(e){e=e||{},y.fire("click",{target:b,aria:e})}var b,y,x=e.root;return b=document.activeElement,y=x.getParentCtrl(b),x.on("keydown",function(e){function t(e,t){r(b)||t(e)!==!1&&e.preventDefault()}if(!e.isDefaultPrevented())switch(e.keyCode){case 37:t(e,d);break;case 39:t(e,f);break;case 38:t(e,h);break;case 40:t(e,p);break;case 27:g();break;case 14:case 13:case 32:t(e,v);break;case 9:m(e)!==!1&&e.preventDefault()}}),x.on("focusin",function(e){b=e.target,y=e.control}),{focusFirst:l}}}),i(Y,[j,$,W,U,V,f,q],function(e,t,n,i,r,o,a){var s={};return e.extend({layout:"",innerClass:"container-inner",init:function(e){var n=this;n._super(e),e=n.settings,n._fixed=e.fixed,n._items=new t,n.isRtl()&&n.addClass("rtl"),n.addClass("container"),n.addClass("container-body","body"),e.containerCls&&n.addClass(e.containerCls),n._layout=i.create((e.layout||n.layout)+"layout"),n.settings.items&&n.add(n.settings.items),n._hasBody=!0},items:function(){return this._items},find:function(e){return e=s[e]=s[e]||new n(e),e.find(this)},add:function(e){var t=this;return t.items().add(t.create(e)).parent(t),t},focus:function(e){var t,n,i,r=this;return e&&(n=r.keyboardNav||r.parents().eq(-1)[0].keyboardNav)?void n.focusFirst(r):(i=r.find("*"),r.statusbar&&i.add(r.statusbar.items()),i.each(function(e){return e.settings.autofocus?(t=null,!1):void(e.canFocus&&(t=t||e))}),t&&t.focus(),r)},replace:function(e,t){for(var n,i=this.items(),r=i.length;r--;)if(i[r]===e){i[r]=t;break}r>=0&&(n=t.getEl(),n&&n.parentNode.removeChild(n),n=e.getEl(),n&&n.parentNode.removeChild(n)),t.parent(this)},create:function(t){var n,r=this,a=[];return o.isArray(t)||(t=[t]),o.each(t,function(t){t&&(t instanceof e||("string"==typeof t&&(t={type:t}),n=o.extend({},r.settings.defaults,t),t.type=n.type=n.type||t.type||r.settings.defaultType||(n.defaults?n.defaults.type:null),t=i.create(n)),a.push(t))}),a},renderNew:function(){var e=this;return e.items().each(function(t,n){var i,r;t.parent(e),t._rendered||(i=e.getEl("body"),r=a.createFragment(t.renderHtml()),i.hasChildNodes()&&n<=i.childNodes.length-1?i.insertBefore(r,i.childNodes[n]):i.appendChild(r),t.postRender())}),e._layout.applyClasses(e),e._lastRect=null,e},append:function(e){return this.add(e).renderNew()},prepend:function(e){var t=this;return t.items().set(t.create(e).concat(t.items().toArray())),t.renderNew()},insert:function(e,t,n){var i,r,o,a=this;return e=a.create(e),i=a.items(),!n&&t<i.length-1&&(t+=1),t>=0&&t<i.length&&(r=i.slice(0,t).toArray(),o=i.slice(t).toArray(),i.set(r.concat(e,o))),a.renderNew()},fromJSON:function(e){var t=this;for(var n in e)t.find("#"+n).value(e[n]);return t},toJSON:function(){var e=this,t={};return e.find("*").each(function(e){var n=e.name(),i=e.value();n&&"undefined"!=typeof i&&(t[n]=i)}),t},preRender:function(){},renderHtml:function(){var e=this,t=e._layout,n=this.settings.role;return e.preRender(),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes()+'"'+(n?' role="'+this.settings.role+'"':"")+'><div id="'+e._id+'-body" class="'+e.classes("body")+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"},postRender:function(){var e,t=this;return t.items().exec("postRender"),t._super(),t._layout.postRender(t),t._rendered=!0,t.settings.style&&a.css(t.getEl(),t.settings.style),t.settings.border&&(e=t.borderBox(),a.css(t.getEl(),{"border-top-width":e.top,"border-right-width":e.right,"border-bottom-width":e.bottom,"border-left-width":e.left})),t.parent()||(t.keyboardNav=new r({root:t})),t},initLayoutRect:function(){var e=this,t=e._super();return e._layout.recalc(e),t},recalc:function(){var e=this,t=e._layoutRect,n=e._lastRect;return n&&n.w==t.w&&n.h==t.h?void 0:(e._layout.recalc(e),t=e.layoutRect(),e._lastRect={x:t.x,y:t.y,w:t.w,h:t.h},!0)},reflow:function(){var t;if(this.visible()){for(e.repaintControls=[],e.repaintControls.map={},this.recalc(),t=e.repaintControls.length;t--;)e.repaintControls[t].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),e.repaintControls=[]}return this}})}),i(X,[q],function(e){function t(){var e,t,n,i,r,o,a,s,l=document,c=Math.max;return e=l.documentElement,t=l.body,n=c(e.scrollWidth,t.scrollWidth),i=c(e.clientWidth,t.clientWidth),r=c(e.offsetWidth,t.offsetWidth),o=c(e.scrollHeight,t.scrollHeight),a=c(e.clientHeight,t.clientHeight),s=c(e.offsetHeight,t.offsetHeight),{width:r>n?i:n,height:s>o?a:o}}return function(n,i){function r(){return f.getElementById(i.handle||n)}var o,a,s,l,c,u,d,f=document;i=i||{},s=function(n){var s,h,p=t();n.preventDefault(),a=n.button,s=r(),u=n.screenX,d=n.screenY,h=window.getComputedStyle?window.getComputedStyle(s,null).getPropertyValue("cursor"):s.runtimeStyle.cursor,o=f.createElement("div"),e.css(o,{position:"absolute",top:0,left:0,width:p.width,height:p.height,zIndex:2147483647,opacity:1e-4,background:"red",cursor:h}),f.body.appendChild(o),e.on(f,"mousemove",c),e.on(f,"mouseup",l),i.start(n)},c=function(e){return e.button!==a?l(e):(e.deltaX=e.screenX-u,e.deltaY=e.screenY-d,e.preventDefault(),void i.drag(e))},l=function(t){e.off(f,"mousemove",c),e.off(f,"mouseup",l),o.parentNode.removeChild(o),i.stop&&i.stop(t)},this.destroy=function(){e.off(r())},e.on(r(),"mousedown",s)}}),i(K,[q,X],function(e,t){return{init:function(){var e=this;e.on("repaint",e.renderScroll)},renderScroll:function(){function n(){function t(t,a,s,l,c,u){var d,f,h,p,m,g,v,b,y;if(f=r.getEl("scroll"+t)){if(b=a.toLowerCase(),y=s.toLowerCase(),r.getEl("absend")&&e.css(r.getEl("absend"),b,r.layoutRect()[l]-1),!c)return void e.css(f,"display","none");e.css(f,"display","block"),d=r.getEl("body"),h=r.getEl("scroll"+t+"t"),p=d["client"+s]-2*o,p-=n&&i?f["client"+u]:0,m=d["scroll"+s],g=p/m,v={},v[b]=d["offset"+a]+o,v[y]=p,e.css(f,v),v={},v[b]=d["scroll"+a]*g,v[y]=p*g,e.css(h,v)
}}var n,i,a;a=r.getEl("body"),n=a.scrollWidth>a.clientWidth,i=a.scrollHeight>a.clientHeight,t("h","Left","Width","contentW",n,"Height"),t("v","Top","Height","contentH",i,"Width")}function i(){function n(n,i,a,s,l){var c,u=r._id+"-scroll"+n,d=r.classPrefix;r.getEl().appendChild(e.createFragment('<div id="'+u+'" class="'+d+"scrollbar "+d+"scrollbar-"+n+'"><div id="'+u+'t" class="'+d+'scrollbar-thumb"></div></div>')),r.draghelper=new t(u+"t",{start:function(){c=r.getEl("body")["scroll"+i],e.addClass(e.get(u),d+"active")},drag:function(e){var t,u,d,f,h=r.layoutRect();u=h.contentW>h.innerW,d=h.contentH>h.innerH,f=r.getEl("body")["client"+a]-2*o,f-=u&&d?r.getEl("scroll"+n)["client"+l]:0,t=f/r.getEl("body")["scroll"+a],r.getEl("body")["scroll"+i]=c+e["delta"+s]/t},stop:function(){e.removeClass(e.get(u),d+"active")}})}r.addClass("scroll"),n("v","Top","Height","Y","Width"),n("h","Left","Width","X","Height")}var r=this,o=2;r.settings.autoScroll&&(r._hasScroll||(r._hasScroll=!0,i(),r.on("wheel",function(e){var t=r.getEl("body");t.scrollLeft+=10*(e.deltaX||0),t.scrollTop+=10*e.deltaY,n()}),e.on(r.getEl("body"),"scroll",n)),n())}}}),i(Q,[Y,K],function(e,t){return e.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[t],renderHtml:function(){var e=this,t=e._layout,n=e.settings.html;return e.preRender(),t.preRender(e),"undefined"==typeof n?n='<div id="'+e._id+'-body" class="'+e.classes("body")+'">'+t.renderHtml(e)+"</div>":("function"==typeof n&&(n=n.call(e)),e._hasBody=!1),'<div id="'+e._id+'" class="'+e.classes()+'" hidefocus="1" tabindex="-1" role="group">'+(e._preBodyHtml||"")+n+"</div>"}})}),i(G,[q],function(e){function t(t,n,i){var r,o,a,s,l,c,u,d,f,h;return f=e.getViewPort(),o=e.getPos(n),a=o.x,s=o.y,t._fixed&&(a-=f.x,s-=f.y),r=t.getEl(),h=e.getSize(r),l=h.width,c=h.height,h=e.getSize(n),u=h.width,d=h.height,i=(i||"").split(""),"b"===i[0]&&(s+=d),"r"===i[1]&&(a+=u),"c"===i[0]&&(s+=Math.round(d/2)),"c"===i[1]&&(a+=Math.round(u/2)),"b"===i[3]&&(s-=c),"r"===i[4]&&(a-=l),"c"===i[3]&&(s-=Math.round(c/2)),"c"===i[4]&&(a-=Math.round(l/2)),{x:a,y:s,w:l,h:c}}return{testMoveRel:function(n,i){for(var r=e.getViewPort(),o=0;o<i.length;o++){var a=t(this,n,i[o]);if(this._fixed){if(a.x>0&&a.x+a.w<r.w&&a.y>0&&a.y+a.h<r.h)return i[o]}else if(a.x>r.x&&a.x+a.w<r.w+r.x&&a.y>r.y&&a.y+a.h<r.h+r.y)return i[o]}return i[0]},moveRel:function(e,n){"string"!=typeof n&&(n=this.testMoveRel(e,n));var i=t(this,e,n);return this.moveTo(i.x,i.y)},moveBy:function(e,t){var n=this,i=n.layoutRect();return n.moveTo(i.x+e,i.y+t),n},moveTo:function(t,n){function i(e,t,n){return 0>e?0:e+n>t?(e=t-n,0>e?0:e):e}var r=this;if(r.settings.constrainToViewport){var o=e.getViewPort(window),a=r.layoutRect();t=i(t,o.w+o.x,a.w),n=i(n,o.h+o.y,a.h)}return r._rendered?r.layoutRect({x:t,y:n}).repaint():(r.settings.x=t,r.settings.y=n),r.fire("move",{x:t,y:n}),r}}}),i(J,[q],function(e){return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(t,n){if(1>=t||1>=n){var i=e.getWindowSize();t=1>=t?t*i.w:t,n=1>=n?n*i.h:n}return this._layoutRect.autoResize=!1,this.layoutRect({minW:t,minH:n,w:t,h:n}).reflow()},resizeBy:function(e,t){var n=this,i=n.layoutRect();return n.resizeTo(i.w+e,i.h+t)}}}),i(Z,[Q,G,J,q],function(e,t,n,i){function r(e){var t;for(t=l.length;t--;)l[t]===e&&l.splice(t,1);for(t=c.length;t--;)c[t]===e&&c.splice(t,1)}var o,a,s,l=[],c=[],u=e.extend({Mixins:[t,n],init:function(e){function t(){var e,t,n=u.zIndex||65535;if(c.length)for(e=0;e<c.length;e++)c[e].modal&&(n++,t=c[e]),c[e].getEl().style.zIndex=n,c[e].zIndex=n,n++;var r=document.getElementById(d.classPrefix+"modal-block");t?i.css(r,"z-index",t.zIndex-1):r&&(r.parentNode.removeChild(r),s=!1),u.currentZIndex=n}function n(e,t){for(;e;){if(e==t)return!0;e=e.parent()}}function r(e){function t(t,n){for(var i,r=0;r<l.length;r++)if(l[r]!=e)for(i=l[r].parent();i&&(i=i.parent());)i==e&&l[r].fixed(t).moveBy(0,n).repaint()}var n=i.getViewPort().y;e.settings.autofix&&(e._fixed?e._autoFixY>n&&(e.fixed(!1).layoutRect({y:e._autoFixY}).repaint(),t(!1,e._autoFixY-n)):(e._autoFixY=e.layoutRect().y,e._autoFixY<n&&(e.fixed(!0).layoutRect({y:0}).repaint(),t(!0,n-e._autoFixY))))}var d=this;d._super(e),d._eventsRoot=d,d.addClass("floatpanel"),e.autohide&&(o||(o=function(e){for(var t=l.length;t--;){var i=l[t],r=i.getParentCtrl(e.target);if(i.settings.autohide){if(r&&(n(r,i)||i.parent()===r))continue;e=i.fire("autohide",{target:e.target}),e.isDefaultPrevented()||i.hide()}}},i.on(document,"click",o)),l.push(d)),e.autofix&&(a||(a=function(){var e;for(e=l.length;e--;)r(l[e])},i.on(window,"scroll",a)),d.on("move",function(){r(this)})),d.on("postrender show",function(e){if(e.control==d){var n,r=d.classPrefix;d.modal&&!s&&(n=i.createFragment('<div id="'+r+'modal-block" class="'+r+"reset "+r+'fade"></div>'),n=n.firstChild,d.getContainerElm().appendChild(n),setTimeout(function(){i.addClass(n,r+"in"),i.addClass(d.getEl(),r+"in")},0),s=!0),c.push(d),t()}}),d.on("close hide",function(e){if(e.control==d){for(var n=c.length;n--;)c[n]===d&&c.splice(n,1);t()}}),d.on("show",function(){d.parents().each(function(e){return e._fixed?(d.fixed(!0),!1):void 0})}),e.popover&&(d._preBodyHtml='<div class="'+d.classPrefix+'arrow"></div>',d.addClass("popover").addClass("bottom").addClass(d.isRtl()?"end":"start"))},fixed:function(e){var t=this;if(t._fixed!=e){if(t._rendered){var n=i.getViewPort();e?t.layoutRect().y-=n.y:t.layoutRect().y+=n.y}t.toggleClass("fixed",e),t._fixed=e}return t},show:function(){var e,t=this,n=t._super();for(e=l.length;e--&&l[e]!==t;);return-1===e&&l.push(t),n},hide:function(){return r(this),this._super()},hideAll:function(){u.hideAll()},close:function(){var e=this;return e.fire("close"),e.remove()},remove:function(){r(this),this._super()},postRender:function(){var e=this;return e.settings.bodyRole&&this.getEl("body").setAttribute("role",e.settings.bodyRole),e._super()}});return u.hideAll=function(){for(var e=l.length;e--;){var t=l[e];t&&t.settings.autohide&&(t.hide(),l.splice(e,1))}},u}),i(et,[Z,Q,q,X],function(e,t,n,i){var r=e.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(e){var n=this;n._super(e),n.isRtl()&&n.addClass("rtl"),n.addClass("window"),n._fixed=!0,e.buttons&&(n.statusbar=new t({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:n.isRtl()?"start":"end",defaults:{type:"button"},items:e.buttons}),n.statusbar.addClass("foot"),n.statusbar.parent(n)),n.on("click",function(e){-1!=e.target.className.indexOf(n.classPrefix+"close")&&n.close()}),n.on("cancel",function(){n.close()}),n.aria("describedby",n.describedBy||n._id+"-none"),n.aria("label",e.title),n._fullscreen=!1},recalc:function(){var e,t,i,r,o=this,a=o.statusbar;o._fullscreen&&(o.layoutRect(n.getWindowSize()),o.layoutRect().contentH=o.layoutRect().innerH),o._super(),e=o.layoutRect(),o.settings.title&&!o._fullscreen&&(t=e.headerW,t>e.w&&(i=e.x-Math.max(0,t/2),o.layoutRect({w:t,x:i}),r=!0)),a&&(a.layoutRect({w:o.layoutRect().innerW}).recalc(),t=a.layoutRect().minW+e.deltaW,t>e.w&&(i=e.x-Math.max(0,t-e.w),o.layoutRect({w:t,x:i}),r=!0)),r&&o.recalc()},initLayoutRect:function(){var e,t=this,i=t._super(),r=0;if(t.settings.title&&!t._fullscreen){e=t.getEl("head");var o=n.getSize(e);i.headerW=o.width,i.headerH=o.height,r+=i.headerH}t.statusbar&&(r+=t.statusbar.layoutRect().h),i.deltaH+=r,i.minH+=r,i.h+=r;var a=n.getWindowSize();return i.x=Math.max(0,a.w/2-i.w/2),i.y=Math.max(0,a.h/2-i.h/2),i},renderHtml:function(){var e=this,t=e._layout,n=e._id,i=e.classPrefix,r=e.settings,o="",a="",s=r.html;return e.preRender(),t.preRender(e),r.title&&(o='<div id="'+n+'-head" class="'+i+'window-head"><div id="'+n+'-title" class="'+i+'title">'+e.encode(r.title)+'</div><button type="button" class="'+i+'close" aria-hidden="true">\xd7</button><div id="'+n+'-dragh" class="'+i+'dragh"></div></div>'),r.url&&(s='<iframe src="'+r.url+'" tabindex="-1"></iframe>'),"undefined"==typeof s&&(s=t.renderHtml(e)),e.statusbar&&(a=e.statusbar.renderHtml()),'<div id="'+n+'" class="'+e.classes()+'" hidefocus="1"><div class="'+e.classPrefix+'reset" role="application">'+o+'<div id="'+n+'-body" class="'+e.classes("body")+'">'+s+"</div>"+a+"</div></div>"},fullscreen:function(e){var t,i,r=this,o=document.documentElement,a=r.classPrefix;if(e!=r._fullscreen)if(n.on(window,"resize",function(){var e;if(r._fullscreen)if(t)r._timer||(r._timer=setTimeout(function(){var e=n.getWindowSize();r.moveTo(0,0).resizeTo(e.w,e.h),r._timer=0},50));else{e=(new Date).getTime();var i=n.getWindowSize();r.moveTo(0,0).resizeTo(i.w,i.h),(new Date).getTime()-e>50&&(t=!0)}}),i=r.layoutRect(),r._fullscreen=e,e){r._initial={x:i.x,y:i.y,w:i.w,h:i.h},r._borderBox=r.parseBox("0"),r.getEl("head").style.display="none",i.deltaH-=i.headerH+2,n.addClass(o,a+"fullscreen"),n.addClass(document.body,a+"fullscreen"),r.addClass("fullscreen");var s=n.getWindowSize();r.moveTo(0,0).resizeTo(s.w,s.h)}else r._borderBox=r.parseBox(r.settings.border),r.getEl("head").style.display="",i.deltaH+=i.headerH,n.removeClass(o,a+"fullscreen"),n.removeClass(document.body,a+"fullscreen"),r.removeClass("fullscreen"),r.moveTo(r._initial.x,r._initial.y).resizeTo(r._initial.w,r._initial.h);return r.reflow()},postRender:function(){var e,t=this;setTimeout(function(){t.addClass("in")},0),t._super(),t.statusbar&&t.statusbar.postRender(),t.focus(),this.dragHelper=new i(t._id+"-dragh",{start:function(){e={x:t.layoutRect().x,y:t.layoutRect().y}},drag:function(n){t.moveTo(e.x+n.deltaX,e.y+n.deltaY)}}),t.on("submit",function(e){e.isDefaultPrevented()||t.close()})},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var e=this,t=e.classPrefix;e.dragHelper.destroy(),e._super(),e.statusbar&&this.statusbar.remove(),e._fullscreen&&(n.removeClass(document.documentElement,t+"fullscreen"),n.removeClass(document.body,t+"fullscreen"))},getContentWindow:function(){var e=this.getEl().getElementsByTagName("iframe")[0];return e?e.contentWindow:null}});return r}),i(tt,[et],function(e){var t=e.extend({init:function(e){e={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(e)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(n){var i,r=n.callback||function(){};switch(n.buttons){case t.OK_CANCEL:i=[{type:"button",text:"Ok",subtype:"primary",onClick:function(e){e.control.parents()[1].close(),r(!0)}},{type:"button",text:"Cancel",onClick:function(e){e.control.parents()[1].close(),r(!1)}}];break;case t.YES_NO:i=[{type:"button",text:"Ok",subtype:"primary",onClick:function(e){e.control.parents()[1].close(),r(!0)}}];break;case t.YES_NO_CANCEL:i=[{type:"button",text:"Ok",subtype:"primary",onClick:function(e){e.control.parents()[1].close()}}];break;default:i=[{type:"button",text:"Ok",subtype:"primary",onClick:function(e){e.control.parents()[1].close(),r(!0)}}]}return new e({padding:20,x:n.x,y:n.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:i,title:n.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:n.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:n.onClose,onCancel:function(){r(!1)}}).renderTo(document.body).reflow()},alert:function(e,n){return"string"==typeof e&&(e={text:e}),e.callback=n,t.msgBox(e)},confirm:function(e,n){return"string"==typeof e&&(e={text:e}),e.callback=n,e.buttons=t.OK_CANCEL,t.msgBox(e)}}});return t}),i(nt,[et,tt],function(e,t){return function(n){function i(){return o.length?o[o.length-1]:void 0}var r=this,o=[];r.windows=o,r.open=function(t,i){var r;return n.editorManager.activeEditor=n,t.title=t.title||" ",t.url=t.url||t.file,t.url&&(t.width=parseInt(t.width||320,10),t.height=parseInt(t.height||240,10)),t.body&&(t.items={defaults:t.defaults,type:t.bodyType||"form",items:t.body}),t.url||t.buttons||(t.buttons=[{text:"Ok",subtype:"primary",onclick:function(){r.find("form")[0].submit()}},{text:"Cancel",onclick:function(){r.close()}}]),r=new e(t),o.push(r),r.on("close",function(){for(var e=o.length;e--;)o[e]===r&&o.splice(e,1);n.focus()}),t.data&&r.on("postRender",function(){this.find("*").each(function(e){var n=e.name();n in t.data&&e.value(t.data[n])})}),r.features=t||{},r.params=i||{},n.nodeChanged(),r.renderTo().reflow()},r.alert=function(e,i,r){t.alert(e,function(){i?i.call(r||this):n.focus()})},r.confirm=function(e,n,i){t.confirm(e,function(e){n.call(i||this,e)})},r.close=function(){i()&&i().close()},r.getParams=function(){return i()?i().params:null},r.setParams=function(e){i()&&(i().params=e)},r.getWindows=function(){return o}}}),i(it,[T,A,x,p,m,f],function(e,t,n,i,r,o){return function(a){function s(e,t){try{a.getDoc().execCommand(e,!1,t)}catch(n){}}function l(){var e=a.getDoc().documentMode;return e?e:6}function c(e){return e.isDefaultPrevented()}function u(){function t(e){var t=new l(function(){});o.each(a.getBody().getElementsByTagName("*"),function(e){"SPAN"==e.tagName&&e.setAttribute("mce-data-marked",1),!e.hasAttribute("data-mce-style")&&e.hasAttribute("style")&&a.dom.setAttrib(e,"style",e.getAttribute("style"))}),t.observe(a.getDoc(),{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"]}),a.getDoc().execCommand(e?"ForwardDelete":"Delete",!1,null);var n=a.selection.getRng(),i=n.startContainer.parentNode;o.each(t.takeRecords(),function(e){if(j.isChildOf(e.target,a.getBody())){if("style"==e.attributeName){var t=e.target.getAttribute("data-mce-style");t?e.target.setAttribute("style",t):e.target.removeAttribute("style")}o.each(e.addedNodes,function(e){if("SPAN"==e.nodeName&&!e.getAttribute("mce-data-marked")){var t,r;e==i&&(t=n.startOffset,r=e.firstChild),j.remove(e,!0),r&&(n.setStart(r,t),n.setEnd(r,t),a.selection.setRng(n))}})}}),t.disconnect(),o.each(a.dom.select("span[mce-data-marked]"),function(e){e.removeAttribute("mce-data-marked")})}var n,i,r=a.getDoc(),s="data:text/mce-internal,",l=window.MutationObserver;l||(n=!0,l=function(){function e(e){var t=e.relatedNode||e.target;i.push({target:t,addedNodes:[t]})}function t(e){var t=e.relatedNode||e.target;i.push({target:t,attributeName:e.attrName})}var n,i=[];this.observe=function(i){n=i,n.addEventListener("DOMSubtreeModified",e,!1),n.addEventListener("DOMNodeInsertedIntoDocument",e,!1),n.addEventListener("DOMNodeInserted",e,!1),n.addEventListener("DOMAttrModified",t,!1)},this.disconnect=function(){n.removeEventListener("DOMSubtreeModified",e,!1),n.removeEventListener("DOMNodeInsertedIntoDocument",e,!1),n.removeEventListener("DOMNodeInserted",e,!1),n.removeEventListener("DOMAttrModified",t,!1)},this.takeRecords=function(){return i}}),a.on("keydown",function(n){var i=n.keyCode==q,r=e.metaKeyPressed(n);if(!c(n)&&(i||n.keyCode==$)){var o=a.selection.getRng(),s=o.startContainer,l=o.startOffset;if(!r&&o.collapsed&&3==s.nodeType&&(i?l<s.data.length:l>0))return;n.preventDefault(),r&&a.selection.getSel().modify("extend",i?"forward":"backward","word"),t(i)}}),a.on("keypress",function(n){c(n)||U.isCollapsed()||!n.charCode||e.metaKeyPressed(n)||(n.preventDefault(),t(!0),a.selection.setContent(String.fromCharCode(n.charCode)))}),a.addCommand("Delete",function(){t()}),a.addCommand("ForwardDelete",function(){t(!0)}),n||(a.on("dragstart",function(e){var t;a.selection.isCollapsed()&&"IMG"==e.target.tagName&&U.select(e.target),i=U.getRng(),t=a.selection.getContent(),t.length>0&&e.dataTransfer.setData("URL","data:text/mce-internal,"+escape(t))}),a.on("drop",function(e){if(!c(e)){var n=e.dataTransfer.getData("URL");if(!n||-1==n.indexOf(s)||!r.caretRangeFromPoint)return;n=unescape(n.substr(s.length)),r.caretRangeFromPoint&&(e.preventDefault(),window.setTimeout(function(){var o=r.caretRangeFromPoint(e.x,e.y);i&&(U.setRng(i),i=null),t(),U.setRng(o),a.insertContent(n)},0))}}),a.on("cut",function(e){!c(e)&&e.clipboardData&&(e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/html",a.selection.getContent()),e.clipboardData.setData("text/plain",a.selection.getContent({format:"text"})),t(!0))}))}function d(){function e(e){var t=j.create("body"),n=e.cloneContents();return t.appendChild(n),U.serializer.serialize(t,{format:"html"})}function n(n){if(!n.setStart){if(n.item)return!1;var i=n.duplicate();return i.moveToElementText(a.getBody()),t.compareRanges(n,i)}var r=e(n),o=j.createRng();o.selectNode(a.getBody());var s=e(o);return r===s}a.on("keydown",function(e){var t,i,r=e.keyCode;if(!c(e)&&(r==q||r==$)){if(t=a.selection.isCollapsed(),i=a.getBody(),t&&!j.isEmpty(i))return;if(!t&&!n(a.selection.getRng()))return;e.preventDefault(),a.setContent(""),i.firstChild&&j.isBlock(i.firstChild)?a.selection.setCursorLocation(i.firstChild,0):a.selection.setCursorLocation(i,0),a.nodeChanged()}})}function f(){a.on("keydown",function(t){!c(t)&&65==t.keyCode&&e.metaKeyPressed(t)&&(t.preventDefault(),a.execCommand("SelectAll"))})}function h(){a.settings.content_editable||(j.bind(a.getDoc(),"focusin",function(){U.setRng(U.getRng())}),j.bind(a.getDoc(),"mousedown",function(e){e.target==a.getDoc().documentElement&&(a.getBody().focus(),U.setRng(U.getRng()))}))}function p(){a.on("keydown",function(e){if(!c(e)&&e.keyCode===$&&U.isCollapsed()&&0===U.getRng(!0).startOffset){var t=U.getNode(),n=t.previousSibling;if("HR"==t.nodeName)return j.remove(t),void e.preventDefault();n&&n.nodeName&&"hr"===n.nodeName.toLowerCase()&&(j.remove(n),e.preventDefault())}})}function m(){window.Range.prototype.getClientRects||a.on("mousedown",function(e){if(!c(e)&&"HTML"===e.target.nodeName){var t=a.getBody();t.blur(),setTimeout(function(){t.focus()},0)}})}function g(){a.on("click",function(e){e=e.target,/^(IMG|HR)$/.test(e.nodeName)&&U.getSel().setBaseAndExtent(e,0,e,1),"A"==e.nodeName&&j.hasClass(e,"mce-item-anchor")&&U.select(e),a.nodeChanged()})}function v(){function e(){var e=j.getAttribs(U.getStart().cloneNode(!1));return function(){var t=U.getStart();t!==a.getBody()&&(j.setAttrib(t,"style",null),W(e,function(e){t.setAttributeNode(e.cloneNode(!0))}))}}function t(){return!U.isCollapsed()&&j.getParent(U.getStart(),j.isBlock)!=j.getParent(U.getEnd(),j.isBlock)}a.on("keypress",function(n){var i;return c(n)||8!=n.keyCode&&46!=n.keyCode||!t()?void 0:(i=e(),a.getDoc().execCommand("delete",!1,null),i(),n.preventDefault(),!1)}),j.bind(a.getDoc(),"cut",function(n){var i;!c(n)&&t()&&(i=e(),setTimeout(function(){i()},0))})}function b(){var e,n;a.on("selectionchange",function(){n&&(clearTimeout(n),n=0),n=window.setTimeout(function(){if(!a.removed){var n=U.getRng();e&&t.compareRanges(n,e)||(a.nodeChanged(),e=n)}},50)})}function y(){document.body.setAttribute("role","application")}function x(){a.on("keydown",function(e){if(!c(e)&&e.keyCode===$&&U.isCollapsed()&&0===U.getRng(!0).startOffset){var t=U.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}})}function C(){l()>7||(s("RespectVisibilityInDesign",!0),a.contentStyles.push(".mceHideBrInPre pre br {display: none}"),j.addClass(a.getBody(),"mceHideBrInPre"),Y.addNodeFilter("pre",function(e){for(var t,i,r,o,a=e.length;a--;)for(t=e[a].getAll("br"),i=t.length;i--;)r=t[i],o=r.prev,o&&3===o.type&&"\n"!=o.value.charAt(o.value-1)?o.value+="\n":r.parent.insert(new n("#text",3),r,!0).value="\n"}),X.addNodeFilter("pre",function(e){for(var t,n,i,r,o=e.length;o--;)for(t=e[o].getAll("br"),n=t.length;n--;)i=t[n],r=i.prev,r&&3==r.type&&(r.value=r.value.replace(/\r?\n$/,""))}))}function w(){j.bind(a.getBody(),"mouseup",function(){var e,t=U.getNode();"IMG"==t.nodeName&&((e=j.getStyle(t,"width"))&&(j.setAttrib(t,"width",e.replace(/[^0-9%]+/g,"")),j.setStyle(t,"width","")),(e=j.getStyle(t,"height"))&&(j.setAttrib(t,"height",e.replace(/[^0-9%]+/g,"")),j.setStyle(t,"height","")))})}function k(){a.on("keydown",function(t){var n,i,r,o,s;if(!c(t)&&t.keyCode==e.BACKSPACE&&(n=U.getRng(),i=n.startContainer,r=n.startOffset,o=j.getRoot(),s=i,n.collapsed&&0===r)){for(;s&&s.parentNode&&s.parentNode.firstChild==s&&s.parentNode!=o;)s=s.parentNode;"BLOCKQUOTE"===s.tagName&&(a.formatter.toggle("blockquote",null,s),n=j.createRng(),n.setStart(i,0),n.setEnd(i,0),U.setRng(n))}})}function _(){function e(){a._refreshContentEditable(),s("StyleWithCSS",!1),s("enableInlineTableEditing",!1),V.object_resizing||s("enableObjectResizing",!1)}V.readonly||a.on("BeforeExecCommand MouseDown",e)}function E(){function e(){W(j.select("a"),function(e){var t=e.parentNode,n=j.getRoot();if(t.lastChild===e){for(;t&&!j.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}j.add(t,"br",{"data-mce-bogus":1})}})}a.on("SetContent ExecCommand",function(t){("setcontent"==t.type||"mceInsertLink"===t.command)&&e()})}function S(){V.forced_root_block&&a.on("init",function(){s("DefaultParagraphSeparator",V.forced_root_block)})}function N(){a.on("Undo Redo SetContent",function(e){e.initial||a.execCommand("mceRepaint")})}function T(){a.on("keydown",function(e){var t;c(e)||e.keyCode!=$||(t=a.getDoc().selection.createRange(),t&&t.item&&(e.preventDefault(),a.undoManager.beforeChange(),j.remove(t.item(0)),a.undoManager.add()))})}function M(){var e;l()>=10&&(e="",W("p div h1 h2 h3 h4 h5 h6".split(" "),function(t,n){e+=(n>0?",":"")+t+":empty"}),a.contentStyles.push(e+"{padding-right: 1px !important}"))}function A(){l()<9&&(Y.addNodeFilter("noscript",function(e){for(var t,n,i=e.length;i--;)t=e[i],n=t.firstChild,n&&t.attr("data-mce-innertext",n.value)}),X.addNodeFilter("noscript",function(e){for(var t,r,o,a=e.length;a--;)t=e[a],r=e[a].firstChild,r?r.value=i.decode(r.value):(o=t.attributes.map["data-mce-innertext"],o&&(t.attr("data-mce-innertext",null),r=new n("#text",3),r.value=o,r.raw=!0,t.append(r)))}))}function R(){function e(e,t){var n=s.createTextRange();try{n.moveToPoint(e,t)}catch(i){n=null}return n}function t(t){var i;t.button?(i=e(t.x,t.y),i&&(i.compareEndPoints("StartToStart",r)>0?i.setEndPoint("StartToStart",r):i.setEndPoint("EndToEnd",r),i.select())):n()}function n(){var e=a.selection.createRange();r&&!e.item&&0===e.compareEndPoints("StartToEnd",e)&&r.select(),j.unbind(a,"mouseup",n),j.unbind(a,"mousemove",t),r=i=0}var i,r,o,a=j.doc,s=a.body;a.documentElement.unselectable=!0,j.bind(a,"mousedown contextmenu",function(s){if("HTML"===s.target.nodeName){if(i&&n(),o=a.documentElement,o.scrollHeight>o.clientHeight)return;i=1,r=e(s.x,s.y),r&&(j.bind(a,"mouseup",n),j.bind(a,"mousemove",t),j.getRoot().focus(),r.select())}})}function D(){a.on("keyup focusin mouseup",function(t){65==t.keyCode&&e.metaKeyPressed(t)||U.normalize()},!0)}function P(){a.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}function B(){a.inline||a.on("keydown",function(){document.activeElement==document.body&&a.getWin().focus()})}function I(){a.inline||(a.contentStyles.push("body {min-height: 150px}"),a.on("click",function(e){"HTML"==e.target.nodeName&&(a.getBody().focus(),a.selection.normalize(),a.nodeChanged())}))}function L(){r.mac&&a.on("keydown",function(t){!e.metaKeyPressed(t)||37!=t.keyCode&&39!=t.keyCode||(t.preventDefault(),a.selection.getSel().modify("move",37==t.keyCode?"backward":"forward","word"))})}function F(){s("AutoUrlDetect",!1)}function O(){a.inline||a.on("focus blur beforegetcontent",function(){var e=a.dom.create("br");a.getBody().appendChild(e),e.parentNode.removeChild(e)},!0)}function H(){a.on("click",function(e){var t=e.target;do if("A"===t.tagName)return void e.preventDefault();while(t=t.parentNode)}),a.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}function z(){a.on("init",function(){a.dom.bind(a.getBody(),"submit",function(e){e.preventDefault()})})}var W=o.each,$=e.BACKSPACE,q=e.DELETE,j=a.dom,U=a.selection,V=a.settings,Y=a.parser,X=a.serializer,K=r.gecko,Q=r.ie,G=r.webkit;x(),k(),d(),D(),G&&(u(),h(),g(),S(),z(),r.iOS?(b(),B(),I(),H()):f()),Q&&r.ie<11&&(p(),y(),C(),w(),T(),M(),A(),R()),r.ie>=11&&(I(),O()),r.ie&&(f(),F()),K&&(p(),m(),v(),_(),E(),N(),P(),L())}}),i(rt,[z],function(e){function t(t){return t._eventDispatcher||(t._eventDispatcher=new e({scope:t,toggleEvent:function(n,i){e.isNative(n)&&t.toggleNativeEvent&&t.toggleNativeEvent(n,i)}})),t._eventDispatcher}return{fire:function(e,n,i){var r=this;if(r.removed&&"remove"!==e)return n;if(n=t(r).fire(e,n,i),i!==!1&&r.parent)for(var o=r.parent();o&&!n.isPropagationStopped();)o.fire(e,n,!1),o=o.parent();return n},on:function(e,n,i){return t(this).on(e,n,i)},off:function(e,n){return t(this).off(e,n)},hasEventListeners:function(e){return t(this).has(e)}}}),i(ot,[rt,v,f],function(e,t,n){function i(e,t){return"selectionchange"==t?e.getDoc():!e.inline&&/^mouse|click|contextmenu|drop/.test(t)?e.getDoc():e.getBody()}function r(e,t){var n=e.settings.event_root,r=e.editorManager,a=r.eventRootElm||i(e,t);if(n){if(r.rootEvents||(r.rootEvents={},r.on("RemoveEditor",function(){r.activeEditor||(o.unbind(a),delete r.rootEvents)})),r.rootEvents[t])return;a==e.getBody()&&(a=o.select(n)[0],r.eventRootElm=a),r.rootEvents[t]=!0,o.bind(a,t,function(e){for(var n=e.target,i=r.editors,a=i.length;a--;){var s=i[a].getBody();(s===n||o.isChildOf(n,s))&&(i[a].hidden||i[a].fire(t,e))}})}else e.dom.bind(a,t,function(n){e.hidden||e.fire(t,n)})}var o=t.DOM,a={bindPendingEventDelegates:function(){var e=this;n.each(e._pendingNativeEvents,function(t){r(e,t)})},toggleNativeEvent:function(e,t){var n=this;n.settings.readonly||"focus"!=e&&"blur"!=e&&(t?n.initialized?r(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&n.dom.unbind(i(n,e),e))}};return a=n.extend({},e,a)}),i(at,[f,m],function(e,t){var n=e.each,i=e.explode,r={f9:120,f10:121,f11:122};return function(o){var a=this,s={};o.on("keyup keypress keydown",function(e){(e.altKey||e.ctrlKey||e.metaKey)&&n(s,function(n){var i=t.mac?e.metaKey:e.ctrlKey;return n.ctrl==i&&n.alt==e.altKey&&n.shift==e.shiftKey&&(e.keyCode==n.keyCode||e.charCode&&e.charCode==n.charCode)?(e.preventDefault(),"keydown"==e.type&&n.func.call(n.scope),!0):void 0})}),a.add=function(t,a,l,c){var u;return u=l,"string"==typeof l?l=function(){o.execCommand(u,!1,null)}:e.isArray(u)&&(l=function(){o.execCommand(u[0],u[1],u[2])}),n(i(t.toLowerCase()),function(e){var t={func:l,scope:c||o,desc:o.translate(a),alt:!1,ctrl:!1,shift:!1};n(i(e,"+"),function(e){switch(e){case"alt":case"ctrl":case"shift":t[e]=!0;break;default:t.charCode=e.charCodeAt(0),t.keyCode=r[e]||e.toUpperCase().charCodeAt(0)}}),s[(t.ctrl?"ctrl":"")+","+(t.alt?"alt":"")+","+(t.shift?"shift":"")+","+t.keyCode]=t}),!0}}}),i(st,[v,y,x,S,E,R,P,B,I,L,F,O,b,s,nt,C,k,it,m,f,ot,at],function(e,n,i,r,o,a,s,l,c,u,d,f,h,p,m,g,v,b,y,x,C,w){function k(e,t,i){var r,o,a=this;r=a.documentBaseUrl=i.documentBaseURL,o=i.baseURI,a.settings=t=N({id:e,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:r,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:a.convertURL,url_converter_scope:a,ie7_compat:!0},t),n.language=t.language||"en",n.languageLoad=t.language_load,n.baseURL=i.baseURL,a.id=t.id=e,a.isNotDirty=!0,a.plugins={},a.documentBaseURI=new f(t.document_base_url||r,{base_uri:o}),a.baseURI=o,a.contentCSS=[],a.contentStyles=[],a.shortcuts=new w(a),a.execCommands={},a.queryStateCommands={},a.queryValueCommands={},a.loadedCSS={},a.suffix=i.suffix,a.editorManager=i,a.inline=t.inline,i.fire("SetupEditor",a),a.execCallback("setup",a)}var _=e.DOM,E=n.ThemeManager,S=n.PluginManager,N=x.extend,T=x.each,M=x.explode,A=x.inArray,R=x.trim,D=x.resolve,P=p.Event,B=y.gecko,I=y.ie;return k.prototype={render:function(){function e(){_.unbind(window,"ready",e),n.render()}function t(){var e=h.ScriptLoader;if(i.language&&"en"!=i.language&&!i.language_url&&(i.language_url=n.editorManager.baseURL+"/langs/"+i.language+".js"),i.language_url&&e.add(i.language_url),i.theme&&"function"!=typeof i.theme&&"-"!=i.theme.charAt(0)&&!E.urls[i.theme]){var t=i.theme_url;t=t?n.documentBaseURI.toAbsolute(t):"themes/"+i.theme+"/theme"+o+".js",E.load(i.theme,t)}x.isArray(i.plugins)&&(i.plugins=i.plugins.join(" ")),T(i.external_plugins,function(e,t){S.load(t,e),i.plugins+=" "+t}),T(i.plugins.split(/[ ,]/),function(e){if(e=R(e),e&&!S.urls[e])if("-"==e.charAt(0)){e=e.substr(1,e.length);var t=S.dependencies(e);T(t,function(e){var t={prefix:"plugins/",resource:e,suffix:"/plugin"+o+".js"};e=S.createUrl(t,e),S.load(e.resource,e)})}else S.load(e,{prefix:"plugins/",resource:e,suffix:"/plugin"+o+".js"})}),e.loadQueue(function(){n.removed||n.init()})}var n=this,i=n.settings,r=n.id,o=n.suffix;if(!P.domLoaded)return void _.bind(window,"ready",e);if(n.getElement()&&y.contentEditable){i.inline?n.inline=!0:(n.orgVisibility=n.getElement().style.visibility,n.getElement().style.visibility="hidden");var a=n.getElement().form||_.getParent(r,"form");a&&(n.formElement=a,i.hidden_input&&!/TEXTAREA|INPUT/i.test(n.getElement().nodeName)&&(_.insertAfter(_.create("input",{type:"hidden",name:r}),r),n.hasHiddenInput=!0),n.formEventDelegate=function(e){n.fire(e.type,e)},_.bind(a,"submit reset",n.formEventDelegate),n.on("reset",function(){n.setContent(n.startContent,{format:"raw"})}),!i.submit_patch||a.submit.nodeType||a.submit.length||a._mceOldSubmit||(a._mceOldSubmit=a.submit,a.submit=function(){return n.editorManager.triggerSave(),n.isNotDirty=!0,a._mceOldSubmit(a)})),n.windowManager=new m(n),"xml"==i.encoding&&n.on("GetContent",function(e){e.save&&(e.content=_.encode(e.content))}),i.add_form_submit_trigger&&n.on("submit",function(){n.initialized&&n.save()}),i.add_unload_trigger&&(n._beforeUnload=function(){!n.initialized||n.destroyed||n.isHidden()||n.save({format:"raw",no_events:!0,set_dirty:!1})},n.editorManager.on("BeforeUnload",n._beforeUnload)),t()}},init:function(){function e(t){var n,i,r=S.get(t);n=S.urls[t]||f.documentBaseUrl.replace(/\/$/,""),t=R(t),r&&-1===A(m,t)&&(T(S.dependencies(t),function(t){e(t)}),i=new r(f,n),f.plugins[t]=i,i.init&&(i.init(f,n),m.push(t)))}var t,n,i,r,o,a,s,l,c,u,d,f=this,h=f.settings,p=f.getElement(),m=[];if(f.rtl=this.editorManager.i18n.rtl,f.editorManager.add(f),h.aria_label=h.aria_label||_.getAttrib(p,"aria-label",f.getLang("aria.rich_text_area")),h.theme&&("function"!=typeof h.theme?(h.theme=h.theme.replace(/-/,""),a=E.get(h.theme),f.theme=new a(f,E.urls[h.theme]),f.theme.init&&f.theme.init(f,E.urls[h.theme]||f.documentBaseUrl.replace(/\/$/,""))):f.theme=h.theme),T(h.plugins.replace(/\-/g,"").split(/[ ,]/),e),h.render_ui&&f.theme&&(f.orgDisplay=p.style.display,"function"!=typeof h.theme?(t=h.width||p.style.width||p.offsetWidth,n=h.height||p.style.height||p.offsetHeight,i=h.min_height||100,u=/^[0-9\.]+(|px)$/i,u.test(""+t)&&(t=Math.max(parseInt(t,10),100)),u.test(""+n)&&(n=Math.max(parseInt(n,10),i)),o=f.theme.renderUI({targetNode:p,width:t,height:n,deltaWidth:h.delta_width,deltaHeight:h.delta_height}),h.content_editable||(_.setStyles(o.sizeContainer||o.editorContainer,{wi2dth:t,h2eight:n}),n=(o.iframeHeight||n)+("number"==typeof n?o.deltaHeight||0:""),i>n&&(n=i))):(o=h.theme(f,p),o.editorContainer.nodeType&&(o.editorContainer=o.editorContainer.id=o.editorContainer.id||f.id+"_parent"),o.iframeContainer.nodeType&&(o.iframeContainer=o.iframeContainer.id=o.iframeContainer.id||f.id+"_iframecontainer"),n=o.iframeHeight||p.offsetHeight),f.editorContainer=o.editorContainer),h.content_css&&T(M(h.content_css),function(e){f.contentCSS.push(f.documentBaseURI.toAbsolute(e))}),h.content_style&&f.contentStyles.push(h.content_style),h.content_editable)return p=r=o=null,f.initContentBody();for(f.iframeHTML=h.doctype+"<html><head>",h.document_base_url!=f.documentBaseUrl&&(f.iframeHTML+='<base href="'+f.documentBaseURI.getURI()+'" />'),!y.caretAfter&&h.ie7_compat&&(f.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),f.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',d=0;d<f.contentCSS.length;d++){var g=f.contentCSS[d];
f.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+g+'" />',f.loadedCSS[g]=!0}l=h.body_id||"tinymce",-1!=l.indexOf("=")&&(l=f.getParam("body_id","","hash"),l=l[f.id]||l),c=h.body_class||"",-1!=c.indexOf("=")&&(c=f.getParam("body_class","","hash"),c=c[f.id]||""),f.iframeHTML+='</head><body id="'+l+'" class="mce-content-body '+c+'" onload="window.parent.tinymce.get(\''+f.id+"').fire('load');\"><br></body></html>";var v='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+f.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';if(document.domain!=location.hostname&&(s=v),r=_.add(o.iframeContainer,"iframe",{id:f.id+"_ifr",src:s||'javascript:""',frameBorder:"0",allowTransparency:"true",title:f.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:n,display:"block"}}),I)try{f.getDoc()}catch(b){r.src=s=v}f.contentAreaContainer=o.iframeContainer,o.editorContainer&&(_.get(o.editorContainer).style.display=f.orgDisplay),_.get(f.id).style.display="none",_.setAttrib(f.id,"aria-hidden",!0),s||f.initContentBody(),p=r=o=null},initContentBody:function(t){var n,o,f=this,h=f.settings,p=_.get(f.id),m=f.getDoc();h.inline||(f.getElement().style.visibility=f.orgVisibility),t||h.content_editable||(m.open(),m.write(f.iframeHTML),m.close()),h.content_editable&&(f.on("remove",function(){var e=this.getBody();_.removeClass(e,"mce-content-body"),_.removeClass(e,"mce-edit-focus"),_.setAttrib(e,"contentEditable",null)}),_.addClass(p,"mce-content-body"),f.contentDocument=m=h.content_document||document,f.contentWindow=h.content_window||window,f.bodyElement=p,h.content_document=h.content_window=null,h.root_name=p.nodeName.toLowerCase()),n=f.getBody(),n.disabled=!0,h.readonly||(f.inline&&"static"==_.getStyle(n,"position",!0)&&(n.style.position="relative"),n.contentEditable=f.getParam("content_editable_state",!0)),n.disabled=!1,f.schema=new g(h),f.dom=new e(m,{keep_values:!0,url_converter:f.convertURL,url_converter_scope:f,hex_colors:h.force_hex_style_colors,class_filter:h.class_filter,update_styles:!0,root_element:h.content_editable?f.id:null,collect:h.content_editable,schema:f.schema,onSetAttrib:function(e){f.fire("SetAttrib",e)}}),f.parser=new v(h,f.schema),f.parser.addAttributeFilter("src,href,style,tabindex",function(e,t){for(var n,i,r,o=e.length,a=f.dom;o--;)n=e[o],i=n.attr(t),r="data-mce-"+t,n.attributes.map[r]||("style"===t?n.attr(r,a.serializeStyle(a.parseStyle(i),n.name)):"tabindex"===t?(n.attr(r,i),n.attr(t,null)):n.attr(r,f.convertURL(i,t,n.name)))}),f.parser.addNodeFilter("script",function(e){for(var t,n=e.length;n--;)t=e[n],t.attr("type","mce-"+(t.attr("type")||"text/javascript"))}),f.parser.addNodeFilter("#cdata",function(e){for(var t,n=e.length;n--;)t=e[n],t.type=8,t.name="#comment",t.value="[CDATA["+t.value+"]]"}),f.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(e){for(var t,n=e.length,r=f.schema.getNonEmptyElements();n--;)t=e[n],t.isEmpty(r)&&(t.empty().append(new i("br",1)).shortEnded=!0)}),f.serializer=new r(h,f),f.selection=new a(f.dom,f.getWin(),f.serializer,f),f.formatter=new s(f),f.undoManager=new l(f),f.forceBlocks=new u(f),f.enterKey=new c(f),f.editorCommands=new d(f),f.fire("PreInit"),h.browser_spellcheck||h.gecko_spellcheck||(m.body.spellcheck=!1,_.setAttrib(n,"spellcheck","false")),f.fire("PostRender"),f.quirks=b(f),h.directionality&&(n.dir=h.directionality),h.nowrap&&(n.style.whiteSpace="nowrap"),h.protect&&f.on("BeforeSetContent",function(e){T(h.protect,function(t){e.content=e.content.replace(t,function(e){return"<!--mce:protected "+escape(e)+"-->"})})}),f.on("SetContent",function(){f.addVisual(f.getBody())}),h.padd_empty_editor&&f.on("PostProcess",function(e){e.content=e.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),f.load({initial:!0,format:"html"}),f.startContent=f.getContent({format:"raw"}),f.initialized=!0,f.bindPendingEventDelegates(),f.fire("init"),f.focus(!0),f.nodeChanged({initial:!0}),f.execCallback("init_instance_callback",f),f.contentStyles.length>0&&(o="",T(f.contentStyles,function(e){o+=e+"\r\n"}),f.dom.addStyle(o)),T(f.contentCSS,function(e){f.loadedCSS[e]||(f.dom.loadCSS(e),f.loadedCSS[e]=!0)}),h.auto_focus&&setTimeout(function(){var e=f.editorManager.get(h.auto_focus);e.selection.select(e.getBody(),1),e.selection.collapse(1),e.getBody().focus(),e.getWin().focus()},100),p=m=n=null},focus:function(e){var t,n,i,r,o=this,a=o.selection,s=o.settings.content_editable,l=o.getDoc();if(!e){if(n=a.getRng(),n.item&&(i=n.item(0)),o._refreshContentEditable(),s||(y.opera||o.getBody().focus(),o.getWin().focus()),B||s){if(r=o.getBody(),r.setActive)try{r.setActive()}catch(c){r.focus()}else r.focus();s&&a.normalize()}i&&i.ownerDocument==l&&(n=l.body.createControlRange(),n.addElement(i),n.select())}o.editorManager.activeEditor!=o&&((t=o.editorManager.activeEditor)&&t.fire("deactivate",{relatedTarget:o}),o.fire("activate",{relatedTarget:t})),o.editorManager.activeEditor=o},execCallback:function(e){var t,n=this,i=n.settings[e];return i?(n.callbackLookup&&(t=n.callbackLookup[e])&&(i=t.func,t=t.scope),"string"==typeof i&&(t=i.replace(/\.\w+$/,""),t=t?D(t):0,i=D(i),n.callbackLookup=n.callbackLookup||{},n.callbackLookup[e]={func:i,scope:t}),i.apply(t||n,Array.prototype.slice.call(arguments,1))):void 0},translate:function(e){var t=this.settings.language||"en",n=this.editorManager.i18n;return e?n.data[t+"."+e]||e.replace(/\{\#([^\}]+)\}/g,function(e,i){return n.data[t+"."+i]||"{#"+i+"}"}):""},getLang:function(e,n){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+e]||(n!==t?n:"{#"+e+"}")},getParam:function(e,t,n){var i,r=e in this.settings?this.settings[e]:t;return"hash"===n?(i={},"string"==typeof r?T(r.split(r.indexOf("=")>0?/[;,](?![^=;,]*(?:[;,]|$))/:","),function(e){e=e.split("="),i[R(e[0])]=R(e.length>1?e[1]:e)}):i=r,i):r},nodeChanged:function(){var e,t,n,i=this,r=i.selection;!i.initialized||i.settings.disable_nodechange||i.settings.readonly||(n=i.getBody(),e=r.getStart()||n,e=I&&e.ownerDocument!=i.getDoc()?i.getBody():e,"IMG"==e.nodeName&&r.isCollapsed()&&(e=e.parentNode),t=[],i.dom.getParent(e,function(e){return e===n?!0:void t.push(e)}),i.fire("NodeChange",{element:e,parents:t}))},addButton:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),t.text||t.icon||(t.icon=e),n.buttons=n.buttons||{},t.tooltip=t.tooltip||t.title,n.buttons[e]=t},addMenuItem:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),n.menuItems=n.menuItems||{},n.menuItems[e]=t},addCommand:function(e,t,n){this.execCommands[e]={func:t,scope:n||this}},addQueryStateHandler:function(e,t,n){this.queryStateCommands[e]={func:t,scope:n||this}},addQueryValueHandler:function(e,t,n){this.queryValueCommands[e]={func:t,scope:n||this}},addShortcut:function(e,t,n,i){this.shortcuts.add(e,t,n,i)},execCommand:function(e,t,n,i){var r,o=this,a=0;return/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)||i&&i.skip_focus||o.focus(),i=N({},i),i=o.fire("BeforeExecCommand",{command:e,ui:t,value:n}),i.isDefaultPrevented()?!1:(r=o.execCommands[e])&&r.func.call(r.scope,t,n)!==!0?(o.fire("ExecCommand",{command:e,ui:t,value:n}),!0):(T(o.plugins,function(i){return i.execCommand&&i.execCommand(e,t,n)?(o.fire("ExecCommand",{command:e,ui:t,value:n}),a=!0,!1):void 0}),a?a:o.theme&&o.theme.execCommand&&o.theme.execCommand(e,t,n)?(o.fire("ExecCommand",{command:e,ui:t,value:n}),!0):o.editorCommands.execCommand(e,t,n)?(o.fire("ExecCommand",{command:e,ui:t,value:n}),!0):(o.getDoc().execCommand(e,t,n),void o.fire("ExecCommand",{command:e,ui:t,value:n})))},queryCommandState:function(e){var t,n,i=this;if(!i._isHidden()){if((t=i.queryStateCommands[e])&&(n=t.func.call(t.scope),n!==!0))return n;if(n=i.editorCommands.queryCommandState(e),-1!==n)return n;try{return i.getDoc().queryCommandState(e)}catch(r){}}},queryCommandValue:function(e){var n,i,r=this;if(!r._isHidden()){if((n=r.queryValueCommands[e])&&(i=n.func.call(n.scope),i!==!0))return i;if(i=r.editorCommands.queryCommandValue(e),i!==t)return i;try{return r.getDoc().queryCommandValue(e)}catch(o){}}},show:function(){var e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable=!0:(_.show(e.getContainer()),_.hide(e.id)),e.load(),e.fire("show"))},hide:function(){var e=this,t=e.getDoc();e.hidden||(e.hidden=!0,I&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable=!1,e==e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(_.hide(e.getContainer()),_.setStyle(e.id,"display",e.orgDisplay)),e.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(e,t){this.fire("ProgressState",{state:e,time:t})},load:function(e){var n,i=this,r=i.getElement();return r?(e=e||{},e.load=!0,n=i.setContent(r.value!==t?r.value:r.innerHTML,e),e.element=r,e.no_events||i.fire("LoadContent",e),e.element=r=null,n):void 0},save:function(e){var t,n,i=this,r=i.getElement();return r&&i.initialized?(e=e||{},e.save=!0,e.element=r,t=e.content=i.getContent(e),e.no_events||i.fire("SaveContent",e),t=e.content,/TEXTAREA|INPUT/i.test(r.nodeName)?r.value=t:(i.inline||(r.innerHTML=t),(n=_.getParent(i.id,"form"))&&T(n.elements,function(e){return e.name==i.id?(e.value=t,!1):void 0})),e.element=r=null,e.set_dirty!==!1&&(i.isNotDirty=!0),t):void 0},setContent:function(e,t){var n,i=this,r=i.getBody();return t=t||{},t.format=t.format||"html",t.set=!0,t.content=e,t.no_events||i.fire("BeforeSetContent",t),e=t.content,0===e.length||/^\s+$/.test(e)?(n=i.settings.forced_root_block,n&&i.schema.isValidChild(r.nodeName.toLowerCase(),n.toLowerCase())?(e=I&&11>I?"":'<br data-mce-bogus="1">',e=i.dom.createHTML(n,i.settings.forced_root_block_attrs,e)):I||(e='<br data-mce-bogus="1">'),r.innerHTML=e,i.fire("SetContent",t)):("raw"!==t.format&&(e=new o({},i.schema).serialize(i.parser.parse(e,{isRootContent:!0}))),t.content=R(e),i.dom.setHTML(r,t.content),t.no_events||i.fire("SetContent",t)),t.content},getContent:function(e){var t,n=this,i=n.getBody();return e=e||{},e.format=e.format||"html",e.get=!0,e.getInner=!0,e.no_events||n.fire("BeforeGetContent",e),t="raw"==e.format?i.innerHTML:"text"==e.format?i.innerText||i.textContent:n.serializer.serialize(i,e),e.content="text"!=e.format?R(t):t,e.no_events||n.fire("GetContent",e),e.content},insertContent:function(e){this.execCommand("mceInsertContent",!1,e)},isDirty:function(){return!this.isNotDirty},getContainer:function(){var e=this;return e.container||(e.container=_.get(e.editorContainer||e.id+"_parent")),e.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return _.get(this.settings.content_element||this.id)},getWin:function(){var e,t=this;return t.contentWindow||(e=_.get(t.id+"_ifr"),e&&(t.contentWindow=e.contentWindow)),t.contentWindow},getDoc:function(){var e,t=this;return t.contentDocument||(e=t.getWin(),e&&(t.contentDocument=e.document)),t.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(e,t,n){var i=this,r=i.settings;return r.urlconverter_callback?i.execCallback("urlconverter_callback",e,n,!0,t):!r.convert_urls||n&&"LINK"==n.nodeName||0===e.indexOf("file:")||0===e.length?e:r.relative_urls?i.documentBaseURI.toRelative(e):e=i.documentBaseURI.toAbsolute(e,r.remove_script_host)},addVisual:function(e){var n,i=this,r=i.settings,o=i.dom;e=e||i.getBody(),i.hasVisual===t&&(i.hasVisual=r.visual),T(o.select("table,a",e),function(e){var t;switch(e.nodeName){case"TABLE":return n=r.visual_table_class||"mce-item-table",t=o.getAttrib(e,"border"),void(t&&"0"!=t||(i.hasVisual?o.addClass(e,n):o.removeClass(e,n)));case"A":return void(o.getAttrib(e,"href",!1)||(t=o.getAttrib(e,"name")||e.id,n=r.visual_anchor_class||"mce-item-anchor",t&&(i.hasVisual?o.addClass(e,n):o.removeClass(e,n))))}}),i.fire("VisualAid",{element:e,hasVisual:i.hasVisual})},remove:function(){var e=this;if(!e.removed){e.removed=1,e.save(),e.hasHiddenInput&&_.remove(e.getElement().nextSibling),e.inline||(I&&10>I&&e.getDoc().execCommand("SelectAll",!1,null),_.setStyle(e.id,"display",e.orgDisplay),e.getBody().onload=null,P.unbind(e.getWin()),P.unbind(e.getDoc()));var t=e.getContainer();P.unbind(e.getBody()),P.unbind(t),e.fire("remove"),e.editorManager.remove(e),_.remove(t),e.destroy()}},destroy:function(e){var t,n=this;if(!n.destroyed){if(!e&&!n.removed)return void n.remove();e&&B&&(P.unbind(n.getDoc()),P.unbind(n.getWin()),P.unbind(n.getBody())),e||(n.editorManager.off("beforeunload",n._beforeUnload),n.theme&&n.theme.destroy&&n.theme.destroy(),n.selection.destroy(),n.dom.destroy()),t=n.formElement,t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),_.unbind(t,"submit reset",n.formEventDelegate)),n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.settings.content_element=n.bodyElement=n.contentDocument=n.contentWindow=null,n.selection&&(n.selection=n.selection.win=n.selection.dom=n.selection.dom.doc=null),n.destroyed=1}},_refreshContentEditable:function(){var e,t,n=this;n._isHidden()&&(e=n.getBody(),t=e.parentNode,t.removeChild(e),t.appendChild(e),e.focus())},_isHidden:function(){var e;return B?(e=this.selection.getSel(),!e||!e.rangeCount||0===e.rangeCount):0}},N(k.prototype,C),k}),i(lt,[],function(){var e={};return{rtl:!1,add:function(t,n){for(var i in n)e[i]=n[i];this.rtl=this.rtl||"rtl"===e._dir},translate:function(t){if("undefined"==typeof t)return t;if("string"!=typeof t&&t.raw)return t.raw;if(t.push){var n=t.slice(1);t=(e[t[0]]||t[0]).replace(/\{([^\}]+)\}/g,function(e,t){return n[t]})}return e[t]||t},data:e}}),i(ct,[v,m],function(e,t){function n(e){function s(){try{return document.activeElement}catch(e){return document.body}}function l(e,t){if(t&&t.startContainer){if(!e.isChildOf(t.startContainer,e.getRoot())||!e.isChildOf(t.endContainer,e.getRoot()))return;return{startContainer:t.startContainer,startOffset:t.startOffset,endContainer:t.endContainer,endOffset:t.endOffset}}return t}function c(e,t){var n;return t.startContainer?(n=e.getDoc().createRange(),n.setStart(t.startContainer,t.startOffset),n.setEnd(t.endContainer,t.endOffset)):n=t,n}function u(e){return!!a.getParent(e,n.isEditorUIElement)}function d(n){var d=n.editor;d.on("init",function(){(d.inline||t.ie)&&(d.on("nodechange keyup",function(){var e=document.activeElement;e&&e.id==d.id+"_ifr"&&(e=d.getBody()),d.dom.isChildOf(e,d.getBody())&&(d.lastRng=d.selection.getRng())}),t.webkit&&!i&&(i=function(){var t=e.activeEditor;if(t&&t.selection){var n=t.selection.getRng();n&&!n.collapsed&&(d.lastRng=n)}},a.bind(document,"selectionchange",i)))}),d.on("setcontent",function(){d.lastRng=null}),d.on("mousedown",function(){d.selection.lastFocusBookmark=null}),d.on("focusin",function(){var t=e.focusedEditor;d.selection.lastFocusBookmark&&(d.selection.setRng(c(d,d.selection.lastFocusBookmark)),d.selection.lastFocusBookmark=null),t!=d&&(t&&t.fire("blur",{focusedEditor:d}),e.activeEditor=d,e.focusedEditor=d,d.fire("focus",{blurredEditor:t}),d.focus(!0)),d.lastRng=null}),d.on("focusout",function(){window.setTimeout(function(){var t=e.focusedEditor;u(s())||t!=d||(d.fire("blur",{focusedEditor:null}),e.focusedEditor=null,d.selection&&(d.selection.lastFocusBookmark=null))},0)}),r||(r=function(t){var n=e.activeEditor;n&&t.target.ownerDocument==document&&(n.selection&&(n.selection.lastFocusBookmark=l(n.dom,n.lastRng)),u(t.target)||e.focusedEditor!=n||(n.fire("blur",{focusedEditor:null}),e.focusedEditor=null))},a.bind(document,"focusin",r)),d.inline&&!o&&(o=function(t){var n=e.activeEditor;if(n.inline&&!n.dom.isChildOf(t.target,n.getBody())){var i=n.selection.getRng();i.collapsed||(n.lastRng=i)}},a.bind(document,"mouseup",o))}function f(t){e.focusedEditor==t.editor&&(e.focusedEditor=null),e.activeEditor||(a.unbind(document,"selectionchange",i),a.unbind(document,"focusin",r),a.unbind(document,"mouseup",o),i=r=o=null)}e.on("AddEditor",d),e.on("RemoveEditor",f)}var i,r,o,a=e.DOM;return n.isEditorUIElement=function(e){return-1!==e.className.toString().indexOf("mce-")},n}),i(ut,[st,v,O,m,f,rt,lt,ct],function(e,t,n,i,r,o,a,s){function l(e){var t,n=d.editors;delete n[e.id];for(var i=0;i<n.length;i++)if(n[i]==e){n.splice(i,1),t=!0;break}return d.activeEditor==e&&(d.activeEditor=n[0]),d.focusedEditor==e&&(d.focusedEditor=null),t}function c(e){return e&&!(e.getContainer()||e.getBody()).parentNode&&(l(e),e.destroy(!0),e=null),e}var u,d,f=t.DOM,h=r.explode,p=r.each,m=r.extend,g=0;return d={majorVersion:"4",minorVersion:"0.26",releaseDate:"2014-05-06",editors:[],i18n:a,activeEditor:null,setup:function(){var e,t,i,r,o=this,a="";if(t=document.location.href.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/"),i=window.tinymce||window.tinyMCEPreInit)e=i.base||i.baseURL,a=i.suffix;else{for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++)if(r=l[c].src,/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(r)){-1!=r.indexOf(".min")&&(a=".min"),e=r.substring(0,r.lastIndexOf("/"));break}!e&&document.currentScript&&(r=document.currentScript.src,-1!=r.indexOf(".min")&&(a=".min"),e=r.substring(0,r.lastIndexOf("/")))}o.baseURL=new n(t).toAbsolute(e),o.documentBaseURL=t,o.baseURI=new n(o.baseURL),o.suffix=a,o.focusManager=new s(o)},init:function(t){function n(e){var t=e.id;return t||(t=e.name,t=t&&!f.get(t)?e.name:f.uniqueId(),e.setAttribute("id",t)),t}function i(t,n){if(!c(l.get(t))){var i=new e(t,n,l);u.push(i),i.render()}}function r(e,t,n){var i=e[t];return i?i.apply(n||this,Array.prototype.slice.call(arguments,2)):void 0}function o(e,t){return t.constructor===RegExp?t.test(e.className):f.hasClass(e,t)}function a(){var c,d;if(f.unbind(window,"ready",a),r(t,"onpageload"),t.types)return void p(t.types,function(e){p(f.select(e.selector),function(r){i(n(r),m({},t,e))})});if(t.selector)return void p(f.select(t.selector),function(e){i(n(e),t)});switch(t.mode){case"exact":c=t.elements||"",c.length>0&&p(h(c),function(n){f.get(n)?(s=new e(n,t,l),u.push(s),s.render()):p(document.forms,function(e){p(e.elements,function(e){e.name===n&&(n="mce_editor_"+g++,f.setAttrib(e,"id",n),i(n,t))})})});break;case"textareas":case"specific_textareas":p(f.select("textarea"),function(e){t.editor_deselector&&o(e,t.editor_deselector)||(!t.editor_selector||o(e,t.editor_selector))&&i(n(e),t)})}t.oninit&&(c=d=0,p(u,function(e){d++,e.initialized?c++:e.on("init",function(){c++,c==d&&r(t,"oninit")}),c==d&&r(t,"oninit")}))}var s,l=this,u=[];l.settings=t,f.bind(window,"ready",a)},get:function(e){return arguments.length?e in this.editors?this.editors[e]:null:this.editors},add:function(e){var t=this,n=t.editors;return n[e.id]=e,n.push(e),t.activeEditor=e,t.fire("AddEditor",{editor:e}),u||(u=function(){t.fire("BeforeUnload")},f.bind(window,"beforeunload",u)),e},createEditor:function(t,n){return this.add(new e(t,n,this))},remove:function(e){var t,n,i=this,r=i.editors;if(e)return"string"==typeof e?(e=e.selector||e,void p(f.select(e),function(e){i.remove(r[e.id])})):(n=e,r[n.id]?(l(n)&&i.fire("RemoveEditor",{editor:n}),r.length||f.unbind(window,"beforeunload",u),n.remove(),n):null);for(t=r.length-1;t>=0;t--)i.remove(r[t])},execCommand:function(t,n,i){var r=this,o=r.get(i);switch(t){case"mceAddEditor":return r.get(i)||new e(i,r.settings,r).render(),!0;case"mceRemoveEditor":return o&&o.remove(),!0;case"mceToggleEditor":return o?(o.isHidden()?o.show():o.hide(),!0):(r.execCommand("mceAddEditor",0,i),!0)}return r.activeEditor?r.activeEditor.execCommand(t,n,i):!1},triggerSave:function(){p(this.editors,function(e){e.save()})},addI18n:function(e,t){a.add(e,t)},translate:function(e){return a.translate(e)}},m(d,o),d.setup(),window.tinymce=window.tinyMCE=d,d}),i(dt,[ut,f],function(e,t){var n=t.each,i=t.explode;e.on("AddEditor",function(e){var t=e.editor;t.on("preInit",function(){function e(e,t){n(t,function(t,n){t&&s.setStyle(e,n,t)}),s.rename(e,"span")}function r(e){s=t.dom,l.convert_fonts_to_spans&&n(s.select("font,u,strike",e.node),function(e){o[e.nodeName.toLowerCase()](s,e)})}var o,a,s,l=t.settings;l.inline_styles&&(a=i(l.font_size_legacy_values),o={font:function(t,n){e(n,{backgroundColor:n.style.backgroundColor,color:n.color,fontFamily:n.face,fontSize:a[parseInt(n.size,10)-1]})},u:function(t,n){e(n,{textDecoration:"underline"})},strike:function(t,n){e(n,{textDecoration:"line-through"})}},t.on("PreProcess SetContent",r))})})}),i(ft,[],function(){return{send:function(e){function t(){!e.async||4==n.readyState||i++>1e4?(e.success&&1e4>i&&200==n.status?e.success.call(e.success_scope,""+n.responseText,n,e):e.error&&e.error.call(e.error_scope,i>1e4?"TIMED_OUT":"GENERAL",n,e),n=null):setTimeout(t,10)}var n,i=0;if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async===!1?!1:!0,e.data=e.data||"",n=new XMLHttpRequest){if(n.overrideMimeType&&n.overrideMimeType(e.content_type),n.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.content_type&&n.setRequestHeader("Content-Type",e.content_type),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.send(e.data),!e.async)return t();setTimeout(t,10)}}}}),i(ht,[],function(){function e(t,n){var i,r,o,a;if(n=n||'"',null===t)return"null";if(o=typeof t,"string"==o)return r="\bb	t\nn\ff\rr\"\"''\\\\",n+t.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(e,t){return'"'===n&&"'"===e?e:(i=r.indexOf(t),i+1?"\\"+r.charAt(i+1):(e=t.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e))})+n;if("object"==o){if(t.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(t)){for(i=0,r="[";i<t.length;i++)r+=(i>0?",":"")+e(t[i],n);return r+"]"}r="{";for(a in t)t.hasOwnProperty(a)&&(r+="function"!=typeof t[a]?(r.length>1?","+n:n)+a+n+":"+e(t[a],n):"");return r+"}"}return""+t}return{serialize:e,parse:function(e){try{return window[String.fromCharCode(101)+"val"]("("+e+")")}catch(t){}}}}),i(pt,[ht,ft,f],function(e,t,n){function i(e){this.settings=r({},e),this.count=0}var r=n.extend;return i.sendRPC=function(e){return(new i).send(e)},i.prototype={send:function(n){var i=n.error,o=n.success;n=r(this.settings,n),n.success=function(t,r){t=e.parse(t),"undefined"==typeof t&&(t={error:"JSON Parse error."}),t.error?i.call(n.error_scope||n.scope,t.error,r):o.call(n.success_scope||n.scope,t.result)},n.error=function(e,t){i&&i.call(n.error_scope||n.scope,e,t)},n.data=e.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),n.content_type="application/json",t.send(n)}},i}),i(mt,[v],function(e){return{callbacks:{},count:0,send:function(n){var i=this,r=e.DOM,o=n.count!==t?n.count:i.count,a="tinymce_jsonp_"+o;i.callbacks[o]=function(e){r.remove(a),delete i.callbacks[o],n.callback(e)},r.add(r.doc.body,"script",{id:a,src:n.url,type:"text/javascript"}),i.count++}}}),i(gt,[],function(){function e(){s=[];for(var e in a)s.push(e);r.length=s.length}function n(){function n(e){var n,i;return i=e!==t?u+e:r.indexOf(",",u),-1===i||i>r.length?null:(n=r.substring(u,i),u=i+1,n)}var i,r,s,u=0;if(a={},c){o.load(l),r=o.getAttribute(l)||"";do{var d=n();if(null===d)break;if(i=n(parseInt(d,32)||0),null!==i){if(d=n(),null===d)break;s=n(parseInt(d,32)||0),i&&(a[i]=s)}}while(null!==i);e()}}function i(){var t,n="";if(c){for(var i in a)t=a[i],n+=(n?",":"")+i.length.toString(32)+","+i+","+t.length.toString(32)+","+t;o.setAttribute(l,n);try{o.save(l)}catch(r){}e()}}var r,o,a,s,l,c;try{if(window.localStorage)return localStorage}catch(u){}return l="tinymce",o=document.documentElement,c=!!o.addBehavior,c&&o.addBehavior("#default#userData"),r={key:function(e){return s[e]},getItem:function(e){return e in a?a[e]:null},setItem:function(e,t){a[e]=""+t,i()},removeItem:function(e){delete a[e],i()},clear:function(){a={},i()}},n(),r}),i(vt,[v,s,b,y,f,m],function(e,t,n,i,r,o){var a=window.tinymce;return a.DOM=e.DOM,a.ScriptLoader=n.ScriptLoader,a.PluginManager=i.PluginManager,a.ThemeManager=i.ThemeManager,a.dom=a.dom||{},a.dom.Event=t.Event,r.each(r,function(e,t){a[t]=e}),r.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(e){a[e]=o[e.substr(2).toLowerCase()]}),{}}),i(bt,[H,f],function(e,t){return e.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(e){this.settings=t.extend({},this.Defaults,e)},preRender:function(e){e.addClass(this.settings.containerClass,"body")},applyClasses:function(e){var t,n,i,r=this,o=r.settings;t=e.items().filter(":visible"),n=o.firstControlClass,i=o.lastControlClass,t.each(function(e){e.removeClass(n).removeClass(i),o.controlClass&&e.addClass(o.controlClass)}),t.eq(0).addClass(n),t.eq(-1).addClass(i)},renderHtml:function(e){var t,n=this,i=n.settings,r="";return t=e.items(),t.eq(0).addClass(i.firstControlClass),t.eq(-1).addClass(i.lastControlClass),t.each(function(e){i.controlClass&&e.addClass(i.controlClass),r+=e.renderHtml()}),r},recalc:function(){},postRender:function(){}})}),i(yt,[bt],function(e){return e.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(e){e.items().filter(":visible").each(function(e){var t=e.settings;e.layoutRect({x:t.x,y:t.y,w:t.w,h:t.h}),e.recalc&&e.recalc()})},renderHtml:function(e){return'<div id="'+e._id+'-absend" class="'+e.classPrefix+'abs-end"></div>'+this._super(e)}})}),i(xt,[j,G],function(e,t){return e.extend({Mixins:[t],Defaults:{classes:"widget tooltip tooltip-n"},text:function(e){var t=this;return"undefined"!=typeof e?(t._value=e,t._rendered&&(t.getEl().lastChild.innerHTML=t.encode(e)),t):t._value},renderHtml:function(){var e=this,t=e.classPrefix;return'<div id="'+e._id+'" class="'+e.classes()+'" role="presentation"><div class="'+t+'tooltip-arrow"></div><div class="'+t+'tooltip-inner">'+e.encode(e._text)+"</div></div>"},repaint:function(){var e,t,n=this;e=n.getEl().style,t=n._layoutRect,e.left=t.x+"px",e.top=t.y+"px",e.zIndex=131070}})}),i(Ct,[j,xt],function(e,t){var n,i=e.extend({init:function(e){var t=this;t._super(e),e=t.settings,t.canFocus=!0,e.tooltip&&i.tooltips!==!1&&(t.on("mouseenter",function(n){var i=t.tooltip().moveTo(-65535);if(n.control==t){var r=i.text(e.tooltip).show().testMoveRel(t.getEl(),["bc-tc","bc-tl","bc-tr"]);i.toggleClass("tooltip-n","bc-tc"==r),i.toggleClass("tooltip-nw","bc-tl"==r),i.toggleClass("tooltip-ne","bc-tr"==r),i.moveRel(t.getEl(),r)}else i.hide()}),t.on("mouseleave mousedown click",function(){t.tooltip().hide()})),t.aria("label",e.ariaLabel||e.tooltip)},tooltip:function(){return n||(n=new t({type:"tooltip"}),n.renderTo()),n},active:function(e){var t,n=this;return e!==t&&(n.aria("pressed",e),n.toggleClass("active",e)),n._super(e)},disabled:function(e){var t,n=this;return e!==t&&(n.aria("disabled",e),n.toggleClass("disabled",e)),n._super(e)},postRender:function(){var e=this,t=e.settings;e._rendered=!0,e._super(),e.parent()||!t.width&&!t.height||(e.initLayoutRect(),e.repaint()),t.autofocus&&e.focus()},remove:function(){this._super(),n&&(n.remove(),n=null)}});return i}),i(wt,[Ct],function(e){return e.extend({Defaults:{classes:"widget btn",role:"button"},init:function(e){var t,n=this;n.on("click mousedown",function(e){e.preventDefault()}),n._super(e),t=e.size,e.subtype&&n.addClass(e.subtype),t&&n.addClass("btn-"+t)},icon:function(e){var t=this,n=t.classPrefix;if("undefined"==typeof e)return t.settings.icon;if(t.settings.icon=e,e=e?n+"ico "+n+"i-"+t.settings.icon:"",t._rendered){var i=t.getEl().firstChild,r=i.getElementsByTagName("i")[0];e?(r&&r==i.firstChild||(r=document.createElement("i"),i.insertBefore(r,i.firstChild)),r.className=e):r&&i.removeChild(r),t.text(t._text)}return t},repaint:function(){var e=this.getEl().firstChild.style;e.width=e.height="100%",this._super()},text:function(e){var t=this;if(t._rendered){var n=t.getEl().lastChild.lastChild;n&&(n.data=t.translate(e))}return t._super(e)},renderHtml:function(){var e,t=this,n=t._id,i=t.classPrefix,r=t.settings.icon;return e=t.settings.image,e?(r="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",r=t.settings.icon?i+"ico "+i+"i-"+r:"",'<div id="'+n+'" class="'+t.classes()+'" tabindex="-1" aria-labelledby="'+n+'"><button role="presentation" type="button" tabindex="-1">'+(r?'<i class="'+r+'"'+e+"></i>":"")+(t._text?(r?"\xa0":"")+t.encode(t._text):"")+"</button></div>"}})}),i(kt,[Y],function(e){return e.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var e=this,t=e._layout;return e.addClass("btn-group"),e.preRender(),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes()+'"><div id="'+e._id+'-body">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"}})}),i(_t,[Ct],function(e){return e.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(e){var t=this;t._super(e),t.on("click mousedown",function(e){e.preventDefault()}),t.on("click",function(e){e.preventDefault(),t.disabled()||t.checked(!t.checked())}),t.checked(t.settings.checked)},checked:function(e){var t=this;return"undefined"!=typeof e?(e?t.addClass("checked"):t.removeClass("checked"),t._checked=e,t.aria("checked",e),t):t._checked},value:function(e){return this.checked(e)},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;return'<div id="'+t+'" class="'+e.classes()+'" unselectable="on" aria-labelledby="'+t+'-al" tabindex="-1"><i class="'+n+"ico "+n+'i-checkbox"></i><span id="'+t+'-al" class="'+n+'label">'+e.encode(e._text)+"</span></div>"}})}),i(Et,[wt,Z],function(e,t){return e.extend({showPanel:function(){var e=this,n=e.settings;if(e.active(!0),e.panel)e.panel.show();else{var i=n.panel;i.type&&(i={layout:"grid",items:i}),i.role=i.role||"dialog",i.popover=!0,i.autohide=!0,i.ariaRoot=!0,e.panel=new t(i).on("hide",function(){e.active(!1)}).on("cancel",function(t){t.stopPropagation(),e.focus(),e.hidePanel()}).parent(e).renderTo(e.getContainerElm()),e.panel.fire("show"),e.panel.reflow()}e.panel.moveRel(e.getEl(),n.popoverAlign||(e.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){var e=this;e.panel&&e.panel.hide()},postRender:function(){var e=this;return e.aria("haspopup",!0),e.on("click",function(t){t.control===e&&(e.panel&&e.panel.visible()?e.hidePanel():(e.showPanel(),e.panel.focus(!!t.aria)))}),e._super()}})}),i(St,[Et,v],function(e,t){var n=t.DOM;return e.extend({init:function(e){this._super(e),this.addClass("colorbutton")},color:function(e){return e?(this._color=e,this.getEl("preview").style.backgroundColor=e,this):this._color},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,i=e.settings.icon?n+"ico "+n+"i-"+e.settings.icon:"",r=e.settings.image?" style=\"background-image: url('"+e.settings.image+"')\"":"";return'<div id="'+t+'" class="'+e.classes()+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(i?'<i class="'+i+'"'+r+"></i>":"")+'<span id="'+t+'-preview" class="'+n+'preview"></span>'+(e._text?(i?" ":"")+e._text:"")+'</button><button type="button" class="'+n+'open" hidefocus="1" tabindex="-1"> <i class="'+n+'caret"></i></button></div>'},postRender:function(){var e=this,t=e.settings.onclick;return e.on("click",function(i){i.aria&&"down"==i.aria.key||i.control!=e||n.getParent(i.target,"."+e.classPrefix+"open")||(i.stopImmediatePropagation(),t.call(e,i))}),delete e.settings.onclick,e._super()}})}),i(Nt,[Ct,U,q],function(e,t,n){return e.extend({init:function(e){var t=this;t._super(e),t.addClass("combobox"),t.subinput=!0,t.ariaTarget="inp",e=t.settings,e.menu=e.menu||e.values,e.menu&&(e.icon="caret"),t.on("click",function(n){for(var i=n.target,r=t.getEl();i&&i!=r;)i.id&&-1!=i.id.indexOf("-open")&&(t.fire("action"),e.menu&&(t.showMenu(),n.aria&&t.menu.items()[0].focus())),i=i.parentNode}),t.on("keydown",function(e){"INPUT"==e.target.nodeName&&13==e.keyCode&&t.parents().reverse().each(function(n){return e.preventDefault(),t.fire("change"),n.hasEventListeners("submit")&&n.toJSON?(n.fire("submit",{data:n.toJSON()}),!1):void 0})}),e.placeholder&&(t.addClass("placeholder"),t.on("focusin",function(){t._hasOnChange||(n.on(t.getEl("inp"),"change",function(){t.fire("change")}),t._hasOnChange=!0),t.hasClass("placeholder")&&(t.getEl("inp").value="",t.removeClass("placeholder"))}),t.on("focusout",function(){0===t.value().length&&(t.getEl("inp").value=e.placeholder,t.addClass("placeholder"))}))},showMenu:function(){var e,n=this,i=n.settings;n.menu||(e=i.menu||[],e.length?e={type:"menu",items:e}:e.type=e.type||"menu",n.menu=t.create(e).parent(n).renderTo(n.getContainerElm()),n.fire("createmenu"),n.menu.reflow(),n.menu.on("cancel",function(e){e.control===n.menu&&n.focus()}),n.menu.on("show hide",function(e){e.control.items().each(function(e){e.active(e.value()==n.value())})}).fire("show"),n.menu.on("select",function(e){n.value(e.control.value())
}),n.on("focusin",function(e){"INPUT"==e.target.tagName.toUpperCase()&&n.menu.hide()}),n.aria("expanded",!0)),n.menu.show(),n.menu.layoutRect({w:n.layoutRect().w}),n.menu.moveRel(n.getEl(),n.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},value:function(e){var t=this;return"undefined"!=typeof e?(t._value=e,t.removeClass("placeholder"),t._rendered&&(t.getEl("inp").value=e),t):t._rendered?(e=t.getEl("inp").value,e!=t.settings.placeholder?e:""):t._value},disabled:function(e){var t=this;return t._rendered&&"undefined"!=typeof e&&(t.getEl("inp").disabled=e),t._super(e)},focus:function(){this.getEl("inp").focus()},repaint:function(){var e,t,i=this,r=i.getEl(),o=i.getEl("open"),a=i.layoutRect();e=o?a.w-n.getSize(o).width-10:a.w-10;var s=document;return s.all&&(!s.documentMode||s.documentMode<=8)&&(t=i.layoutRect().h-2+"px"),n.css(r.firstChild,{width:e,lineHeight:t}),i._super(),i},postRender:function(){var e=this;return n.on(this.getEl("inp"),"change",function(){e.fire("change")}),e._super()},remove:function(){n.off(this.getEl("inp")),this._super()},renderHtml:function(){var e,t,n=this,i=n._id,r=n.settings,o=n.classPrefix,a=r.value||r.placeholder||"",s="",l="";return"spellcheck"in r&&(l+=' spellcheck="'+r.spellcheck+'"'),r.maxLength&&(l+=' maxlength="'+r.maxLength+'"'),r.size&&(l+=' size="'+r.size+'"'),r.subtype&&(l+=' type="'+r.subtype+'"'),n.disabled()&&(l+=' disabled="disabled"'),e=r.icon,e&&"caret"!=e&&(e=o+"ico "+o+"i-"+r.icon),t=n._text,(e||t)&&(s='<div id="'+i+'-open" class="'+o+"btn "+o+'open" tabIndex="-1" role="button"><button id="'+i+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=e?'<i class="'+e+'"></i>':'<i class="'+o+'caret"></i>')+(t?(e?" ":"")+t:"")+"</button></div>",n.addClass("has-open")),'<div id="'+i+'" class="'+n.classes()+'"><input id="'+i+'-inp" class="'+o+"textbox "+o+'placeholder" value="'+a+'" hidefocus="1"'+l+" />"+s+"</div>"}})}),i(Tt,[Ct],function(e){return e.extend({init:function(e){var t=this;e.delimiter||(e.delimiter="\xbb"),t._super(e),t.addClass("path"),t.canFocus=!0,t.on("click",function(e){var n,i=e.target;(n=i.getAttribute("data-index"))&&t.fire("select",{value:t.data()[n],index:n})})},focus:function(){var e=this;return e.getEl().firstChild.focus(),e},data:function(e){var t=this;return"undefined"!=typeof e?(t._data=e,t.update(),t):t._data},update:function(){this.innerHtml(this._getPathHtml())},postRender:function(){var e=this;e._super(),e.data(e.settings.data)},renderHtml:function(){var e=this;return'<div id="'+e._id+'" class="'+e.classes()+'">'+e._getPathHtml()+"</div>"},_getPathHtml:function(){var e,t,n=this,i=n._data||[],r="",o=n.classPrefix;for(e=0,t=i.length;t>e;e++)r+=(e>0?'<div class="'+o+'divider" aria-hidden="true"> '+n.settings.delimiter+" </div>":"")+'<div role="button" class="'+o+"path-item"+(e==t-1?" "+o+"last":"")+'" data-index="'+e+'" tabindex="-1" id="'+n._id+"-"+e+'" aria-level="'+e+'">'+i[e].name+"</div>";return r||(r='<div class="'+o+'path-item">\xa0</div>'),r}})}),i(Mt,[Tt,ut],function(e,t){return e.extend({postRender:function(){function e(e){if(1===e.nodeType){if("BR"==e.nodeName||e.getAttribute("data-mce-bogus"))return!0;if("bookmark"===e.getAttribute("data-mce-type"))return!0}return!1}var n=this,i=t.activeEditor;return n.on("select",function(t){var n,r=[],o=i.getBody();for(i.focus(),n=i.selection.getStart();n&&n!=o;)e(n)||r.push(n),n=n.parentNode;i.selection.select(r[r.length-1-t.index]),i.nodeChanged()}),i.on("nodeChange",function(t){for(var r=[],o=t.parents,a=o.length;a--;)if(1==o[a].nodeType&&!e(o[a])){var s=i.fire("ResolveName",{name:o[a].nodeName.toLowerCase(),target:o[a]});r.push({name:s.name})}n.data(r)}),n._super()}})}),i(At,[Y],function(e){return e.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.addClass("formitem"),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes()+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<div id="'+e._id+'-title" class="'+n+'title">'+e.settings.title+"</div>":"")+'<div id="'+e._id+'-body" class="'+e.classes("body")+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"}})}),i(Rt,[Y,At],function(e,t){return e.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var e=this,n=e.items();n.each(function(n){var i,r=n.settings.label;r&&(i=new t({layout:"flex",autoResize:"overflow",defaults:{flex:1},items:[{type:"label",id:n._id+"-l",text:r,flex:0,forId:n._id,disabled:n.disabled()}]}),i.type="formitem",n.aria("labelledby",n._id+"-l"),"undefined"==typeof n.settings.flex&&(n.settings.flex=1),e.replace(n,i),i.add(n))})},recalcLabels:function(){var e,t,n=this,i=0,r=[];if(n.settings.labelGapCalc!==!1)for(n.items().filter("formitem").each(function(e){var t=e.items()[0],n=t.getEl().clientWidth;i=n>i?n:i,r.push(t)}),t=n.settings.labelGap||0,e=r.length;e--;)r[e].settings.minWidth=i+t},visible:function(e){var t=this._super(e);return e===!0&&this._rendered&&this.recalcLabels(),t},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var e=this;e._super(),e.recalcLabels(),e.fromJSON(e.settings.data)}})}),i(Dt,[Rt],function(e){return e.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.preRender(),t.preRender(e),'<fieldset id="'+e._id+'" class="'+e.classes()+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<legend id="'+e._id+'-title" class="'+n+'fieldset-title">'+e.settings.title+"</legend>":"")+'<div id="'+e._id+'-body" class="'+e.classes("body")+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></fieldset>"}})}),i(Pt,[Nt],function(e){return e.extend({init:function(e){var t,n=this,i=tinymce.activeEditor;e.spellcheck=!1,t=i.settings.file_browser_callback,t&&(e.icon="browse",e.onaction=function(){t(n.getEl("inp").id,n.getEl("inp").value,e.filetype,window)}),n._super(e)}})}),i(Bt,[yt],function(e){return e.extend({recalc:function(e){var t=e.layoutRect(),n=e.paddingBox();e.items().filter(":visible").each(function(e){e.layoutRect({x:n.left,y:n.top,w:t.innerW-n.right-n.left,h:t.innerH-n.top-n.bottom}),e.recalc&&e.recalc()})}})}),i(It,[yt],function(e){return e.extend({recalc:function(e){var t,n,i,r,o,a,s,l,c,u,d,f,h,p,m,g,v,b,y,x,C,w,k,_,E,S,N,T,M,A,R,D,P,B,I,L,F,O,H=[],z=Math.max,W=Math.min;for(i=e.items().filter(":visible"),r=e.layoutRect(),o=e._paddingBox,a=e.settings,f=e.isRtl()?a.direction||"row-reversed":a.direction,s=a.align,l=e.isRtl()?a.pack||"end":a.pack,c=a.spacing||0,("row-reversed"==f||"column-reverse"==f)&&(i=i.set(i.toArray().reverse()),f=f.split("-")[0]),"column"==f?(E="y",k="h",_="minH",S="maxH",T="innerH",N="top",M="deltaH",A="contentH",I="left",P="w",R="x",D="innerW",B="minW",L="right",F="deltaW",O="contentW"):(E="x",k="w",_="minW",S="maxW",T="innerW",N="left",M="deltaW",A="contentW",I="top",P="h",R="y",D="innerH",B="minH",L="bottom",F="deltaH",O="contentH"),d=r[T]-o[N]-o[N],w=u=0,t=0,n=i.length;n>t;t++)h=i[t],p=h.layoutRect(),m=h.settings,g=m.flex,d-=n-1>t?c:0,g>0&&(u+=g,p[S]&&H.push(h),p.flex=g),d-=p[_],v=o[I]+p[B]+o[L],v>w&&(w=v);if(x={},x[_]=0>d?r[_]-d+r[M]:r[T]-d+r[M],x[B]=w+r[F],x[A]=r[T]-d,x[O]=w,x.minW=W(x.minW,r.maxW),x.minH=W(x.minH,r.maxH),x.minW=z(x.minW,r.startMinWidth),x.minH=z(x.minH,r.startMinHeight),!r.autoResize||x.minW==r.minW&&x.minH==r.minH){for(y=d/u,t=0,n=H.length;n>t;t++)h=H[t],p=h.layoutRect(),b=p[S],v=p[_]+p.flex*y,v>b?(d-=p[S]-p[_],u-=p.flex,p.flex=0,p.maxFlexSize=b):p.maxFlexSize=0;for(y=d/u,C=o[N],x={},0===u&&("end"==l?C=d+o[N]:"center"==l?(C=Math.round(r[T]/2-(r[T]-d)/2)+o[N],0>C&&(C=o[N])):"justify"==l&&(C=o[N],c=Math.floor(d/(i.length-1)))),x[R]=o[I],t=0,n=i.length;n>t;t++)h=i[t],p=h.layoutRect(),v=p.maxFlexSize||p[_],"center"===s?x[R]=Math.round(r[D]/2-p[P]/2):"stretch"===s?(x[P]=z(p[B]||0,r[D]-o[I]-o[L]),x[R]=o[I]):"end"===s&&(x[R]=r[D]-p[P]-o.top),p.flex>0&&(v+=p.flex*y),x[k]=v,x[E]=C,h.layoutRect(x),h.recalc&&h.recalc(),C+=v+c}else if(x.w=x.minW,x.h=x.minH,e.layoutRect(x),this.recalc(e),null===e._lastRect){var $=e.parent();$&&($._lastRect=null,$.recalc())}}})}),i(Lt,[bt],function(e){return e.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(e){e.items().filter(":visible").each(function(e){e.recalc&&e.recalc()})}})}),i(Ft,[j,Ct,Z,f,ut,m],function(e,t,n,i,r,o){function a(e){function t(t,n){return function(){var i=this;e.on("nodeChange",function(r){var o=e.formatter,a=null;s(r.parents,function(e){return s(t,function(t){return n?o.matchNode(e,n,{value:t.value})&&(a=t.value):o.matchNode(e,t.value)&&(a=t.value),a?!1:void 0}),a?!1:void 0}),i.value(a)})}}function i(e){e=e.replace(/;$/,"").split(";");for(var t=e.length;t--;)e[t]=e[t].split("=");return e}function r(){function t(e){var n=[];return e?(s(e,function(e){var o={text:e.title,icon:e.icon};if(e.items)o.menu=t(e.items);else{var a=e.format||"custom"+i++;e.format||(e.name=a,r.push(e)),o.format=a}n.push(o)}),n):void 0}function n(){var n;return n=t(e.settings.style_formats_merge?e.settings.style_formats?o.concat(e.settings.style_formats):o:e.settings.style_formats||o)}var i=0,r=[],o=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];return e.on("init",function(){s(r,function(t){e.formatter.register(t.name,t)})}),{type:"menu",items:n(),onPostRender:function(t){e.fire("renderFormatsMenu",{control:t.control})},itemDefaults:{preview:!0,textStyle:function(){return this.settings.format?e.formatter.getCssText(this.settings.format):void 0},onPostRender:function(){var t=this,n=this.settings.format;n&&t.parent().on("show",function(){t.disabled(!e.formatter.canApply(n)),t.active(e.formatter.match(n))})},onclick:function(){this.settings.format&&d(this.settings.format)}}}}function o(){return e.undoManager?e.undoManager.hasUndo():!1}function a(){return e.undoManager?e.undoManager.hasRedo():!1}function l(){var t=this;t.disabled(!o()),e.on("Undo Redo AddUndo TypingUndo",function(){t.disabled(!o())})}function c(){var t=this;t.disabled(!a()),e.on("Undo Redo AddUndo TypingUndo",function(){t.disabled(!a())})}function u(){var t=this;e.on("VisualAid",function(e){t.active(e.hasVisual)}),t.active(e.hasVisual)}function d(t){t.control&&(t=t.control.value()),t&&e.execCommand("mceToggleFormat",!1,t)}var f;f=r(),s({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(t,n){e.addButton(n,{tooltip:t,onPostRender:function(){var t=this;e.formatter?e.formatter.formatChanged(n,function(e){t.active(e)}):e.on("init",function(){e.formatter.formatChanged(n,function(e){t.active(e)})})},onclick:function(){d(n)}})}),s({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],hr:["Insert horizontal rule","InsertHorizontalRule"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(t,n){e.addButton(n,{tooltip:t[0],cmd:t[1]})}),s({blockquote:["Blockquote","mceBlockQuote"],numlist:["Numbered list","InsertOrderedList"],bullist:["Bullet list","InsertUnorderedList"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"]},function(t,n){e.addButton(n,{tooltip:t[0],cmd:t[1],onPostRender:function(){var t=this;e.formatter?e.formatter.formatChanged(n,function(e){t.active(e)}):e.on("init",function(){e.formatter.formatChanged(n,function(e){t.active(e)})})}})}),e.addButton("undo",{tooltip:"Undo",onPostRender:l,cmd:"undo"}),e.addButton("redo",{tooltip:"Redo",onPostRender:c,cmd:"redo"}),e.addMenuItem("newdocument",{text:"New document",shortcut:"Ctrl+N",icon:"newdocument",cmd:"mceNewDocument"}),e.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Ctrl+Z",onPostRender:l,cmd:"undo"}),e.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Ctrl+Y",onPostRender:c,cmd:"redo"}),e.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:u,cmd:"mceToggleVisualAid"}),s({cut:["Cut","Cut","Ctrl+X"],copy:["Copy","Copy","Ctrl+C"],paste:["Paste","Paste","Ctrl+V"],selectall:["Select all","SelectAll","Ctrl+A"],bold:["Bold","Bold","Ctrl+B"],italic:["Italic","Italic","Ctrl+I"],underline:["Underline","Underline"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(t,n){e.addMenuItem(n,{text:t[0],icon:n,shortcut:t[2],cmd:t[1]})}),e.on("mousedown",function(){n.hideAll()}),e.addButton("styleselect",{type:"menubutton",text:"Formats",menu:f}),e.addButton("formatselect",function(){var n=[],r=i(e.settings.block_formats||"Paragraph=p;Address=address;Pre=pre;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6");return s(r,function(t){n.push({text:t[0],value:t[1],textStyle:function(){return e.formatter.getCssText(t[1])}})}),{type:"listbox",text:r[0][0],values:n,fixedWidth:!0,onselect:d,onPostRender:t(n)}}),e.addButton("fontselect",function(){var n="Andale Mono=andale mono,times;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier;Georgia=georgia,palatino;Helvetica=helvetica;Impact=impact,chicago;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco;Times New Roman=times new roman,times;Trebuchet MS=trebuchet ms,geneva;Verdana=verdana,geneva;Webdings=webdings;Wingdings=wingdings,zapf dingbats",r=[],o=i(e.settings.font_formats||n);return s(o,function(e){r.push({text:{raw:e[0]},value:e[1],textStyle:-1==e[1].indexOf("dings")?"font-family:"+e[1]:""})}),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:r,fixedWidth:!0,onPostRender:t(r,"fontname"),onselect:function(t){t.control.settings.value&&e.execCommand("FontName",!1,t.control.settings.value)}}}),e.addButton("fontsizeselect",function(){var n=[],i="8pt 10pt 12pt 14pt 18pt 24pt 36pt",r=e.settings.fontsize_formats||i;return s(r.split(" "),function(e){n.push({text:e,value:e})}),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:n,fixedWidth:!0,onPostRender:t(n,"fontsize"),onclick:function(t){t.control.settings.value&&e.execCommand("FontSize",!1,t.control.settings.value)}}}),e.addMenuItem("formats",{text:"Formats",menu:f})}var s=i.each;r.on("AddEditor",function(t){t.editor.rtl&&(e.rtl=!0),a(t.editor)}),e.translate=function(e){return r.translate(e)},t.tooltips=!o.iOS}),i(Ot,[yt],function(e){return e.extend({recalc:function(e){var t,n,i,r,o,a,s,l,c,u,d,f,h,p,m,g,v,b,y,x,C,w,k,_,E,S,N=e.settings,T=[],M=[];for(N=e.settings,i=e.items().filter(":visible"),r=e.layoutRect(),n=N.columns||Math.ceil(Math.sqrt(i.length)),t=Math.ceil(i.length/n),v=N.spacingH||N.spacing||0,b=N.spacingV||N.spacing||0,y=N.alignH||N.align,x=N.alignV||N.align,m=e._paddingBox,y&&"string"==typeof y&&(y=[y]),x&&"string"==typeof x&&(x=[x]),u=0;n>u;u++)T.push(0);for(d=0;t>d;d++)M.push(0);for(d=0;t>d;d++)for(u=0;n>u&&(c=i[d*n+u]);u++)l=c.layoutRect(),k=l.minW,_=l.minH,T[u]=k>T[u]?k:T[u],M[d]=_>M[d]?_:M[d];for(E=r.innerW-m.left-m.right,C=0,u=0;n>u;u++)C+=T[u]+(u>0?v:0),E-=(u>0?v:0)+T[u];for(S=r.innerH-m.top-m.bottom,w=0,d=0;t>d;d++)w+=M[d]+(d>0?b:0),S-=(d>0?b:0)+M[d];if(C+=m.left+m.right,w+=m.top+m.bottom,s={},s.minW=C+(r.w-r.innerW),s.minH=w+(r.h-r.innerH),s.contentW=s.minW-r.deltaW,s.contentH=s.minH-r.deltaH,s.minW=Math.min(s.minW,r.maxW),s.minH=Math.min(s.minH,r.maxH),s.minW=Math.max(s.minW,r.startMinWidth),s.minH=Math.max(s.minH,r.startMinHeight),!r.autoResize||s.minW==r.minW&&s.minH==r.minH){r.autoResize&&(s=e.layoutRect(s),s.contentW=s.minW-r.deltaW,s.contentH=s.minH-r.deltaH);var A;A="start"==N.packV?0:S>0?Math.floor(S/t):0;var R=0,D=N.flexWidths;if(D)for(u=0;u<D.length;u++)R+=D[u];else R=n;var P=E/R;for(u=0;n>u;u++)T[u]+=D?D[u]*P:P;for(h=m.top,d=0;t>d;d++){for(f=m.left,a=M[d]+A,u=0;n>u&&(c=i[d*n+u]);u++)p=c.settings,l=c.layoutRect(),o=Math.max(T[u],l.startMinWidth),l.x=f,l.y=h,g=p.alignH||(y?y[u]||y[0]:null),"center"==g?l.x=f+o/2-l.w/2:"right"==g?l.x=f+o-l.w:"stretch"==g&&(l.w=o),g=p.alignV||(x?x[u]||x[0]:null),"center"==g?l.y=h+a/2-l.h/2:"bottom"==g?l.y=h+a-l.h:"stretch"==g&&(l.h=a),c.layoutRect(l),f+=o+v,c.recalc&&c.recalc();h+=a+b}}else if(s.w=s.minW,s.h=s.minH,e.layoutRect(s),this.recalc(e),null===e._lastRect){var B=e.parent();B&&(B._lastRect=null,B.recalc())}}})}),i(Ht,[Ct],function(e){return e.extend({renderHtml:function(){var e=this;return e.addClass("iframe"),e.canFocus=!1,'<iframe id="'+e._id+'" class="'+e.classes()+'" tabindex="-1" src="'+(e.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(e){this.getEl().src=e},html:function(e,t){var n=this,i=this.getEl().contentWindow.document.body;return i?(i.innerHTML=e,t&&t()):setTimeout(function(){n.html(e)},0),this}})}),i(zt,[Ct,q],function(e,t){return e.extend({init:function(e){var t=this;t._super(e),t.addClass("widget"),t.addClass("label"),t.canFocus=!1,e.multiline&&t.addClass("autoscroll"),e.strong&&t.addClass("strong")},initLayoutRect:function(){var e=this,n=e._super();if(e.settings.multiline){var i=t.getSize(e.getEl());i.width>n.maxW&&(n.minW=n.maxW,e.addClass("multiline")),e.getEl().style.width=n.minW+"px",n.startMinH=n.h=n.minH=Math.min(n.maxH,t.getSize(e.getEl()).height)}return n},repaint:function(){var e=this;return e.settings.multiline||(e.getEl().style.lineHeight=e.layoutRect().h+"px"),e._super()},text:function(e){var t=this;return t._rendered&&e&&this.innerHtml(t.encode(e)),t._super(e)},renderHtml:function(){var e=this,t=e.settings.forId;return'<label id="'+e._id+'" class="'+e.classes()+'"'+(t?' for="'+t+'"':"")+">"+e.encode(e._text)+"</label>"}})}),i(Wt,[Y],function(e){return e.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(e){var t=this;t._super(e),t.addClass("toolbar")},postRender:function(){var e=this;return e.items().addClass("toolbar-item"),e._super()}})}),i($t,[Wt],function(e){return e.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})}),i(qt,[wt,U,$t],function(e,t,n){function i(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1}var r=e.extend({init:function(e){var t=this;t._renderOpen=!0,t._super(e),t.addClass("menubtn"),e.fixedWidth&&t.addClass("fixed-width"),t.aria("haspopup",!0),t.hasPopup=!0},showMenu:function(){var e,n=this,i=n.settings;return n.menu&&n.menu.visible()?n.hideMenu():(n.menu||(e=i.menu||[],e.length?e={type:"menu",items:e}:e.type=e.type||"menu",n.menu=t.create(e).parent(n).renderTo(),n.fire("createmenu"),n.menu.reflow(),n.menu.on("cancel",function(e){e.control.parent()===n.menu&&(e.stopPropagation(),n.focus(),n.hideMenu())}),n.menu.on("select",function(){n.focus()}),n.menu.on("show hide",function(e){e.control==n.menu&&n.activeMenu("show"==e.type),n.aria("expanded","show"==e.type)}).fire("show")),n.menu.show(),n.menu.layoutRect({w:n.layoutRect().w}),void n.menu.moveRel(n.getEl(),n.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]))},hideMenu:function(){var e=this;e.menu&&(e.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),e.menu.hide())},activeMenu:function(e){this.toggleClass("active",e)},renderHtml:function(){var e=this,t=e._id,i=e.classPrefix,r=e.settings.icon?i+"ico "+i+"i-"+e.settings.icon:"";return e.aria("role",e.parent()instanceof n?"menuitem":"button"),'<div id="'+t+'" class="'+e.classes()+'" tabindex="-1" aria-labelledby="'+t+'"><button id="'+t+'-open" role="presentation" type="button" tabindex="-1">'+(r?'<i class="'+r+'"></i>':"")+"<span>"+(e._text?(r?"\xa0":"")+e.encode(e._text):"")+'</span> <i class="'+i+'caret"></i></button></div>'},postRender:function(){var e=this;return e.on("click",function(t){t.control===e&&i(t.target,e.getEl())&&(e.showMenu(),t.aria&&e.menu.items()[0].focus())}),e.on("mouseenter",function(t){var n,i=t.control,o=e.parent();i&&o&&i instanceof r&&i.parent()==o&&(o.items().filter("MenuButton").each(function(e){e.hideMenu&&e!=i&&(e.menu&&e.menu.visible()&&(n=!0),e.hideMenu())}),n&&(i.focus(),i.showMenu()))}),e._super()},text:function(e){var t,n,i=this;if(i._rendered)for(n=i.getEl("open").getElementsByTagName("span"),t=0;t<n.length;t++)n[t].innerHTML=(i.settings.icon&&e?"\xa0":"")+i.encode(e);return this._super(e)},remove:function(){this._super(),this.menu&&this.menu.remove()}});return r}),i(jt,[qt],function(e){return e.extend({init:function(e){var t,n,i,r,o,a=this;if(a._values=t=e.values,t){for(n=0;n<t.length;n++)if(i=t[n].selected||e.value===t[n].value){r=r||t[n].text,a._value=t[n].value;break}!i&&t.length>0&&(r=t[0].text,a._value=t[0].value),e.menu=t}e.text=e.text||r||t[0].text,a._super(e),a.addClass("listbox"),a.on("select",function(t){var n=t.control;o&&(t.lastControl=o),e.multiple?n.active(!n.active()):a.value(t.control.settings.value),o=n})},value:function(e){function t(e,r){e.items().each(function(e){n=e.value()===r,n&&(i=i||e.text()),e.active(n),e.menu&&t(e.menu,r)})}var n,i,r,o,a=this;if("undefined"!=typeof e){if(a.menu)t(a.menu,e);else for(r=a.settings.menu,o=0;o<r.length;o++)n=r[o].value==e,n&&(i=i||r[o].text),r[o].active=n;a.text(i||this.settings.text)}return a._super(e)}})}),i(Ut,[Ct,U,m],function(e,t,n){return e.extend({Defaults:{border:0,role:"menuitem"},init:function(e){var t=this;t.hasPopup=!0,t._super(e),e=t.settings,t.addClass("menu-item"),e.menu&&t.addClass("menu-item-expand"),e.preview&&t.addClass("menu-item-preview"),("-"===t._text||"|"===t._text)&&(t.addClass("menu-item-sep"),t.aria("role","separator"),t._text="-"),e.selectable&&(t.aria("role","menuitemcheckbox"),t.addClass("menu-item-checkbox"),e.icon="selected"),e.preview||e.selectable||t.addClass("menu-item-normal"),t.on("mousedown",function(e){e.preventDefault()}),e.menu&&!e.ariaHideMenu&&t.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var e,n=this,i=n.settings,r=n.parent();if(r.items().each(function(e){e!==n&&e.hideMenu()}),i.menu){e=n.menu,e?e.show():(e=i.menu,e.length?e={type:"menu",items:e}:e.type=e.type||"menu",r.settings.itemDefaults&&(e.itemDefaults=r.settings.itemDefaults),e=n.menu=t.create(e).parent(n).renderTo(),e.reflow(),e.fire("show"),e.on("cancel",function(t){t.stopPropagation(),n.focus(),e.hide()}),e.on("hide",function(t){t.control===e&&n.removeClass("selected")}),e.submenu=!0),e._parentMenu=r,e.addClass("menu-sub");var o=e.testMoveRel(n.getEl(),n.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);e.moveRel(n.getEl(),o),e.rel=o,o="menu-sub-"+o,e.removeClass(e._lastRel),e.addClass(o),e._lastRel=o,n.addClass("selected"),n.aria("expanded",!0)}},hideMenu:function(){var e=this;return e.menu&&(e.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),e.menu.hide(),e.aria("expanded",!1)),e},renderHtml:function(){var e=this,t=e._id,i=e.settings,r=e.classPrefix,o=e.encode(e._text),a=e.settings.icon,s="",l=i.shortcut;return a&&e.parent().addClass("menu-has-icons"),i.image&&(a="none",s=" style=\"background-image: url('"+i.image+"')\""),l&&n.mac&&(l=l.replace(/ctrl\+alt\+/i,"&#x2325;&#x2318;"),l=l.replace(/ctrl\+/i,"&#x2318;"),l=l.replace(/alt\+/i,"&#x2325;"),l=l.replace(/shift\+/i,"&#x21E7;")),a=r+"ico "+r+"i-"+(e.settings.icon||"none"),'<div id="'+t+'" class="'+e.classes()+'" tabindex="-1">'+("-"!==o?'<i class="'+a+'"'+s+"></i>\xa0":"")+("-"!==o?'<span id="'+t+'-text" class="'+r+'text">'+o+"</span>":"")+(l?'<div id="'+t+'-shortcut" class="'+r+'menu-shortcut">'+l+"</div>":"")+(i.menu?'<div class="'+r+'caret"></div>':"")+"</div>"},postRender:function(){var e=this,t=e.settings,n=t.textStyle;if("function"==typeof n&&(n=n.call(this)),n){var i=e.getEl("text");i&&i.setAttribute("style",n)}return e.on("mouseenter click",function(n){n.control===e&&(t.menu||"click"!==n.type?(e.showMenu(),n.aria&&e.menu.focus(!0)):(e.fire("select"),e.parent().hideAll()))}),e._super(),e},active:function(e){return"undefined"!=typeof e&&this.aria("checked",e),this._super(e)},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),i(Vt,[Z,Ut,f],function(e,t,n){var i=e.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(e){var t=this;if(e.autohide=!0,e.constrainToViewport=!0,e.itemDefaults)for(var i=e.items,r=i.length;r--;)i[r]=n.extend({},e.itemDefaults,i[r]);t._super(e),t.addClass("menu")},repaint:function(){return this.toggleClass("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){var e=this;e.hideAll(),e.fire("select")},hideAll:function(){var e=this;return this.find("menuitem").exec("hideMenu"),e._super()},preRender:function(){var e=this;return e.items().each(function(t){var n=t.settings;return n.icon||n.selectable?(e._hasIcons=!0,!1):void 0}),e._super()}});return i}),i(Yt,[_t],function(e){return e.extend({Defaults:{classes:"radio",role:"radio"}})}),i(Xt,[Ct,X],function(e,t){return e.extend({renderHtml:function(){var e=this,t=e.classPrefix;return e.addClass("resizehandle"),"both"==e.settings.direction&&e.addClass("resizehandle-both"),e.canFocus=!1,'<div id="'+e._id+'" class="'+e.classes()+'"><i class="'+t+"ico "+t+'i-resize"></i></div>'},postRender:function(){var e=this;e._super(),e.resizeDragHelper=new t(this._id,{start:function(){e.fire("ResizeStart")},drag:function(t){"both"!=e.settings.direction&&(t.deltaX=0),e.fire("Resize",t)},stop:function(){e.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}})}),i(Kt,[Ct],function(e){return e.extend({renderHtml:function(){var e=this;return e.addClass("spacer"),e.canFocus=!1,'<div id="'+e._id+'" class="'+e.classes()+'"></div>'}})}),i(Qt,[qt,q],function(e,t){return e.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var e,n,i=this,r=i.getEl(),o=i.layoutRect();return i._super(),e=r.firstChild,n=r.lastChild,t.css(e,{width:o.w-t.getSize(n).width,height:o.h-2}),t.css(n,{height:o.h-2}),i},activeMenu:function(e){var n=this;t.toggleClass(n.getEl().lastChild,n.classPrefix+"active",e)},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,i=e.settings.icon?n+"ico "+n+"i-"+e.settings.icon:"";return'<div id="'+t+'" class="'+e.classes()+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(i?'<i class="'+i+'"></i>':"")+(e._text?(i?" ":"")+e._text:"")+'</button><button type="button" class="'+n+'open" hidefocus="1" tabindex="-1">'+(e._menuBtnText?(i?"\xa0":"")+e._menuBtnText:"")+' <i class="'+n+'caret"></i></button></div>'},postRender:function(){var e=this,t=e.settings.onclick;return e.on("click",function(e){var n=e.target;if(e.control==this)for(;n;){if(e.aria&&"down"!=e.aria.key||"BUTTON"==n.nodeName&&-1==n.className.indexOf("open"))return e.stopImmediatePropagation(),void t.call(this,e);n=n.parentNode}}),delete e.settings.onclick,e._super()}})}),i(Gt,[Lt],function(e){return e.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"}})}),i(Jt,[Q,q],function(e,t){return e.extend({lastIdx:0,Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(e){var n;this.activeTabId&&(n=this.getEl(this.activeTabId),t.removeClass(n,this.classPrefix+"active"),n.setAttribute("aria-selected","false")),this.activeTabId="t"+e,n=this.getEl("t"+e),n.setAttribute("aria-selected","true"),t.addClass(n,this.classPrefix+"active"),e!=this.lastIdx&&(this.items()[this.lastIdx].hide(),this.lastIdx=e),this.items()[e].show().fire("showtab"),this.reflow()},renderHtml:function(){var e=this,t=e._layout,n="",i=e.classPrefix;return e.preRender(),t.preRender(e),e.items().each(function(t,r){var o=e._id+"-t"+r;t.aria("role","tabpanel"),t.aria("labelledby",o),n+='<div id="'+o+'" class="'+i+'tab" unselectable="on" role="tab" aria-controls="'+t._id+'" aria-selected="false" tabIndex="-1">'+e.encode(t.settings.title)+"</div>"}),'<div id="'+e._id+'" class="'+e.classes()+'" hidefocus="1" tabindex="-1"><div id="'+e._id+'-head" class="'+i+'tabs" role="tablist">'+n+'</div><div id="'+e._id+'-body" class="'+e.classes("body")+'">'+t.renderHtml(e)+"</div></div>"},postRender:function(){var e=this;e._super(),e.settings.activeTab=e.settings.activeTab||0,e.activateTab(e.settings.activeTab),this.on("click",function(t){var n=t.target.parentNode;if(t.target.parentNode.id==e._id+"-head")for(var i=n.childNodes.length;i--;)n.childNodes[i]==t.target&&e.activateTab(i)})},initLayoutRect:function(){var e,n,i,r=this;n=t.getSize(r.getEl("head")).width,n=0>n?0:n,i=0,r.items().each(function(e,t){n=Math.max(n,e.layoutRect().minW),i=Math.max(i,e.layoutRect().minH),r.settings.activeTab!=t&&e.hide()}),r.items().each(function(e){e.settings.x=0,e.settings.y=0,e.settings.w=n,e.settings.h=i,e.layoutRect({x:0,y:0,w:n,h:i})});var o=t.getSize(r.getEl("head")).height;return r.settings.minWidth=n,r.settings.minHeight=i+o,e=r._super(),e.deltaH+=o,e.innerH=e.h-e.deltaH,e}})}),i(Zt,[Ct,q],function(e,t){return e.extend({init:function(e){var t=this;t._super(e),t._value=e.value||"",t.addClass("textbox"),e.multiline?t.addClass("multiline"):t.on("keydown",function(e){13==e.keyCode&&t.parents().reverse().each(function(t){return e.preventDefault(),t.hasEventListeners("submit")&&t.toJSON?(t.fire("submit",{data:t.toJSON()}),!1):void 0})})},disabled:function(e){var t=this;return t._rendered&&"undefined"!=typeof e&&(t.getEl().disabled=e),t._super(e)},value:function(e){var t=this;return"undefined"!=typeof e?(t._value=e,t._rendered&&(t.getEl().value=e),t):t._rendered?t.getEl().value:t._value},repaint:function(){var e,t,n,i,r=this,o=0,a=0;e=r.getEl().style,t=r._layoutRect,i=r._lastRepaintRect||{};var s=document;return!r.settings.multiline&&s.all&&(!s.documentMode||s.documentMode<=8)&&(e.lineHeight=t.h-a+"px"),n=r._borderBox,o=n.left+n.right+8,a=n.top+n.bottom+(r.settings.multiline?8:0),t.x!==i.x&&(e.left=t.x+"px",i.x=t.x),t.y!==i.y&&(e.top=t.y+"px",i.y=t.y),t.w!==i.w&&(e.width=t.w-o+"px",i.w=t.w),t.h!==i.h&&(e.height=t.h-a+"px",i.h=t.h),r._lastRepaintRect=i,r.fire("repaint",{},!1),r},renderHtml:function(){var e=this,t=e._id,n=e.settings,i=e.encode(e._value,!1),r="";return"spellcheck"in n&&(r+=' spellcheck="'+n.spellcheck+'"'),n.maxLength&&(r+=' maxlength="'+n.maxLength+'"'),n.size&&(r+=' size="'+n.size+'"'),n.subtype&&(r+=' type="'+n.subtype+'"'),e.disabled()&&(r+=' disabled="disabled"'),n.multiline?'<textarea id="'+t+'" class="'+e.classes()+'" '+(n.rows?' rows="'+n.rows+'"':"")+' hidefocus="1"'+r+">"+i+"</textarea>":'<input id="'+t+'" class="'+e.classes()+'" value="'+i+'" hidefocus="1"'+r+" />"},postRender:function(){var e=this;return t.on(e.getEl(),"change",function(t){e.fire("change",t)}),e._super()},remove:function(){t.off(this.getEl()),this._super()}})}),i(en,[q,j],function(e,t){return function(n,i){var r,o=this,a=t.classPrefix;o.show=function(t){return o.hide(),r=!0,window.setTimeout(function(){r&&n.appendChild(e.createFragment('<div class="'+a+"throbber"+(i?" "+a+"throbber-inline":"")+'"></div>'))},t||0),o},o.hide=function(){var e=n.lastChild;return e&&-1!=e.className.indexOf("throbber")&&e.parentNode.removeChild(e),r=!1,o}}}),o([s,l,c,u,d,f,h,p,m,g,v,b,y,x,C,w,k,_,E,S,N,T,M,A,R,D,P,B,I,L,F,O,H,z,W,$,q,j,U,V,Y,X,K,Q,G,J,Z,et,tt,nt,it,rt,ot,at,st,lt,ct,ut,dt,ft,ht,pt,mt,gt,vt,bt,yt,xt,Ct,wt,kt,_t,Et,St,Nt,Tt,Mt,At,Rt,Dt,Pt,Bt,It,Lt,Ft,Ot,Ht,zt,Wt,$t,qt,jt,Ut,Vt,Yt,Xt,Kt,Qt,Gt,Jt,Zt,en])}(this),tinymce.PluginManager.add("advlist",function(e){function t(e,t){var n=[];
return tinymce.each(t.split(/[ ,]/),function(e){n.push({text:e.replace(/\-/g," ").replace(/\b\w/g,function(e){return e.toUpperCase()}),data:"default"==e?"":e})}),n}function n(t,n){var i,r=e.dom,o=e.selection;i=r.getParent(o.getNode(),"ol,ul"),i&&i.nodeName==t&&n!==!1||e.execCommand("UL"==t?"InsertUnorderedList":"InsertOrderedList"),n=n===!1?a[t]:n,a[t]=n,i=r.getParent(o.getNode(),"ol,ul"),i&&(r.setStyle(i,"listStyleType",n),i.removeAttribute("data-mce-style")),e.focus()}function i(t){var n=e.dom.getStyle(e.dom.getParent(e.selection.getNode(),"ol,ul"),"listStyleType")||"";t.control.items().each(function(e){e.active(e.settings.data===n)})}var r,o,a={};r=t("OL",e.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman")),o=t("UL",e.getParam("advlist_bullet_styles","default,circle,disc,square")),e.addButton("numlist",{type:"splitbutton",tooltip:"Numbered list",menu:r,onshow:i,onselect:function(e){n("OL",e.control.settings.data)},onclick:function(){n("OL",!1)}}),e.addButton("bullist",{type:"splitbutton",tooltip:"Bullet list",menu:o,onshow:i,onselect:function(e){n("UL",e.control.settings.data)},onclick:function(){n("UL",!1)}})}),tinymce.PluginManager.add("anchor",function(e){function t(){var t=e.selection.getNode();e.windowManager.open({title:"Anchor",body:{type:"textbox",name:"name",size:40,label:"Name",value:t.name||t.id},onsubmit:function(t){e.execCommand("mceInsertContent",!1,e.dom.createHTML("a",{id:t.data.name}))}})}e.addButton("anchor",{icon:"anchor",tooltip:"Anchor",onclick:t,stateSelector:"a:not([href])"}),e.addMenuItem("anchor",{icon:"anchor",text:"Anchor",context:"insert",onclick:t})}),tinymce.PluginManager.add("autolink",function(e){function t(e){r(e,-1,"(",!0)}function n(e){r(e,0,"",!0)}function i(e){r(e,-1,"",!1)}function r(e,t,n){function i(e,t){if(0>t&&(t=0),3==e.nodeType){var n=e.data.length;t>n&&(t=n)}return t}function r(e,t){a.setStart(e,i(e,t))}function o(e,t){a.setEnd(e,i(e,t))}var a,s,l,c,u,d,f,h,p;if(a=e.selection.getRng(!0).cloneRange(),a.startOffset<5){if(h=a.endContainer.previousSibling,!h){if(!a.endContainer.firstChild||!a.endContainer.firstChild.nextSibling)return;h=a.endContainer.firstChild.nextSibling}if(p=h.length,r(h,p),o(h,p),a.endOffset<5)return;s=a.endOffset,c=h}else{if(c=a.endContainer,3!=c.nodeType&&c.firstChild){for(;3!=c.nodeType&&c.firstChild;)c=c.firstChild;3==c.nodeType&&(r(c,0),o(c,c.nodeValue.length))}s=1==a.endOffset?2:a.endOffset-1-t}l=s;do r(c,s>=2?s-2:0),o(c,s>=1?s-1:0),s-=1;while(" "!=a.toString()&&""!==a.toString()&&160!=a.toString().charCodeAt(0)&&s-2>=0&&a.toString()!=n);a.toString()==n||160==a.toString().charCodeAt(0)?(r(c,s),o(c,l),s+=1):0===a.startOffset?(r(c,0),o(c,l)):(r(c,s),o(c,l)),d=a.toString(),"."==d.charAt(d.length-1)&&o(c,l-1),d=a.toString(),f=d.match(/^(https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.|(?:mailto:)?[A-Z0-9._%+\-]+@)(.+)$/i),f&&("www."==f[1]?f[1]="http://www.":/@$/.test(f[1])&&!/^mailto:/.test(f[1])&&(f[1]="mailto:"+f[1]),u=e.selection.getBookmark(),e.selection.setRng(a),e.execCommand("createlink",!1,f[1]+f[2]),e.selection.moveToBookmark(u),e.nodeChanged())}var o;return e.on("keydown",function(t){return 13==t.keyCode?i(e):void 0}),tinymce.Env.ie?void e.on("focus",function(){if(!o){o=!0;try{e.execCommand("AutoUrlDetect",!1,!0)}catch(t){}}}):(e.on("keypress",function(n){return 41==n.keyCode?t(e):void 0}),void e.on("keyup",function(t){return 32==t.keyCode?n(e):void 0}))}),tinymce.PluginManager.add("autoresize",function(e){function t(){return e.plugins.fullscreen&&e.plugins.fullscreen.isFullscreen()}function n(i){var a,s,l,c,u,d,f,h,p=tinymce.DOM;if(s=e.getDoc()){if(l=s.body,c=s.documentElement,u=r.autoresize_min_height,!l||i&&"setcontent"===i.type&&i.initial||t())return void(l&&c&&(l.style.overflowY="auto",c.style.overflowY="auto"));f=e.dom.getStyle(l,"margin-top",!0),h=e.dom.getStyle(l,"margin-bottom",!0),d=l.offsetHeight+parseInt(f,10)+parseInt(h,10),(isNaN(d)||0>=d)&&(d=tinymce.Env.ie?l.scrollHeight:tinymce.Env.webkit&&0===l.clientHeight?0:l.offsetHeight),d>r.autoresize_min_height&&(u=d),r.autoresize_max_height&&d>r.autoresize_max_height?(u=r.autoresize_max_height,l.style.overflowY="auto",c.style.overflowY="auto"):(l.style.overflowY="hidden",c.style.overflowY="hidden",l.scrollTop=0),u!==o&&(a=u-o,p.setStyle(p.get(e.id+"_ifr"),"height",u+"px"),o=u,tinymce.isWebKit&&0>a&&n(i))}}function i(e,t,r){setTimeout(function(){n({}),e--?i(e,t,r):r&&r()},t)}var r=e.settings,o=0;e.settings.inline||(r.autoresize_min_height=parseInt(e.getParam("autoresize_min_height",e.getElement().offsetHeight),10),r.autoresize_max_height=parseInt(e.getParam("autoresize_max_height",0),10),e.on("init",function(){var t=e.getParam("autoresize_overflow_padding",1);e.dom.setStyles(e.getBody(),{paddingBottom:e.getParam("autoresize_bottom_margin",50),paddingLeft:t,paddingRight:t})}),e.on("nodechange setcontent keyup FullscreenStateChanged",n),e.getParam("autoresize_on_init",!0)&&e.on("init",function(){i(20,100,function(){i(5,1e3)})}),e.addCommand("mceAutoResize",n))}),tinymce.PluginManager.add("autosave",function(e){function t(e,t){var n={s:1e3,m:6e4};return e=/^(\d+)([ms]?)$/.exec(""+(e||t)),(e[2]?n[e[2]]:1)*parseInt(e,10)}function n(){var e=parseInt(p.getItem(d+"time"),10)||0;return(new Date).getTime()-e>h.autosave_retention?(i(!1),!1):!0}function i(t){p.removeItem(d+"draft"),p.removeItem(d+"time"),t!==!1&&e.fire("RemoveDraft")}function r(){!u()&&e.isDirty()&&(p.setItem(d+"draft",e.getContent({format:"raw",no_events:!0})),p.setItem(d+"time",(new Date).getTime()),e.fire("StoreDraft"))}function o(){n()&&(e.setContent(p.getItem(d+"draft"),{format:"raw"}),e.fire("RestoreDraft"))}function a(){f||(setInterval(function(){e.removed||r()},h.autosave_interval),f=!0)}function s(){var t=this;t.disabled(!n()),e.on("StoreDraft RestoreDraft RemoveDraft",function(){t.disabled(!n())}),a()}function l(){e.undoManager.beforeChange(),o(),i(),e.undoManager.add()}function c(){var e;return tinymce.each(tinymce.editors,function(t){t.plugins.autosave&&t.plugins.autosave.storeDraft(),!e&&t.isDirty()&&t.getParam("autosave_ask_before_unload",!0)&&(e=t.translate("You have unsaved changes are you sure you want to navigate away?"))}),e}function u(t){var n=e.settings.forced_root_block;return t=tinymce.trim("undefined"==typeof t?e.getBody().innerHTML:t),""===t||new RegExp("^<"+n+"[^>]*>((\xa0|&nbsp;|[ 	]|<br[^>]*>)+?|)</"+n+">|<br>$","i").test(t)}var d,f,h=e.settings,p=tinymce.util.LocalStorage;d=h.autosave_prefix||"tinymce-autosave-{path}{query}-{id}-",d=d.replace(/\{path\}/g,document.location.pathname),d=d.replace(/\{query\}/g,document.location.search),d=d.replace(/\{id\}/g,e.id),h.autosave_interval=t(h.autosave_interval,"30s"),h.autosave_retention=t(h.autosave_retention,"20m"),e.addButton("restoredraft",{title:"Restore last draft",onclick:l,onPostRender:s}),e.addMenuItem("restoredraft",{text:"Restore last draft",onclick:l,onPostRender:s,context:"file"}),e.settings.autosave_restore_when_empty!==!1&&(e.on("init",function(){n()&&u()&&o()}),e.on("saveContent",function(){i()})),window.onbeforeunload=c,this.hasDraft=n,this.storeDraft=r,this.restoreDraft=o,this.removeDraft=i,this.isEmpty=u}),!function(){tinymce.create("tinymce.plugins.BBCodePlugin",{init:function(e){var t=this,n=e.getParam("bbcode_dialect","punbb").toLowerCase();e.on("beforeSetContent",function(e){e.content=t["_"+n+"_bbcode2html"](e.content)}),e.on("postProcess",function(e){e.set&&(e.content=t["_"+n+"_bbcode2html"](e.content)),e.get&&(e.content=t["_"+n+"_html2bbcode"](e.content))})},getInfo:function(){return{longname:"BBCode Plugin",author:"Moxiecode Systems AB",authorurl:"http://www.tinymce.com",infourl:"http://www.tinymce.com/wiki.php/Plugin:bbcode"}},_punbb_html2bbcode:function(e){function t(t,n){e=e.replace(t,n)}return e=tinymce.trim(e),t(/<a.*?href=\"(.*?)\".*?>(.*?)<\/a>/gi,"[url=$1]$2[/url]"),t(/<font.*?color=\"(.*?)\".*?class=\"codeStyle\".*?>(.*?)<\/font>/gi,"[code][color=$1]$2[/color][/code]"),t(/<font.*?color=\"(.*?)\".*?class=\"quoteStyle\".*?>(.*?)<\/font>/gi,"[quote][color=$1]$2[/color][/quote]"),t(/<font.*?class=\"codeStyle\".*?color=\"(.*?)\".*?>(.*?)<\/font>/gi,"[code][color=$1]$2[/color][/code]"),t(/<font.*?class=\"quoteStyle\".*?color=\"(.*?)\".*?>(.*?)<\/font>/gi,"[quote][color=$1]$2[/color][/quote]"),t(/<span style=\"color: ?(.*?);\">(.*?)<\/span>/gi,"[color=$1]$2[/color]"),t(/<font.*?color=\"(.*?)\".*?>(.*?)<\/font>/gi,"[color=$1]$2[/color]"),t(/<span style=\"font-size:(.*?);\">(.*?)<\/span>/gi,"[size=$1]$2[/size]"),t(/<font>(.*?)<\/font>/gi,"$1"),t(/<img.*?src=\"(.*?)\".*?\/>/gi,"[img]$1[/img]"),t(/<span class=\"codeStyle\">(.*?)<\/span>/gi,"[code]$1[/code]"),t(/<span class=\"quoteStyle\">(.*?)<\/span>/gi,"[quote]$1[/quote]"),t(/<strong class=\"codeStyle\">(.*?)<\/strong>/gi,"[code][b]$1[/b][/code]"),t(/<strong class=\"quoteStyle\">(.*?)<\/strong>/gi,"[quote][b]$1[/b][/quote]"),t(/<em class=\"codeStyle\">(.*?)<\/em>/gi,"[code][i]$1[/i][/code]"),t(/<em class=\"quoteStyle\">(.*?)<\/em>/gi,"[quote][i]$1[/i][/quote]"),t(/<u class=\"codeStyle\">(.*?)<\/u>/gi,"[code][u]$1[/u][/code]"),t(/<u class=\"quoteStyle\">(.*?)<\/u>/gi,"[quote][u]$1[/u][/quote]"),t(/<\/(strong|b)>/gi,"[/b]"),t(/<(strong|b)>/gi,"[b]"),t(/<\/(em|i)>/gi,"[/i]"),t(/<(em|i)>/gi,"[i]"),t(/<\/u>/gi,"[/u]"),t(/<span style=\"text-decoration: ?underline;\">(.*?)<\/span>/gi,"[u]$1[/u]"),t(/<u>/gi,"[u]"),t(/<blockquote[^>]*>/gi,"[quote]"),t(/<\/blockquote>/gi,"[/quote]"),t(/<br \/>/gi,"\n"),t(/<br\/>/gi,"\n"),t(/<br>/gi,"\n"),t(/<p>/gi,""),t(/<\/p>/gi,"\n"),t(/&nbsp;|\u00a0/gi," "),t(/&quot;/gi,'"'),t(/&lt;/gi,"<"),t(/&gt;/gi,">"),t(/&amp;/gi,"&"),e},_punbb_bbcode2html:function(e){function t(t,n){e=e.replace(t,n)}return e=tinymce.trim(e),t(/\n/gi,"<br />"),t(/\[b\]/gi,"<strong>"),t(/\[\/b\]/gi,"</strong>"),t(/\[i\]/gi,"<em>"),t(/\[\/i\]/gi,"</em>"),t(/\[u\]/gi,"<u>"),t(/\[\/u\]/gi,"</u>"),t(/\[url=([^\]]+)\](.*?)\[\/url\]/gi,'<a href="$1">$2</a>'),t(/\[url\](.*?)\[\/url\]/gi,'<a href="$1">$1</a>'),t(/\[img\](.*?)\[\/img\]/gi,'<img src="$1" />'),t(/\[color=(.*?)\](.*?)\[\/color\]/gi,'<font color="$1">$2</font>'),t(/\[code\](.*?)\[\/code\]/gi,'<span class="codeStyle">$1</span>&nbsp;'),t(/\[quote.*?\](.*?)\[\/quote\]/gi,'<span class="quoteStyle">$1</span>&nbsp;'),e}}),tinymce.PluginManager.add("bbcode",tinymce.plugins.BBCodePlugin)}(),tinymce.PluginManager.add("charmap",function(e){function t(){function t(e){for(;e;){if("TD"==e.nodeName)return e;e=e.parentNode}}var i,r,o,a;i='<table role="presentation" cellspacing="0" class="mce-charmap"><tbody>';var s=25;for(o=0;10>o;o++){for(i+="<tr>",r=0;s>r;r++){var l=n[o*s+r];i+='<td title="'+l[1]+'"><div tabindex="-1" title="'+l[1]+'" role="button">'+(l?String.fromCharCode(parseInt(l[0],10)):"&nbsp;")+"</div></td>"}i+="</tr>"}i+="</tbody></table>";var c={type:"container",html:i,onclick:function(t){var n=t.target;"TD"==n.tagName&&(n=n.firstChild),"DIV"==n.tagName&&(e.execCommand("mceInsertContent",!1,n.firstChild.data),t.ctrlKey||a.close())},onmouseover:function(e){var n=t(e.target);n&&a.find("#preview").text(n.firstChild.firstChild.data)}};a=e.windowManager.open({title:"Special character",spacing:10,padding:10,items:[c,{type:"label",name:"preview",text:" ",style:"font-size: 40px; text-align: center",border:1,minWidth:100,minHeight:80}],buttons:[{text:"Close",onclick:function(){a.close()}}]})}var n=[["160","no-break space"],["38","ampersand"],["34","quotation mark"],["162","cent sign"],["8364","euro sign"],["163","pound sign"],["165","yen sign"],["169","copyright sign"],["174","registered sign"],["8482","trade mark sign"],["8240","per mille sign"],["181","micro sign"],["183","middle dot"],["8226","bullet"],["8230","three dot leader"],["8242","minutes / feet"],["8243","seconds / inches"],["167","section sign"],["182","paragraph sign"],["223","sharp s / ess-zed"],["8249","single left-pointing angle quotation mark"],["8250","single right-pointing angle quotation mark"],["171","left pointing guillemet"],["187","right pointing guillemet"],["8216","left single quotation mark"],["8217","right single quotation mark"],["8220","left double quotation mark"],["8221","right double quotation mark"],["8218","single low-9 quotation mark"],["8222","double low-9 quotation mark"],["60","less-than sign"],["62","greater-than sign"],["8804","less-than or equal to"],["8805","greater-than or equal to"],["8211","en dash"],["8212","em dash"],["175","macron"],["8254","overline"],["164","currency sign"],["166","broken bar"],["168","diaeresis"],["161","inverted exclamation mark"],["191","turned question mark"],["710","circumflex accent"],["732","small tilde"],["176","degree sign"],["8722","minus sign"],["177","plus-minus sign"],["247","division sign"],["8260","fraction slash"],["215","multiplication sign"],["185","superscript one"],["178","superscript two"],["179","superscript three"],["188","fraction one quarter"],["189","fraction one half"],["190","fraction three quarters"],["402","function / florin"],["8747","integral"],["8721","n-ary sumation"],["8734","infinity"],["8730","square root"],["8764","similar to"],["8773","approximately equal to"],["8776","almost equal to"],["8800","not equal to"],["8801","identical to"],["8712","element of"],["8713","not an element of"],["8715","contains as member"],["8719","n-ary product"],["8743","logical and"],["8744","logical or"],["172","not sign"],["8745","intersection"],["8746","union"],["8706","partial differential"],["8704","for all"],["8707","there exists"],["8709","diameter"],["8711","backward difference"],["8727","asterisk operator"],["8733","proportional to"],["8736","angle"],["180","acute accent"],["184","cedilla"],["170","feminine ordinal indicator"],["186","masculine ordinal indicator"],["8224","dagger"],["8225","double dagger"],["192","A - grave"],["193","A - acute"],["194","A - circumflex"],["195","A - tilde"],["196","A - diaeresis"],["197","A - ring above"],["198","ligature AE"],["199","C - cedilla"],["200","E - grave"],["201","E - acute"],["202","E - circumflex"],["203","E - diaeresis"],["204","I - grave"],["205","I - acute"],["206","I - circumflex"],["207","I - diaeresis"],["208","ETH"],["209","N - tilde"],["210","O - grave"],["211","O - acute"],["212","O - circumflex"],["213","O - tilde"],["214","O - diaeresis"],["216","O - slash"],["338","ligature OE"],["352","S - caron"],["217","U - grave"],["218","U - acute"],["219","U - circumflex"],["220","U - diaeresis"],["221","Y - acute"],["376","Y - diaeresis"],["222","THORN"],["224","a - grave"],["225","a - acute"],["226","a - circumflex"],["227","a - tilde"],["228","a - diaeresis"],["229","a - ring above"],["230","ligature ae"],["231","c - cedilla"],["232","e - grave"],["233","e - acute"],["234","e - circumflex"],["235","e - diaeresis"],["236","i - grave"],["237","i - acute"],["238","i - circumflex"],["239","i - diaeresis"],["240","eth"],["241","n - tilde"],["242","o - grave"],["243","o - acute"],["244","o - circumflex"],["245","o - tilde"],["246","o - diaeresis"],["248","o slash"],["339","ligature oe"],["353","s - caron"],["249","u - grave"],["250","u - acute"],["251","u - circumflex"],["252","u - diaeresis"],["253","y - acute"],["254","thorn"],["255","y - diaeresis"],["913","Alpha"],["914","Beta"],["915","Gamma"],["916","Delta"],["917","Epsilon"],["918","Zeta"],["919","Eta"],["920","Theta"],["921","Iota"],["922","Kappa"],["923","Lambda"],["924","Mu"],["925","Nu"],["926","Xi"],["927","Omicron"],["928","Pi"],["929","Rho"],["931","Sigma"],["932","Tau"],["933","Upsilon"],["934","Phi"],["935","Chi"],["936","Psi"],["937","Omega"],["945","alpha"],["946","beta"],["947","gamma"],["948","delta"],["949","epsilon"],["950","zeta"],["951","eta"],["952","theta"],["953","iota"],["954","kappa"],["955","lambda"],["956","mu"],["957","nu"],["958","xi"],["959","omicron"],["960","pi"],["961","rho"],["962","final sigma"],["963","sigma"],["964","tau"],["965","upsilon"],["966","phi"],["967","chi"],["968","psi"],["969","omega"],["8501","alef symbol"],["982","pi symbol"],["8476","real part symbol"],["978","upsilon - hook symbol"],["8472","Weierstrass p"],["8465","imaginary part"],["8592","leftwards arrow"],["8593","upwards arrow"],["8594","rightwards arrow"],["8595","downwards arrow"],["8596","left right arrow"],["8629","carriage return"],["8656","leftwards double arrow"],["8657","upwards double arrow"],["8658","rightwards double arrow"],["8659","downwards double arrow"],["8660","left right double arrow"],["8756","therefore"],["8834","subset of"],["8835","superset of"],["8836","not a subset of"],["8838","subset of or equal to"],["8839","superset of or equal to"],["8853","circled plus"],["8855","circled times"],["8869","perpendicular"],["8901","dot operator"],["8968","left ceiling"],["8969","right ceiling"],["8970","left floor"],["8971","right floor"],["9001","left-pointing angle bracket"],["9002","right-pointing angle bracket"],["9674","lozenge"],["9824","black spade suit"],["9827","black club suit"],["9829","black heart suit"],["9830","black diamond suit"],["8194","en space"],["8195","em space"],["8201","thin space"],["8204","zero width non-joiner"],["8205","zero width joiner"],["8206","left-to-right mark"],["8207","right-to-left mark"],["173","soft hyphen"]];e.addButton("charmap",{icon:"charmap",tooltip:"Special character",onclick:t}),e.addMenuItem("charmap",{icon:"charmap",text:"Special character",onclick:t,context:"insert"})}),tinymce.PluginManager.add("code",function(e){function t(){e.windowManager.open({title:"Source code",body:{type:"textbox",name:"code",multiline:!0,minWidth:e.getParam("code_dialog_width",600),minHeight:e.getParam("code_dialog_height",Math.min(tinymce.DOM.getViewPort().h-200,500)),value:e.getContent({source_view:!0}),spellcheck:!1,style:"direction: ltr; text-align: left"},onSubmit:function(t){e.focus(),e.undoManager.transact(function(){e.setContent(t.data.code)}),e.selection.setCursorLocation(),e.nodeChanged()}})}e.addCommand("mceCodeEditor",t),e.addButton("code",{icon:"code",tooltip:"Source code",onclick:t}),e.addMenuItem("code",{icon:"code",text:"Source code",context:"tools",onclick:t})}),tinymce.PluginManager.add("contextmenu",function(e){var t,n=e.settings.contextmenu_never_use_native;e.on("contextmenu",function(i){var r;if(!i.ctrlKey||n){if(i.preventDefault(),r=e.settings.contextmenu||"link image inserttable | cell row column deletetable",t)t.show();else{var o=[];tinymce.each(r.split(/[ ,]/),function(t){var n=e.menuItems[t];"|"==t&&(n={text:t}),n&&(n.shortcut="",o.push(n))});for(var a=0;a<o.length;a++)"|"==o[a].text&&(0===a||a==o.length-1)&&o.splice(a,1);t=new tinymce.ui.Menu({items:o,context:"contextmenu"}).addClass("contextmenu").renderTo(),e.on("remove",function(){t.remove(),t=null})}var s={x:i.pageX,y:i.pageY};e.inline||(s=tinymce.DOM.getPos(e.getContentAreaContainer()),s.x+=i.clientX,s.y+=i.clientY),t.moveTo(s.x,s.y)}})}),tinymce.PluginManager.add("directionality",function(e){function t(t){var n,i=e.dom,r=e.selection.getSelectedBlocks();r.length&&(n=i.getAttrib(r[0],"dir"),tinymce.each(r,function(e){i.getParent(e.parentNode,"*[dir='"+t+"']",i.getRoot())||(n!=t?i.setAttrib(e,"dir",t):i.setAttrib(e,"dir",null))}),e.nodeChanged())}function n(e){var t=[];return tinymce.each("h1 h2 h3 h4 h5 h6 div p".split(" "),function(n){t.push(n+"[dir="+e+"]")}),t.join(",")}e.addCommand("mceDirectionLTR",function(){t("ltr")}),e.addCommand("mceDirectionRTL",function(){t("rtl")}),e.addButton("ltr",{title:"Left to right",cmd:"mceDirectionLTR",stateSelector:n("ltr")}),e.addButton("rtl",{title:"Right to left",cmd:"mceDirectionRTL",stateSelector:n("rtl")})}),tinymce.PluginManager.add("emoticons",function(e,t){function n(){var e;return e='<table role="list" class="mce-grid">',tinymce.each(i,function(n){e+="<tr>",tinymce.each(n,function(n){var i=t+"/img/smiley-"+n+".gif";e+='<td><a href="#" data-mce-url="'+i+'" data-mce-alt="'+n+'" tabindex="-1" role="option" aria-label="'+n+'"><img src="'+i+'" style="width: 18px; height: 18px" role="presentation" /></a></td>'}),e+="</tr>"}),e+="</table>"}var i=[["cool","cry","embarassed","foot-in-mouth"],["frown","innocent","kiss","laughing"],["money-mouth","sealed","smile","surprised"],["tongue-out","undecided","wink","yell"]];e.addButton("emoticons",{type:"panelbutton",panel:{role:"application",autohide:!0,html:n,onclick:function(t){var n=e.dom.getParent(t.target,"a");n&&(e.insertContent('<img src="'+n.getAttribute("data-mce-url")+'" alt="'+n.getAttribute("data-mce-alt")+'" />'),this.hide())}},tooltip:"Emoticons"})}),tinymce.PluginManager.add("fullpage",function(e){function t(){var t=n();e.windowManager.open({title:"Document properties",data:t,defaults:{type:"textbox",size:40},body:[{name:"title",label:"Title"},{name:"keywords",label:"Keywords"},{name:"description",label:"Description"},{name:"robots",label:"Robots"},{name:"author",label:"Author"},{name:"docencoding",label:"Encoding"}],onSubmit:function(e){i(tinymce.extend(t,e.data))}})}function n(){function t(e,t){var n=e.attr(t);return n||""}var n,i,o=r(),a={};return a.fontface=e.getParam("fullpage_default_fontface",""),a.fontsize=e.getParam("fullpage_default_fontsize",""),n=o.firstChild,7==n.type&&(a.xml_pi=!0,i=/encoding="([^"]+)"/.exec(n.value),i&&(a.docencoding=i[1])),n=o.getAll("#doctype")[0],n&&(a.doctype="<!DOCTYPE"+n.value+">"),n=o.getAll("title")[0],n&&n.firstChild&&(a.title=n.firstChild.value),u(o.getAll("meta"),function(e){var t,n=e.attr("name"),i=e.attr("http-equiv");n?a[n.toLowerCase()]=e.attr("content"):"Content-Type"==i&&(t=/charset\s*=\s*(.*)\s*/gi.exec(e.attr("content")),t&&(a.docencoding=t[1]))}),n=o.getAll("html")[0],n&&(a.langcode=t(n,"lang")||t(n,"xml:lang")),a.stylesheets=[],tinymce.each(o.getAll("link"),function(e){"stylesheet"==e.attr("rel")&&a.stylesheets.push(e.attr("href"))}),n=o.getAll("body")[0],n&&(a.langdir=t(n,"dir"),a.style=t(n,"style"),a.visited_color=t(n,"vlink"),a.link_color=t(n,"link"),a.active_color=t(n,"alink")),a}function i(t){function n(e,t,n){e.attr(t,n?n:void 0)}function i(e){a.firstChild?a.insert(e,a.firstChild):a.append(e)}var o,a,s,c,f,h=e.dom;o=r(),a=o.getAll("head")[0],a||(c=o.getAll("html")[0],a=new d("head",1),c.firstChild?c.insert(a,c.firstChild,!0):c.append(a)),c=o.firstChild,t.xml_pi?(f='version="1.0"',t.docencoding&&(f+=' encoding="'+t.docencoding+'"'),7!=c.type&&(c=new d("xml",7),o.insert(c,o.firstChild,!0)),c.value=f):c&&7==c.type&&c.remove(),c=o.getAll("#doctype")[0],t.doctype?(c||(c=new d("#doctype",10),t.xml_pi?o.insert(c,o.firstChild):i(c)),c.value=t.doctype.substring(9,t.doctype.length-1)):c&&c.remove(),c=null,u(o.getAll("meta"),function(e){"Content-Type"==e.attr("http-equiv")&&(c=e)}),t.docencoding?(c||(c=new d("meta",1),c.attr("http-equiv","Content-Type"),c.shortEnded=!0,i(c)),c.attr("content","text/html; charset="+t.docencoding)):c.remove(),c=o.getAll("title")[0],t.title?(c?c.empty():(c=new d("title",1),i(c)),c.append(new d("#text",3)).value=t.title):c&&c.remove(),u("keywords,description,author,copyright,robots".split(","),function(e){var n,r,a=o.getAll("meta"),s=t[e];for(n=0;n<a.length;n++)if(r=a[n],r.attr("name")==e)return void(s?r.attr("content",s):r.remove());s&&(c=new d("meta",1),c.attr("name",e),c.attr("content",s),c.shortEnded=!0,i(c))});var p={};tinymce.each(o.getAll("link"),function(e){"stylesheet"==e.attr("rel")&&(p[e.attr("href")]=e)}),tinymce.each(t.stylesheets,function(e){p[e]||(c=new d("link",1),c.attr({rel:"stylesheet",text:"text/css",href:e}),c.shortEnded=!0,i(c)),delete p[e]}),tinymce.each(p,function(e){e.remove()}),c=o.getAll("body")[0],c&&(n(c,"dir",t.langdir),n(c,"style",t.style),n(c,"vlink",t.visited_color),n(c,"link",t.link_color),n(c,"alink",t.active_color),h.setAttribs(e.getBody(),{style:t.style,dir:t.dir,vLink:t.visited_color,link:t.link_color,aLink:t.active_color})),c=o.getAll("html")[0],c&&(n(c,"lang",t.langcode),n(c,"xml:lang",t.langcode)),a.firstChild||a.remove(),s=new tinymce.html.Serializer({validate:!1,indent:!0,apply_source_formatting:!0,indent_before:"head,html,body,meta,title,script,link,style",indent_after:"head,html,body,meta,title,script,link,style"}).serialize(o),l=s.substring(0,s.indexOf("</body>"))}function r(){return new tinymce.html.DomParser({validate:!1,root_name:"#document"}).parse(l)}function o(t){function n(e){return e.replace(/<\/?[A-Z]+/g,function(e){return e.toLowerCase()})}var i,o,s,d,f=t.content,h="",p=e.dom;if(!t.selection&&!("raw"==t.format&&l||t.source_view&&e.getParam("fullpage_hide_in_source_view"))){f=f.replace(/<(\/?)BODY/gi,"<$1body"),i=f.indexOf("<body"),-1!=i?(i=f.indexOf(">",i),l=n(f.substring(0,i+1)),o=f.indexOf("</body",i),-1==o&&(o=f.length),t.content=f.substring(i+1,o),c=n(f.substring(o))):(l=a(),c="\n</body>\n</html>"),s=r(),u(s.getAll("style"),function(e){e.firstChild&&(h+=e.firstChild.value)}),d=s.getAll("body")[0],d&&p.setAttribs(e.getBody(),{style:d.attr("style")||"",dir:d.attr("dir")||"",vLink:d.attr("vlink")||"",link:d.attr("link")||"",aLink:d.attr("alink")||""}),p.remove("fullpage_styles");var m=e.getDoc().getElementsByTagName("head")[0];h&&(p.add(m,"style",{id:"fullpage_styles"},h),d=p.get("fullpage_styles"),d.styleSheet&&(d.styleSheet.cssText=h));var g={};tinymce.each(m.getElementsByTagName("link"),function(e){"stylesheet"==e.rel&&e.getAttribute("data-mce-fullpage")&&(g[e.href]=e)}),tinymce.each(s.getAll("link"),function(e){var t=e.attr("href");g[t]||"stylesheet"!=e.attr("rel")||p.add(m,"link",{rel:"stylesheet",text:"text/css",href:t,"data-mce-fullpage":"1"}),delete g[t]}),tinymce.each(g,function(e){e.parentNode.removeChild(e)})}}function a(){var t,n="",i="";return e.getParam("fullpage_default_xml_pi")&&(n+='<?xml version="1.0" encoding="'+e.getParam("fullpage_default_encoding","ISO-8859-1")+'" ?>\n'),n+=e.getParam("fullpage_default_doctype","<!DOCTYPE html>"),n+="\n<html>\n<head>\n",(t=e.getParam("fullpage_default_title"))&&(n+="<title>"+t+"</title>\n"),(t=e.getParam("fullpage_default_encoding"))&&(n+='<meta http-equiv="Content-Type" content="text/html; charset='+t+'" />\n'),(t=e.getParam("fullpage_default_font_family"))&&(i+="font-family: "+t+";"),(t=e.getParam("fullpage_default_font_size"))&&(i+="font-size: "+t+";"),(t=e.getParam("fullpage_default_text_color"))&&(i+="color: "+t+";"),n+="</head>\n<body"+(i?' style="'+i+'"':"")+">\n"}function s(t){t.selection||t.source_view&&e.getParam("fullpage_hide_in_source_view")||(t.content=tinymce.trim(l)+"\n"+tinymce.trim(t.content)+"\n"+tinymce.trim(c))}var l,c,u=tinymce.each,d=tinymce.html.Node;e.addCommand("mceFullPageProperties",t),e.addButton("fullpage",{title:"Document properties",cmd:"mceFullPageProperties"}),e.addMenuItem("fullpage",{text:"Document properties",cmd:"mceFullPageProperties",context:"file"}),e.on("BeforeSetContent",o),e.on("GetContent",s)}),tinymce.PluginManager.add("fullscreen",function(e){function t(){var e,t,n=window,i=document,r=i.body;return r.offsetWidth&&(e=r.offsetWidth,t=r.offsetHeight),n.innerWidth&&n.innerHeight&&(e=n.innerWidth,t=n.innerHeight),{w:e,h:t}}function n(){function n(){c.setStyle(f,"height",t().h-(d.clientHeight-f.clientHeight))}var u,d,f,h,p=document.body,m=document.documentElement;l=!l,d=e.getContainer(),u=d.style,f=e.getContentAreaContainer().firstChild,h=f.style,l?(i=h.width,r=h.height,h.width=h.height="100%",a=u.width,s=u.height,u.width=u.height="",c.addClass(p,"mce-fullscreen"),c.addClass(m,"mce-fullscreen"),c.addClass(d,"mce-fullscreen"),c.bind(window,"resize",n),n(),o=n):(h.width=i,h.height=r,a&&(u.width=a),s&&(u.height=s),c.removeClass(p,"mce-fullscreen"),c.removeClass(m,"mce-fullscreen"),c.removeClass(d,"mce-fullscreen"),c.unbind(window,"resize",o)),e.fire("FullscreenStateChanged",{state:l})}var i,r,o,a,s,l=!1,c=tinymce.DOM;return e.settings.inline?void 0:(e.on("init",function(){e.addShortcut("Ctrl+Alt+F","",n)}),e.on("remove",function(){o&&c.unbind(window,"resize",o)}),e.addCommand("mceFullScreen",n),e.addMenuItem("fullscreen",{text:"Fullscreen",shortcut:"Ctrl+Alt+F",selectable:!0,onClick:n,onPostRender:function(){var t=this;e.on("FullscreenStateChanged",function(e){t.active(e.state)})},context:"view"}),e.addButton("fullscreen",{tooltip:"Fullscreen",shortcut:"Ctrl+Alt+F",onClick:n,onPostRender:function(){var t=this;e.on("FullscreenStateChanged",function(e){t.active(e.state)})}}),{isFullscreen:function(){return l}})}),tinymce.PluginManager.add("hr",function(e){e.addCommand("InsertHorizontalRule",function(){e.execCommand("mceInsertContent",!1,"<hr />")}),e.addButton("hr",{icon:"hr",tooltip:"Horizontal line",cmd:"InsertHorizontalRule"}),e.addMenuItem("hr",{icon:"hr",text:"Horizontal line",cmd:"InsertHorizontalRule",context:"insert"})}),tinymce.PluginManager.add("image",function(e){function t(e,t){function n(e,n){i.parentNode&&i.parentNode.removeChild(i),t({width:e,height:n})}var i=document.createElement("img");i.onload=function(){n(i.clientWidth,i.clientHeight)},i.onerror=function(){n()};var r=i.style;r.visibility="hidden",r.position="fixed",r.bottom=r.left=0,r.width=r.height="auto",document.body.appendChild(i),i.src=e}function n(t){return tinymce.each(t,function(t){t.textStyle=function(){return e.formatter.getCssText({inline:"img",classes:[t.value]})}}),t}function i(t){return function(){var n=e.settings.image_list;"string"==typeof n?tinymce.util.XHR.send({url:n,success:function(e){t(tinymce.util.JSON.parse(e))}}):"function"==typeof n?n(t):t(n)}}function r(i){function r(t,n,i){var r,o=[];return tinymce.each(e.settings[t]||i,function(e){var t={text:e.text||e.title,value:e.value};o.push(t),(g[n]===e.value||!r&&e.selected)&&(r=t)}),r&&!g[n]&&(g[n]=r.value,r.selected=!0),o}function o(){var t=[{text:"None",value:""}];return tinymce.each(i,function(n){t.push({text:n.text||n.title,value:e.convertURL(n.value||n.url,"src"),menu:n.menu})}),t}function a(){var e,t,n,i;e=d.find("#width")[0],t=d.find("#height")[0],n=e.value(),i=t.value(),d.find("#constrain")[0].checked()&&f&&h&&n&&i&&(f!=n?(i=Math.round(n/f*i),t.value(i)):(n=Math.round(i/h*n),e.value(n))),f=n,h=i}function s(){function t(t){function n(){t.onload=t.onerror=null,e.selection.select(t),e.nodeChanged()}t.onload=function(){g.width||g.height||v.setAttribs(t,{width:t.clientWidth,height:t.clientHeight}),n()},t.onerror=n}u(),a(),g=tinymce.extend(g,d.toJSON()),g.alt||(g.alt=""),""===g.width&&(g.width=null),""===g.height&&(g.height=null),g.style||(g.style=null),g={src:g.src,alt:g.alt,width:g.width,height:g.height,style:g.style,"class":g["class"]},g["class"]||delete g["class"],e.undoManager.transact(function(){return g.src?(b?v.setAttribs(b,g):(g.id="__mcenew",e.focus(),e.selection.setContent(v.createHTML("img",g)),b=v.get("__mcenew"),v.setAttrib(b,"id",null)),void t(b)):void(b&&(v.remove(b),e.focus(),e.nodeChanged()))})}function l(e){return e&&(e=e.replace(/px$/,"")),e}function c(){p&&p.value(e.convertURL(this.value(),"src")),t(this.value(),function(e){e.width&&e.height&&(f=e.width,h=e.height,d.find("#width").value(f),d.find("#height").value(h))})}function u(){function t(e){return e.length>0&&/^[0-9]+$/.test(e)&&(e+="px"),e}if(e.settings.image_advtab){var n=d.toJSON(),i=v.parseStyle(n.style);delete i.margin,i["margin-top"]=i["margin-bottom"]=t(n.vspace),i["margin-left"]=i["margin-right"]=t(n.hspace),i["border-width"]=t(n.border),d.find("#style").value(v.serializeStyle(v.parseStyle(v.serializeStyle(i))))}}var d,f,h,p,m,g={},v=e.dom,b=e.selection.getNode();f=v.getAttrib(b,"width"),h=v.getAttrib(b,"height"),"IMG"!=b.nodeName||b.getAttribute("data-mce-object")||b.getAttribute("data-mce-placeholder")?b=null:g={src:v.getAttrib(b,"src"),alt:v.getAttrib(b,"alt"),"class":v.getAttrib(b,"class"),width:f,height:h},i&&(p={type:"listbox",label:"Image list",values:o(),value:g.src&&e.convertURL(g.src,"src"),onselect:function(e){var t=d.find("#alt");(!t.value()||e.lastControl&&t.value()==e.lastControl.text())&&t.value(e.control.text()),d.find("#src").value(e.control.value())},onPostRender:function(){p=this}}),e.settings.image_class_list&&(m={name:"class",type:"listbox",label:"Class",values:n(r("image_class_list","class"))});var y=[{name:"src",type:"filepicker",filetype:"image",label:"Source",autofocus:!0,onchange:c},p];e.settings.image_description!==!1&&y.push({name:"alt",type:"textbox",label:"Image description"}),e.settings.image_dimensions!==!1&&y.push({type:"container",label:"Dimensions",layout:"flex",direction:"row",align:"center",spacing:5,items:[{name:"width",type:"textbox",maxLength:5,size:3,onchange:a,ariaLabel:"Width"},{type:"label",text:"x"},{name:"height",type:"textbox",maxLength:5,size:3,onchange:a,ariaLabel:"Height"},{name:"constrain",type:"checkbox",checked:!0,text:"Constrain proportions"}]}),y.push(m),e.settings.image_advtab?(b&&(g.hspace=l(b.style.marginLeft||b.style.marginRight),g.vspace=l(b.style.marginTop||b.style.marginBottom),g.border=l(b.style.borderWidth),g.style=e.dom.serializeStyle(e.dom.parseStyle(e.dom.getAttrib(b,"style")))),d=e.windowManager.open({title:"Insert/edit image",data:g,bodyType:"tabpanel",body:[{title:"General",type:"form",items:y},{title:"Advanced",type:"form",pack:"start",items:[{label:"Style",name:"style",type:"textbox"},{type:"form",layout:"grid",packV:"start",columns:2,padding:0,alignH:["left","right"],defaults:{type:"textbox",maxWidth:50,onchange:u},items:[{label:"Vertical space",name:"vspace"},{label:"Horizontal space",name:"hspace"},{label:"Border",name:"border"}]}]}],onSubmit:s})):d=e.windowManager.open({title:"Insert/edit image",data:g,body:y,onSubmit:s})
}e.addButton("image",{icon:"image",tooltip:"Insert/edit image",onclick:i(r),stateSelector:"img:not([data-mce-object],[data-mce-placeholder])"}),e.addMenuItem("image",{icon:"image",text:"Insert image",onclick:i(r),context:"insert",prependToContext:!0})}),tinymce.PluginManager.add("importcss",function(e){function t(e){return"string"==typeof e?function(t){return-1!==t.indexOf(e)}:e instanceof RegExp?function(t){return e.test(t)}:e}function n(t,n){function i(e,t){var a,s=e.href;if(s&&n(s,t)){o(e.imports,function(e){i(e,!0)});try{a=e.cssRules||e.rules}catch(l){}o(a,function(e){e.styleSheet?i(e.styleSheet,!0):e.selectorText&&o(e.selectorText.split(","),function(e){r.push(tinymce.trim(e))})})}}var r=[],a={};o(e.contentCSS,function(e){a[e]=!0}),n||(n=function(e,t){return t||a[e]});try{o(t.styleSheets,function(e){i(e)})}catch(s){}return r}function i(t){var n,i=/^(?:([a-z0-9\-_]+))?(\.[a-z0-9_\-\.]+)$/i.exec(t);if(i){var r=i[1],o=i[2].substr(1).split(".").join(" "),a=tinymce.makeMap("a,img");return i[1]?(n={title:t},e.schema.getTextBlockElements()[r]?n.block=r:e.schema.getBlockElements()[r]||a[r.toLowerCase()]?n.selector=r:n.inline=r):i[2]&&(n={inline:"span",title:t.substr(1),classes:o}),e.settings.importcss_merge_classes!==!1?n.classes=o:n.attributes={"class":o},n}}var r=this,o=tinymce.each;e.on("renderFormatsMenu",function(a){var s=e.settings,l={},c=s.importcss_selector_converter||i,u=t(s.importcss_selector_filter),d=a.control;e.settings.importcss_append||d.items().remove();var f=[];tinymce.each(s.importcss_groups,function(e){e=tinymce.extend({},e),e.filter=t(e.filter),f.push(e)}),o(n(a.doc||e.getDoc(),t(s.importcss_file_filter)),function(t){if(-1===t.indexOf(".mce-")&&!l[t]&&(!u||u(t))){var n,i=c.call(r,t);if(i){var o=i.name||tinymce.DOM.uniqueId();if(f)for(var a=0;a<f.length;a++)if(!f[a].filter||f[a].filter(t)){f[a].item||(f[a].item={text:f[a].title,menu:[]}),n=f[a].item.menu;break}e.formatter.register(o,i);var s=tinymce.extend({},d.settings.itemDefaults,{text:i.title,format:o});n?n.push(s):d.add(s)}l[t]=!0}}),o(f,function(e){d.add(e.item)}),a.control.renderNew()}),r.convertSelectorToFormat=i}),tinymce.PluginManager.add("insertdatetime",function(e){function t(t,n){function i(e,t){if(e=""+e,e.length<t)for(var n=0;n<t-e.length;n++)e="0"+e;return e}return n=n||new Date,t=t.replace("%D","%m/%d/%Y"),t=t.replace("%r","%I:%M:%S %p"),t=t.replace("%Y",""+n.getFullYear()),t=t.replace("%y",""+n.getYear()),t=t.replace("%m",i(n.getMonth()+1,2)),t=t.replace("%d",i(n.getDate(),2)),t=t.replace("%H",""+i(n.getHours(),2)),t=t.replace("%M",""+i(n.getMinutes(),2)),t=t.replace("%S",""+i(n.getSeconds(),2)),t=t.replace("%I",""+((n.getHours()+11)%12+1)),t=t.replace("%p",""+(n.getHours()<12?"AM":"PM")),t=t.replace("%B",""+e.translate(l[n.getMonth()])),t=t.replace("%b",""+e.translate(s[n.getMonth()])),t=t.replace("%A",""+e.translate(a[n.getDay()])),t=t.replace("%a",""+e.translate(o[n.getDay()])),t=t.replace("%%","%")}function n(n){var i=t(n);if(e.settings.insertdatetime_element){var r;r=t(/%[HMSIp]/.test(n)?"%Y-%m-%dT%H:%M":"%Y-%m-%d"),i='<time datetime="'+r+'">'+i+"</time>";var o=e.dom.getParent(e.selection.getStart(),"time");if(o)return void e.dom.setOuterHTML(o,i)}e.insertContent(i)}var i,r,o="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),a="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),s="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),l="January February March April May June July August September October November December".split(" "),c=[];e.addCommand("mceInsertDate",function(){n(e.getParam("insertdatetime_dateformat",e.translate("%Y-%m-%d")))}),e.addCommand("mceInsertTime",function(){n(e.getParam("insertdatetime_timeformat",e.translate("%H:%M:%S")))}),e.addButton("insertdatetime",{type:"splitbutton",title:"Insert date/time",onclick:function(){n(i||r)},menu:c}),tinymce.each(e.settings.insertdatetime_formats||["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"],function(e){r||(r=e),c.push({text:t(e),onclick:function(){i=e,n(e)}})}),e.addMenuItem("insertdatetime",{icon:"date",text:"Insert date/time",menu:c,context:"insert"})}),!function(e){e.on("AddEditor",function(e){e.editor.settings.inline_styles=!1}),e.PluginManager.add("legacyoutput",function(t){t.on("init",function(){var n="p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img",i=e.explode(t.settings.font_size_style_values),r=t.schema;t.formatter.register({alignleft:{selector:n,attributes:{align:"left"}},aligncenter:{selector:n,attributes:{align:"center"}},alignright:{selector:n,attributes:{align:"right"}},alignjustify:{selector:n,attributes:{align:"justify"}},bold:[{inline:"b",remove:"all"},{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}}],italic:[{inline:"i",remove:"all"},{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}}],underline:[{inline:"u",remove:"all"},{inline:"span",styles:{textDecoration:"underline"},exact:!0}],strikethrough:[{inline:"strike",remove:"all"},{inline:"span",styles:{textDecoration:"line-through"},exact:!0}],fontname:{inline:"font",attributes:{face:"%value"}},fontsize:{inline:"font",attributes:{size:function(t){return e.inArray(i,t.value)+1}}},forecolor:{inline:"font",attributes:{color:"%value"}},hilitecolor:{inline:"font",styles:{backgroundColor:"%value"}}}),e.each("b,i,u,strike".split(","),function(e){r.addValidElements(e+"[*]")}),r.getElementRule("font")||r.addValidElements("font[face|size|color|style]"),e.each(n.split(","),function(e){var t=r.getElementRule(e);t&&(t.attributes.align||(t.attributes.align={},t.attributesOrder.push("align")))})})})}(tinymce),tinymce.PluginManager.add("link",function(e){function t(t){return function(){var n=e.settings.link_list;"string"==typeof n?tinymce.util.XHR.send({url:n,success:function(e){t(tinymce.util.JSON.parse(e))}}):"function"==typeof n?n(t):t(n)}}function n(t){function n(e){var t=f.find("#text");(!t.value()||e.lastControl&&t.value()==e.lastControl.text())&&t.value(e.control.text()),f.find("#href").value(e.control.value())}function i(){var n=[{text:"None",value:""}];return tinymce.each(t,function(t){n.push({text:t.text||t.title,value:e.convertURL(t.value||t.url,"href"),menu:t.menu})}),n}function r(t){return tinymce.each(t,function(t){t.textStyle=function(){return e.formatter.getCssText({inline:"a",classes:[t.value]})}}),t}function o(t,n,i){var r,o=[];return tinymce.each(e.settings[t]||i,function(e){var t={text:e.text||e.title,value:e.value};o.push(t),(x[n]===e.value||!r&&e.selected)&&(r=t)}),r&&!x[n]&&(x[n]=r.value,r.selected=!0),o}function a(t){var i=[];return tinymce.each(e.dom.select("a:not([href])"),function(e){var n=e.name||e.id;n&&i.push({text:n,value:"#"+n,selected:-1!=t.indexOf("#"+n)})}),i.length?(i.unshift({text:"None",value:""}),{name:"anchor",type:"listbox",label:"Anchors",values:i,onselect:n}):void 0}function s(){m&&m.value(e.convertURL(this.value(),"href")),!d&&0===x.text.length&&h&&this.parent().parent().find("#text")[0].value(this.value())}function l(e){var t=C.getContent();if(/</.test(t)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(t)||-1==t.indexOf("href=")))return!1;if(e){var n,i=e.childNodes;if(0===i.length)return!1;for(n=i.length-1;n>=0;n--)if(3!=i[n].nodeType)return!1}return!0}var c,u,d,f,h,p,m,g,v,b,y,x={},C=e.selection,w=e.dom;c=C.getNode(),u=w.getParent(c,"a[href]"),h=l(),x.text=d=u?u.innerText||u.textContent:C.getContent({format:"text"}),x.href=u?w.getAttrib(u,"href"):"",x.target=u?w.getAttrib(u,"target"):e.settings.default_link_target||null,x.rel=u?w.getAttrib(u,"rel"):null,x["class"]=u?w.getAttrib(u,"class"):null,x.title=u?w.getAttrib(u,"title"):"",h&&(p={name:"text",type:"textbox",size:40,label:"Text to display",onchange:function(){x.text=this.value()}}),t&&(m={type:"listbox",label:"Link list",values:i(),onselect:n,value:e.convertURL(x.href,"href"),onPostRender:function(){m=this}}),e.settings.target_list!==!1&&(v={name:"target",type:"listbox",label:"Target",values:o("target_list","target",[{text:"None",value:""},{text:"New window",value:"_blank"}])}),e.settings.rel_list&&(g={name:"rel",type:"listbox",label:"Rel",values:o("rel_list","rel",[{text:"None",value:""}])}),e.settings.link_class_list&&(b={name:"class",type:"listbox",label:"Class",values:r(o("link_class_list","class"))}),e.settings.link_title!==!1&&(y={name:"title",type:"textbox",label:"Title",value:x.title}),f=e.windowManager.open({title:"Insert link",data:x,body:[{name:"href",type:"filepicker",filetype:"file",size:40,autofocus:!0,label:"Url",onchange:s,onkeyup:s},p,y,a(x.href),m,g,v,b],onSubmit:function(t){function n(t,n){var i=e.selection.getRng();window.setTimeout(function(){e.windowManager.confirm(t,function(t){e.selection.setRng(i),n(t)})},0)}function i(){var t={href:r,target:x.target?x.target:null,rel:x.rel?x.rel:null,"class":x["class"]?x["class"]:null,title:x.title?x.title:null};u?(e.focus(),h&&x.text!=d&&("innerText"in u?u.innerText=x.text:u.textContent=x.text),w.setAttribs(u,t),C.select(u),e.undoManager.add()):h?e.insertContent(w.createHTML("a",t,w.encode(x.text))):e.execCommand("mceInsertLink",!1,t)}var r;return x=tinymce.extend(x,t.data),(r=x.href)?r.indexOf("@")>0&&-1==r.indexOf("//")&&-1==r.indexOf("mailto:")?void n("The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",function(e){e&&(r="mailto:"+r),i()}):/^\s*www\./i.test(r)?void n("The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function(e){e&&(r="http://"+r),i()}):void i():void e.execCommand("unlink")}})}e.addButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Ctrl+K",onclick:t(n),stateSelector:"a[href]"}),e.addButton("unlink",{icon:"unlink",tooltip:"Remove link",cmd:"unlink",stateSelector:"a[href]"}),e.addShortcut("Ctrl+K","",t(n)),this.showDialog=n,e.addMenuItem("link",{icon:"link",text:"Insert link",shortcut:"Ctrl+K",onclick:t(n),stateSelector:"a[href]",context:"insert",prependToContext:!0})}),tinymce.PluginManager.add("lists",function(e){function t(e){return e&&/^(OL|UL)$/.test(e.nodeName)}function n(e){return e.parentNode.firstChild==e}function i(e){return e.parentNode.lastChild==e}function r(t){return t&&!!e.schema.getTextBlockElements()[t.nodeName]}function o(e){return e&&"SPAN"===e.nodeName&&"bookmark"===e.getAttribute("data-mce-type")}var a=this;e.on("init",function(){function s(e){function t(t){var i,r,o;r=e[t?"startContainer":"endContainer"],o=e[t?"startOffset":"endOffset"],1==r.nodeType&&(i=C.create("span",{"data-mce-type":"bookmark"}),r.hasChildNodes()?(o=Math.min(o,r.childNodes.length-1),t?r.insertBefore(i,r.childNodes[o]):C.insertAfter(i,r.childNodes[o])):r.appendChild(i),r=i,o=0),n[t?"startContainer":"endContainer"]=r,n[t?"startOffset":"endOffset"]=o}var n={};return t(!0),e.collapsed||t(),n}function l(e){function t(t){function n(e){for(var t=e.parentNode.firstChild,n=0;t;){if(t==e)return n;(1!=t.nodeType||"bookmark"!=t.getAttribute("data-mce-type"))&&n++,t=t.nextSibling}return-1}var i,r,o;i=o=e[t?"startContainer":"endContainer"],r=e[t?"startOffset":"endOffset"],i&&(1==i.nodeType&&(r=n(i),i=i.parentNode,C.remove(o)),e[t?"startContainer":"endContainer"]=i,e[t?"startOffset":"endOffset"]=r)}t(!0),t();var n=C.createRng();n.setStart(e.startContainer,e.startOffset),e.endContainer&&n.setEnd(e.endContainer,e.endOffset),w.setRng(n)}function c(t,n){var i,r,o,a=C.createFragment(),s=e.schema.getBlockElements();if(e.settings.forced_root_block&&(n=n||e.settings.forced_root_block),n&&(r=C.create(n),r.tagName===e.settings.forced_root_block&&C.setAttribs(r,e.settings.forced_root_block_attrs),a.appendChild(r)),t)for(;i=t.firstChild;){var l=i.nodeName;o||"SPAN"==l&&"bookmark"==i.getAttribute("data-mce-type")||(o=!0),s[l]?(a.appendChild(i),r=null):n?(r||(r=C.create(n),a.appendChild(r)),r.appendChild(i)):a.appendChild(i)}return e.settings.forced_root_block?o||tinymce.Env.ie&&!(tinymce.Env.ie>10)||r.appendChild(C.create("br",{"data-mce-bogus":"1"})):a.appendChild(C.create("br")),a}function u(){return tinymce.grep(w.getSelectedBlocks(),function(e){return"LI"==e.nodeName})}function d(e,t,n){var i,r,o=C.select('span[data-mce-type="bookmark"]',e);n=n||c(t),i=C.createRng(),i.setStartAfter(t),i.setEndAfter(e),r=i.extractContents(),C.isEmpty(r)||C.insertAfter(r,e),C.insertAfter(n,e),C.isEmpty(t.parentNode)&&(tinymce.each(o,function(e){t.parentNode.parentNode.insertBefore(e,t.parentNode)}),C.remove(t.parentNode)),C.remove(t)}function f(e){var n,i;if(n=e.nextSibling,n&&t(n)&&n.nodeName==e.nodeName){for(;i=n.firstChild;)e.appendChild(i);C.remove(n)}if(n=e.previousSibling,n&&t(n)&&n.nodeName==e.nodeName){for(;i=n.firstChild;)e.insertBefore(i,e.firstChild);C.remove(n)}}function h(e){tinymce.each(tinymce.grep(C.select("ol,ul",e)),function(e){var n,i=e.parentNode;"LI"==i.nodeName&&i.firstChild==e&&(n=i.previousSibling,n&&"LI"==n.nodeName&&(n.appendChild(e),C.isEmpty(i)&&C.remove(i))),t(i)&&(n=i.previousSibling,n&&"LI"==n.nodeName&&n.appendChild(e))})}function p(e){function r(e){C.isEmpty(e)&&C.remove(e)}var o,a=e.parentNode,s=a.parentNode;return n(e)&&i(e)?("LI"==s.nodeName?(C.insertAfter(e,s),r(s),C.remove(a)):t(s)?C.remove(a,!0):(s.insertBefore(c(e),a),C.remove(a)),!0):n(e)?("LI"==s.nodeName?(C.insertAfter(e,s),e.appendChild(a),r(s)):t(s)?s.insertBefore(e,a):(s.insertBefore(c(e),a),C.remove(e)),!0):i(e)?("LI"==s.nodeName?C.insertAfter(e,s):t(s)?C.insertAfter(e,a):(C.insertAfter(c(e),a),C.remove(e)),!0):("LI"==s.nodeName?(a=s,o=c(e,"LI")):o=t(s)?c(e,"LI"):c(e),d(a,e,o),h(a.parentNode),!0)}function m(e){function n(n,i){var r;if(t(n)){for(;r=e.lastChild.firstChild;)i.appendChild(r);C.remove(n)}}var i,r;return i=e.previousSibling,i&&t(i)?(i.appendChild(e),!0):i&&"LI"==i.nodeName&&t(i.lastChild)?(i.lastChild.appendChild(e),n(e.lastChild,i.lastChild),!0):(i=e.nextSibling,i&&t(i)?(i.insertBefore(e,i.firstChild),!0):i&&"LI"==i.nodeName&&t(e.lastChild)?!1:(i=e.previousSibling,i&&"LI"==i.nodeName?(r=C.create(e.parentNode.nodeName),i.appendChild(r),r.appendChild(e),n(e.lastChild,r),!0):!1))}function g(){var t=u();if(t.length){for(var n=s(w.getRng(!0)),i=0;i<t.length&&(m(t[i])||0!==i);i++);return l(n),e.nodeChanged(),!0}}function v(){var t=u();if(t.length){var n,i,r=s(w.getRng(!0)),o=e.getBody();for(n=t.length;n--;)for(var a=t[n].parentNode;a&&a!=o;){for(i=t.length;i--;)if(t[i]===a){t.splice(n,1);break}a=a.parentNode}for(n=0;n<t.length&&(p(t[n])||0!==n);n++);return l(r),e.nodeChanged(),!0}}function b(n){function i(){function t(e){var t,n;for(t=a[e?"startContainer":"endContainer"],n=a[e?"startOffset":"endOffset"],1==t.nodeType&&(t=t.childNodes[Math.min(n,t.childNodes.length-1)]||t);t.parentNode!=s;){if(r(t))return t;if(/^(TD|TH)$/.test(t.parentNode.nodeName))return t;t=t.parentNode}return t}for(var n,i=[],s=e.getBody(),l=t(!0),c=t(),u=[],d=l;d&&(u.push(d),d!=c);d=d.nextSibling);return tinymce.each(u,function(e){if(r(e))return i.push(e),void(n=null);if(C.isBlock(e)||"BR"==e.nodeName)return"BR"==e.nodeName&&C.remove(e),void(n=null);var t=e.nextSibling;return o(e)&&(r(t)||!t&&e.parentNode==s)?void(n=null):(n||(n=C.create("p"),e.parentNode.insertBefore(n,e),i.push(n)),void n.appendChild(e))}),i}var a=w.getRng(!0),c=s(a),u=i();tinymce.each(u,function(e){var i,r;r=e.previousSibling,r&&t(r)&&r.nodeName==n?(i=r,e=C.rename(e,"LI"),r.appendChild(e)):(i=C.create(n),e.parentNode.insertBefore(i,e),i.appendChild(e),e=C.rename(e,"LI")),f(i)}),l(c)}function y(){var n=s(w.getRng(!0)),i=e.getBody();tinymce.each(u(),function(e){var n,r;if(C.isEmpty(e))return void p(e);for(n=e;n&&n!=i;n=n.parentNode)t(n)&&(r=n);d(r,e)}),l(n)}function x(e){var t=C.getParent(w.getStart(),"OL,UL");if(t)if(t.nodeName==e)y(e);else{var n=s(w.getRng(!0));f(C.rename(t,e)),l(n)}else b(e)}var C=e.dom,w=e.selection;a.backspaceDelete=function(e){function n(e,t){var n=e.startContainer,i=e.startOffset;if(3==n.nodeType&&(t?i<n.data.length:i>0))return n;for(var r=new tinymce.dom.TreeWalker(e.startContainer);n=r[t?"next":"prev"]();)if(3==n.nodeType&&n.data.length>0)return n}function i(e,n){var i,r,o=e.parentNode;for(t(n.lastChild)&&(r=n.lastChild),i=n.lastChild,i&&"BR"==i.nodeName&&e.hasChildNodes()&&C.remove(i);i=e.firstChild;)n.appendChild(i);r&&n.appendChild(r),C.remove(e),C.isEmpty(o)&&C.remove(o)}if(w.isCollapsed()){var r=C.getParent(w.getStart(),"LI");if(r){var o=w.getRng(!0),a=C.getParent(n(o,e),"LI");if(a&&a!=r){var c=s(o);return e?i(a,r):i(r,a),l(c),!0}if(!a&&!e&&y(r.parentNode.nodeName))return!0}}},e.addCommand("Indent",function(){return g()?void 0:!0}),e.addCommand("Outdent",function(){return v()?void 0:!0}),e.addCommand("InsertUnorderedList",function(){x("UL")}),e.addCommand("InsertOrderedList",function(){x("OL")}),e.on("keydown",function(t){9==t.keyCode&&e.dom.getParent(e.selection.getStart(),"LI")&&(t.preventDefault(),t.shiftKey?v():g())})}),e.addButton("indent",{icon:"indent",title:"Increase indent",cmd:"Indent",onPostRender:function(){var t=this;e.on("nodechange",function(){for(var i=e.selection.getSelectedBlocks(),r=!1,o=0,a=i.length;!r&&a>o;o++){var s=i[o].nodeName;r="LI"==s&&n(i[o])||"UL"==s||"OL"==s}t.disabled(r)})}}),e.on("keydown",function(e){e.keyCode==tinymce.util.VK.BACKSPACE?a.backspaceDelete()&&e.preventDefault():e.keyCode==tinymce.util.VK.DELETE&&a.backspaceDelete(!0)&&e.preventDefault()})}),tinymce.PluginManager.add("media",function(e,t){function n(e){return-1!=e.indexOf(".mp3")?"audio/mpeg":-1!=e.indexOf(".wav")?"audio/wav":-1!=e.indexOf(".mp4")?"video/mp4":-1!=e.indexOf(".webm")?"video/webm":-1!=e.indexOf(".ogg")?"video/ogg":-1!=e.indexOf(".swf")?"application/x-shockwave-flash":""}function i(t){var n=e.settings.media_scripts;if(n)for(var i=0;i<n.length;i++)if(-1!==t.indexOf(n[i].filter))return n[i]}function r(){function t(e){var t,o,a,s;t=n.find("#width")[0],o=n.find("#height")[0],a=t.value(),s=o.value(),n.find("#constrain")[0].checked()&&i&&r&&a&&s&&(e.control==t?(s=Math.round(a/i*s),o.value(s)):(a=Math.round(s/r*a),t.value(a))),i=a,r=s}var n,i,r,c,u=[{name:"source1",type:"filepicker",filetype:"media",size:40,autofocus:!0,label:"Source"}];e.settings.media_alt_source!==!1&&u.push({name:"source2",type:"filepicker",filetype:"media",size:40,label:"Alternative source"}),e.settings.media_poster!==!1&&u.push({name:"poster",type:"filepicker",filetype:"image",size:40,label:"Poster"}),e.settings.media_dimensions!==!1&&u.push({type:"container",label:"Dimensions",layout:"flex",align:"center",spacing:5,items:[{name:"width",type:"textbox",maxLength:3,size:3,onchange:t},{type:"label",text:"x"},{name:"height",type:"textbox",maxLength:3,size:3,onchange:t},{name:"constrain",type:"checkbox",checked:!0,text:"Constrain proportions"}]}),c=l(e.selection.getNode()),i=c.width,r=c.height,n=e.windowManager.open({title:"Insert/edit video",data:c,bodyType:"tabpanel",body:[{title:"General",type:"form",onShowTab:function(){c=s(this.next().find("#embed").value()),this.fromJSON(c)},items:u},{title:"Embed",type:"panel",layout:"flex",direction:"column",align:"stretch",padding:10,spacing:10,onShowTab:function(){this.find("#embed").value(a(this.parent().toJSON()))},items:[{type:"label",text:"Paste your embed code below:",forId:"mcemediasource"},{id:"mcemediasource",type:"textbox",flex:1,name:"embed",value:o(),multiline:!0,label:"Source"}]}],onSubmit:function(){e.insertContent(a(this.toJSON()))}})}function o(){var t=e.selection.getNode();return t.getAttribute("data-mce-object")?e.selection.getContent():void 0}function a(r){var o="";if(!r.source1&&(tinymce.extend(r,s(r.embed)),!r.source1))return"";if(r.source2||(r.source2=""),r.poster||(r.poster=""),r.source1=e.convertURL(r.source1,"source"),r.source2=e.convertURL(r.source2,"source"),r.source1mime=n(r.source1),r.source2mime=n(r.source2),r.poster=e.convertURL(r.poster,"poster"),r.flashPlayerUrl=e.convertURL(t+"/moxieplayer.swf","movie"),tinymce.each(u,function(e){var t,n,i;if(t=e.regex.exec(r.source1)){for(i=e.url,n=0;t[n];n++)i=i.replace("$"+n,function(){return t[n]});r.source1=i,r.type=e.type,r.width=r.width||e.w,r.height=r.height||e.h}}),r.embed)o=c(r.embed,r,!0);else{var a=i(r.source1);a&&(r.type="script",r.width=a.width,r.height=a.height),r.width=r.width||300,r.height=r.height||150,tinymce.each(r,function(t,n){r[n]=e.dom.encode(t)}),"iframe"==r.type?o+='<iframe src="'+r.source1+'" width="'+r.width+'" height="'+r.height+'"></iframe>':"application/x-shockwave-flash"==r.source1mime?(o+='<object data="'+r.source1+'" width="'+r.width+'" height="'+r.height+'" type="application/x-shockwave-flash">',r.poster&&(o+='<img src="'+r.poster+'" width="'+r.width+'" height="'+r.height+'" />'),o+="</object>"):-1!=r.source1mime.indexOf("audio")?e.settings.audio_template_callback?o=e.settings.audio_template_callback(r):o+='<audio controls="controls" src="'+r.source1+'">'+(r.source2?'\n<source src="'+r.source2+'"'+(r.source2mime?' type="'+r.source2mime+'"':"")+" />\n":"")+"</audio>":"script"==r.type?o+='<script src="'+r.source1+'"></script>':o=e.settings.video_template_callback?e.settings.video_template_callback(r):'<video width="'+r.width+'" height="'+r.height+'"'+(r.poster?' poster="'+r.poster+'"':"")+' controls="controls">\n<source src="'+r.source1+'"'+(r.source1mime?' type="'+r.source1mime+'"':"")+" />\n"+(r.source2?'<source src="'+r.source2+'"'+(r.source2mime?' type="'+r.source2mime+'"':"")+" />\n":"")+"</video>"}return o}function s(e){var t={};return new tinymce.html.SaxParser({validate:!1,allow_conditional_comments:!0,special:"script,noscript",start:function(e,n){if(t.source1||"param"!=e||(t.source1=n.map.movie),("iframe"==e||"object"==e||"embed"==e||"video"==e||"audio"==e)&&(t.type||(t.type=e),t=tinymce.extend(n.map,t)),"script"==e){var r=i(n.map.src);if(!r)return;t={type:"script",source1:n.map.src,width:r.width,height:r.height}}"source"==e&&(t.source1?t.source2||(t.source2=n.map.src):t.source1=n.map.src),"img"!=e||t.poster||(t.poster=n.map.src)}}).parse(e),t.source1=t.source1||t.src||t.data,t.source2=t.source2||"",t.poster=t.poster||"",t}function l(t){return t.getAttribute("data-mce-object")?s(e.serializer.serialize(t,{selection:!0})):{}}function c(e,t,n){function i(e,t){var n,i,r,o;for(n in t)if(r=""+t[n],e.map[n])for(i=e.length;i--;)o=e[i],o.name==n&&(r?(e.map[n]=r,o.value=r):(delete e.map[n],e.splice(i,1)));else r&&(e.push({name:n,value:r}),e.map[n]=r)}var r,o=new tinymce.html.Writer,a=0;return new tinymce.html.SaxParser({validate:!1,allow_conditional_comments:!0,special:"script,noscript",comment:function(e){o.comment(e)},cdata:function(e){o.cdata(e)},text:function(e,t){o.text(e,t)},start:function(e,s,l){switch(e){case"video":case"object":case"embed":case"img":case"iframe":i(s,{width:t.width,height:t.height})}if(n)switch(e){case"video":i(s,{poster:t.poster,src:""}),t.source2&&i(s,{src:""});break;case"iframe":i(s,{src:t.source1});break;case"source":if(a++,2>=a&&(i(s,{src:t["source"+a],type:t["source"+a+"mime"]}),!t["source"+a]))return;break;case"img":if(!t.poster)return;r=!0}o.start(e,s,l)},end:function(e){if("video"==e&&n)for(var s=1;2>=s;s++)if(t["source"+s]){var l=[];l.map={},s>a&&(i(l,{src:t["source"+s],type:t["source"+s+"mime"]}),o.start("source",l,!0))}if(t.poster&&"object"==e&&n&&!r){var c=[];c.map={},i(c,{src:t.poster,width:t.width,height:t.height}),o.start("img",c,!0)}o.end(e)}},new tinymce.html.Schema({})).parse(e),o.getContent()}var u=[{regex:/youtu\.be\/([\w\-.]+)/,type:"iframe",w:425,h:350,url:"//www.youtube.com/embed/$1"},{regex:/youtube\.com(.+)v=([^&]+)/,type:"iframe",w:425,h:350,url:"//www.youtube.com/embed/$2"},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"//player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc"},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'//maps.google.com/maps/ms?msid=$2&output=embed"'}];e.on("ResolveName",function(e){var t;1==e.target.nodeType&&(t=e.target.getAttribute("data-mce-object"))&&(e.name=t)}),e.on("preInit",function(){var t=e.schema.getSpecialElements();tinymce.each("video audio iframe object".split(" "),function(e){t[e]=new RegExp("</"+e+"[^>]*>","gi")});var n=e.schema.getBoolAttrs();tinymce.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),function(e){n[e]={}}),e.parser.addNodeFilter("iframe,video,audio,object,embed,script",function(t,n){for(var r,o,a,s,l,c,u,d,f=t.length;f--;)if(o=t[f],o.parent&&("script"!=o.name||(d=i(o.attr("src"))))){for(a=new tinymce.html.Node("img",1),a.shortEnded=!0,d&&(d.width&&o.attr("width",d.width.toString()),d.height&&o.attr("height",d.height.toString())),c=o.attributes,r=c.length;r--;)s=c[r].name,l=c[r].value,"width"!==s&&"height"!==s&&"style"!==s&&(("data"==s||"src"==s)&&(l=e.convertURL(l,s)),a.attr("data-mce-p-"+s,l));u=o.firstChild&&o.firstChild.value,u&&(a.attr("data-mce-html",escape(u)),a.firstChild=null),a.attr({width:o.attr("width")||"300",height:o.attr("height")||("audio"==n?"30":"150"),style:o.attr("style"),src:tinymce.Env.transparentSrc,"data-mce-object":n,"class":"mce-object mce-object-"+n}),o.replace(a)}}),e.serializer.addAttributeFilter("data-mce-object",function(e,t){for(var n,i,r,o,a,s,l,c=e.length;c--;)if(n=e[c],n.parent){for(l=n.attr(t),i=new tinymce.html.Node(l,1),"audio"!=l&&"script"!=l&&i.attr({width:n.attr("width"),height:n.attr("height")}),i.attr({style:n.attr("style")}),o=n.attributes,r=o.length;r--;){var u=o[r].name;0===u.indexOf("data-mce-p-")&&i.attr(u.substr(11),o[r].value)}"script"==l&&i.attr("type","text/javascript"),a=n.attr("data-mce-html"),a&&(s=new tinymce.html.Node("#text",3),s.raw=!0,s.value=unescape(a),i.append(s)),n.replace(i)}})}),e.on("ObjectSelected",function(e){var t=e.target.getAttribute("data-mce-object");("audio"==t||"script"==t)&&e.preventDefault()}),e.on("objectResized",function(e){var t,n=e.target;n.getAttribute("data-mce-object")&&(t=n.getAttribute("data-mce-html"),t&&(t=unescape(t),n.setAttribute("data-mce-html",escape(c(t,{width:e.width,height:e.height})))))}),e.addButton("media",{tooltip:"Insert/edit video",onclick:r,stateSelector:["img[data-mce-object=video]","img[data-mce-object=iframe]"]}),e.addMenuItem("media",{icon:"media",text:"Insert video",onclick:r,context:"insert",prependToContext:!0})}),tinymce.PluginManager.add("nonbreaking",function(e){var t=e.getParam("nonbreaking_force_tab");if(e.addCommand("mceNonBreaking",function(){e.insertContent(e.plugins.visualchars&&e.plugins.visualchars.state?'<span class="mce-nbsp">&nbsp;</span>':"&nbsp;"),e.dom.setAttrib(e.dom.select("span.mce-nbsp"),"data-mce-bogus","1")}),e.addButton("nonbreaking",{title:"Insert nonbreaking space",cmd:"mceNonBreaking"}),e.addMenuItem("nonbreaking",{text:"Nonbreaking space",cmd:"mceNonBreaking",context:"insert"}),t){var n=+t>1?+t:3;e.on("keydown",function(t){if(9==t.keyCode){if(t.shiftKey)return;t.preventDefault();for(var i=0;n>i;i++)e.execCommand("mceNonBreaking")}})}}),tinymce.PluginManager.add("noneditable",function(e){function t(e){var t;if(1===e.nodeType){if(t=e.getAttribute(u),t&&"inherit"!==t)return t;if(t=e.contentEditable,"inherit"!==t)return t}return null}function n(e){for(var n;e;){if(n=t(e))return"false"===n?e:null;e=e.parentNode}}function i(){function i(e){for(;e;){if(e.id===h)return e;e=e.parentNode}}function r(e){var t;if(e)for(t=new l(e,e),e=t.current();e;e=t.next())if(3===e.nodeType)return e}function o(n,i){var r,o;return"false"===t(n)&&u.isBlock(n)?void f.select(n):(o=u.createRng(),"true"===t(n)&&(n.firstChild||n.appendChild(e.getDoc().createTextNode("\xa0")),n=n.firstChild,i=!0),r=u.create("span",{id:h,"data-mce-bogus":!0},p),i?n.parentNode.insertBefore(r,n):u.insertAfter(r,n),o.setStart(r.firstChild,1),o.collapse(!0),f.setRng(o),r)}function a(e){var t,n,o,a;if(e)t=f.getRng(!0),t.setStartBefore(e),t.setEndBefore(e),n=r(e),n&&n.nodeValue.charAt(0)==p&&(n=n.deleteData(0,1)),u.remove(e,!0),f.setRng(t);else for(o=i(f.getStart());(e=u.get(h))&&e!==a;)o!==e&&(n=r(e),n&&n.nodeValue.charAt(0)==p&&(n=n.deleteData(0,1)),u.remove(e,!0)),a=e}function s(){function e(e,n){var i,r,o,a,s;if(i=c.startContainer,r=c.startOffset,3==i.nodeType){if(s=i.nodeValue.length,r>0&&s>r||(n?r==s:0===r))return}else{if(!(r<i.childNodes.length))return n?null:e;var u=!n&&r>0?r-1:r;i=i.childNodes[u],i.hasChildNodes()&&(i=i.firstChild)}for(o=new l(i,e);a=o[n?"prev":"next"]();){if(3===a.nodeType&&a.nodeValue.length>0)return;if("true"===t(a))return a}return e}var i,r,s,c,u;a(),s=f.isCollapsed(),i=n(f.getStart()),r=n(f.getEnd()),(i||r)&&(c=f.getRng(!0),s?(i=i||r,(u=e(i,!0))?o(u,!0):(u=e(i,!1))?o(u,!1):f.select(i)):(c=f.getRng(!0),i&&c.setStartBefore(i),r&&c.setEndAfter(r),f.setRng(c)))}function c(r){function o(e,t){for(;e=e[t?"previousSibling":"nextSibling"];)if(3!==e.nodeType||e.nodeValue.length>0)return e}function c(e,t){f.select(e),f.collapse(t)}function h(r){function o(e){for(var t=c;t;){if(t===e)return;t=t.parentNode}u.remove(e),s()}function a(){var i,a,s=e.schema.getNonEmptyElements();for(a=new tinymce.dom.TreeWalker(c,e.getBody());(i=r?a.prev():a.next())&&!s[i.nodeName.toLowerCase()]&&!(3===i.nodeType&&tinymce.trim(i.nodeValue).length>0);)if("false"===t(i))return o(i),!0;return n(i)?!0:!1}var l,c,d,h;if(f.isCollapsed()){if(l=f.getRng(!0),c=l.startContainer,d=l.startOffset,c=i(c)||c,h=n(c))return o(h),!1;if(3==c.nodeType&&(r?d>0:d<c.nodeValue.length))return!0;if(1==c.nodeType&&(c=c.childNodes[d]||c),a())return!1}return!0}var p,m,g,v,b=r.keyCode;if(g=f.getStart(),v=f.getEnd(),p=n(g)||n(v),p&&(112>b||b>124)&&b!=d.DELETE&&b!=d.BACKSPACE){if((tinymce.isMac?r.metaKey:r.ctrlKey)&&(67==b||88==b||86==b))return;if(r.preventDefault(),b==d.LEFT||b==d.RIGHT){var y=b==d.LEFT;if(e.dom.isBlock(p)){var x=y?p.previousSibling:p.nextSibling,C=new l(x,x),w=y?C.prev():C.next();c(w,!y)}else c(p,y)}}else if(b==d.LEFT||b==d.RIGHT||b==d.BACKSPACE||b==d.DELETE){if(m=i(g)){if(b==d.LEFT||b==d.BACKSPACE)if(p=o(m,!0),p&&"false"===t(p)){if(r.preventDefault(),b!=d.LEFT)return void u.remove(p);c(p,!0)}else a(m);if(b==d.RIGHT||b==d.DELETE)if(p=o(m),p&&"false"===t(p)){if(r.preventDefault(),b!=d.RIGHT)return void u.remove(p);c(p,!1)}else a(m)}if((b==d.BACKSPACE||b==d.DELETE)&&!h(b==d.BACKSPACE))return r.preventDefault(),!1}}var u=e.dom,f=e.selection,h="mce_noneditablecaret",p="";e.on("mousedown",function(n){var i=e.selection.getNode();"false"===t(i)&&i==n.target&&s()}),e.on("mouseup keyup",s),e.on("keydown",c)}function r(t){var n=s.length,i=t.content,r=tinymce.trim(a);if("raw"!=t.format){for(;n--;)i=i.replace(s[n],function(t){var n=arguments,o=n[n.length-2];return o>0&&'"'==i.charAt(o-1)?t:'<span class="'+r+'" data-mce-content="'+e.dom.encode(n[0])+'">'+e.dom.encode("string"==typeof n[1]?n[1]:n[0])+"</span>"});t.content=i}}var o,a,s,l=tinymce.dom.TreeWalker,c="contenteditable",u="data-mce-"+c,d=tinymce.util.VK;o=" "+tinymce.trim(e.getParam("noneditable_editable_class","mceEditable"))+" ",a=" "+tinymce.trim(e.getParam("noneditable_noneditable_class","mceNonEditable"))+" ",s=e.getParam("noneditable_regexp"),s&&!s.length&&(s=[s]),e.on("PreInit",function(){i(),s&&e.on("BeforeSetContent",r),e.parser.addAttributeFilter("class",function(e){for(var t,n,i=e.length;i--;)n=e[i],t=" "+n.attr("class")+" ",-1!==t.indexOf(o)?n.attr(u,"true"):-1!==t.indexOf(a)&&n.attr(u,"false")}),e.serializer.addAttributeFilter(u,function(e){for(var t,n=e.length;n--;)t=e[n],s&&t.attr("data-mce-content")?(t.name="#text",t.type=3,t.raw=!0,t.value=t.attr("data-mce-content")):(t.attr(c,null),t.attr(u,null))}),e.parser.addAttributeFilter(c,function(e){for(var t,n=e.length;n--;)t=e[n],t.attr(u,t.attr(c)),t.attr(c,null)})}),e.on("drop",function(e){n(e.target)&&e.preventDefault()})}),tinymce.PluginManager.add("pagebreak",function(e){var t="mce-pagebreak",n=e.getParam("pagebreak_separator","<!-- pagebreak -->"),i=new RegExp(n.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,function(e){return"\\"+e}),"gi"),r='<img src="'+tinymce.Env.transparentSrc+'" class="'+t+'" data-mce-resize="false" />';e.addCommand("mcePageBreak",function(){e.insertContent(e.settings.pagebreak_split_block?"<p>"+r+"</p>":r)}),e.addButton("pagebreak",{title:"Page break",cmd:"mcePageBreak"}),e.addMenuItem("pagebreak",{text:"Page break",icon:"pagebreak",cmd:"mcePageBreak",context:"insert"}),e.on("ResolveName",function(n){"IMG"==n.target.nodeName&&e.dom.hasClass(n.target,t)&&(n.name="pagebreak")}),e.on("click",function(n){n=n.target,"IMG"===n.nodeName&&e.dom.hasClass(n,t)&&e.selection.select(n)}),e.on("BeforeSetContent",function(e){e.content=e.content.replace(i,r)}),e.on("PreInit",function(){e.serializer.addNodeFilter("img",function(t){for(var i,r,o=t.length;o--;)if(i=t[o],r=i.attr("class"),r&&-1!==r.indexOf("mce-pagebreak")){var a=i.parent;if(e.schema.getBlockElements()[a.name]&&e.settings.pagebreak_split_block){a.type=3,a.value=n,a.raw=!0,i.remove();continue}i.type=3,i.value=n,i.raw=!0}})})}),!function(e,t){"use strict";function n(e,t){for(var n,i=[],o=0;o<e.length;++o){if(n=a[e[o]]||r(e[o]),!n)throw"module definition dependecy not found: "+e[o];i.push(n)}t.apply(null,i)}function i(e,i,r){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";
if(i===t)throw"invalid module definition, dependencies must be specified";if(r===t)throw"invalid module definition, definition function must be specified";n(i,function(){a[e]=r.apply(null,arguments)})}function r(t){for(var n=e,i=t.split(/[.\/]/),r=0;r<i.length;++r){if(!n[i[r]])return;n=n[i[r]]}return n}function o(n){for(var i=0;i<n.length;i++){for(var r=e,o=n[i],s=o.split(/[.\/]/),l=0;l<s.length-1;++l)r[s[l]]===t&&(r[s[l]]={}),r=r[s[l]];r[s[s.length-1]]=a[o]}}var a={},s="tinymce/pasteplugin/Utils",l="tinymce/util/Tools",c="tinymce/html/DomParser",u="tinymce/html/Schema",d="tinymce/pasteplugin/Clipboard",f="tinymce/Env",h="tinymce/util/VK",p="tinymce/pasteplugin/WordFilter",m="tinymce/html/Serializer",g="tinymce/html/Node",v="tinymce/pasteplugin/Quirks",b="tinymce/pasteplugin/Plugin",y="tinymce/PluginManager";i(s,[l,c,u],function(e,t,n){function i(t,n){return e.each(n,function(e){t=e.constructor==RegExp?t.replace(e,""):t.replace(e[0],e[1])}),t}function r(i){function r(e){var t=e.name,n=e;if("br"===t)return void(s+="\n");if(l[t]&&(s+=" "),c[t])return void(s+=" ");if(3==e.type&&(s+=e.value),!e.shortEnded&&(e=e.firstChild))do r(e);while(e=e.next);u[t]&&n.next&&(s+="\n","p"==t&&(s+="\n"))}var o=new n,a=new t({},o),s="",l=o.getShortEndedElements(),c=e.makeMap("script noscript style textarea video audio iframe object"," "),u=o.getBlockElements();return r(a.parse(i)),s}return{filter:i,innerText:r}}),i(d,[f,h,s],function(e,t,n){return function(i){function r(e){var t,n=i.dom;if(t=i.fire("BeforePastePreProcess",{content:e}),t=i.fire("PastePreProcess",t),e=t.content,!t.isDefaultPrevented()){if(i.hasEventListeners("PastePostProcess")&&!t.isDefaultPrevented()){var r=n.add(i.getBody(),"div",{style:"display:none"},e);t=i.fire("PastePostProcess",{node:r}),n.remove(r),e=t.node.innerHTML}t.isDefaultPrevented()||i.insertContent(e)}}function o(e){e=i.dom.encode(e).replace(/\r\n/g,"\n");var t,o=i.dom.getParent(i.selection.getStart(),i.dom.isBlock),a=i.settings.forced_root_block;a&&(t=i.dom.createHTML(a,i.settings.forced_root_block_attrs),t=t.substr(0,t.length-3)+">"),o&&/^(PRE|DIV)$/.test(o.nodeName)||!a?e=n.filter(e,[[/\n/g,"<br>"]]):(e=n.filter(e,[[/\n\n/g,"</p>"+t],[/^(.*<\/p>)(<p>)$/,t+"$1"],[/\n/g,"<br />"]]),-1!=e.indexOf("<p>")&&(e=t+e)),r(e)}function a(){var t,n=i.dom,r=i.getBody(),o=i.dom.getViewPort(i.getWin()),a=o.y,s=20;if(g=i.selection.getRng(),i.inline&&(t=i.selection.getScrollContainer(),t&&t.scrollTop>0&&(a=t.scrollTop)),g.getClientRects){var l=g.getClientRects();if(l.length)s=a+(l[0].top-n.getPos(r).y);else{s=a;var c=g.startContainer;c&&(3==c.nodeType&&c.parentNode!=r&&(c=c.parentNode),1==c.nodeType&&(s=n.getPos(c,t||r).y))}}m=n.add(i.getBody(),"div",{id:"mcepastebin",contentEditable:!0,"data-mce-bogus":"1",style:"position: absolute; top: "+s+"px;width: 10px; height: 10px; overflow: hidden; opacity: 0"},x),(e.ie||e.gecko)&&n.setStyle(m,"left","rtl"==n.getStyle(r,"direction",!0)?65535:-65535),n.bind(m,"beforedeactivate focusin focusout",function(e){e.stopPropagation()}),m.focus(),i.selection.select(m,!0)}function s(){if(m){for(var e;e=i.dom.get("mcepastebin");)i.dom.remove(e),i.dom.unbind(e);g&&i.selection.setRng(g)}v=!1,m=g=null}function l(){var e,t,n=x;for(e=i.dom.select("div[id=mcepastebin]"),t=e.length;t--;){var r=e[t].innerHTML;n==x&&(n=""),r.length>n.length&&(n=r)}return n}function c(e){var t={};if(e&&e.types){var n=e.getData("Text");n&&n.length>0&&(t["text/plain"]=n);for(var i=0;i<e.types.length;i++){var r=e.types[i];t[r]=e.getData(r)}}return t}function u(e){return c(e.clipboardData||i.getDoc().dataTransfer)}function d(e,t){function n(e){if("image/png"==o[a].type){var t=new FileReader;return t.onload=function(){r('<img src="'+t.result+'">')},t.readAsDataURL(e.getAsFile()),!0}}if(!(!i.settings.paste_data_images||"text/html"in t||"text/plain"in t)&&e.clipboardData){var o=e.clipboardData.items;if(o)for(var a=0;a<o.length;a++)if(n(o[a]))return!0}}function f(e){var t,n=i.getDoc();if(n.caretPositionFromPoint){var r=n.caretPositionFromPoint(e.clientX,e.clientY);t=n.createRange(),t.setStart(r.offsetNode,r.offset),t.collapse(!0)}else n.caretRangeFromPoint&&(t=n.caretRangeFromPoint(e.clientX,e.clientY));return t}function h(e,t){return t in e&&e[t].length>0}function p(){i.on("keydown",function(n){if(!n.isDefaultPrevented()&&(t.metaKeyPressed(n)&&86==n.keyCode||n.shiftKey&&45==n.keyCode)){if(v=n.shiftKey&&86==n.keyCode,n.stopImmediatePropagation(),y=(new Date).getTime(),e.ie&&v)return n.preventDefault(),void i.fire("paste",{ieFake:!0});s(),a()}}),i.on("paste",function(t){var c=u(t),f=(new Date).getTime()-y<1e3,p="text"==b.pasteFormat||v;return t.isDefaultPrevented()?void s():d(t,c)?void s():(f||t.preventDefault(),!e.ie||f&&!t.ieFake||(a(),i.dom.bind(m,"paste",function(e){e.stopPropagation()}),i.getDoc().execCommand("Paste",!1,null),c["text/html"]=l()),void setTimeout(function(){var e=l();return m&&m.firstChild&&"mcepastebin"===m.firstChild.id&&(p=!0),s(),!p&&f&&e&&e!=x&&(c["text/html"]=e),e!=x&&f||(e=c["text/html"]||c["text/plain"]||x,e!=x)?(!h(c,"text/html")&&h(c,"text/plain")&&(p=!0),void(p?o(c["text/plain"]||n.innerText(e)):r(e))):void(f||i.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents."))},0))}),i.on("dragstart",function(e){if(e.dataTransfer.types)try{e.dataTransfer.setData("mce-internal",i.selection.getContent())}catch(t){}}),i.on("drop",function(e){var t=f(e);if(t&&!e.isDefaultPrevented()){var n=c(e.dataTransfer),a=n["mce-internal"]||n["text/html"]||n["text/plain"];a&&(e.preventDefault(),i.undoManager.transact(function(){n["mce-internal"]&&i.execCommand("Delete"),i.selection.setRng(t),n["text/html"]?r(a):o(a)}))}})}var m,g,v,b=this,y=0,x="%MCEPASTEBIN%";b.pasteHtml=r,b.pasteText=o,i.on("preInit",function(){p(),i.parser.addNodeFilter("img",function(t){if(!i.settings.paste_data_images)for(var n=t.length;n--;){var r=t[n].attributes.map.src;r&&0===r.indexOf("data:image")&&(t[n].attr("data-mce-object")||r===e.transparentSrc||t[n].remove())}})}),i.on("PreProcess",function(){i.dom.remove(i.dom.get("mcepastebin"))})}}),i(p,[l,c,u,m,g,s],function(e,t,n,i,r,o){function a(e){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(e)||/class="OutlineElement/.test(e)||/id="?docs\-internal\-guid\-/.test(e)}function s(s){var l=s.settings;s.on("BeforePastePreProcess",function(c){function u(e){function t(e,t,a,s){var l=e._listLevel||o;l!=o&&(o>l?n&&(n=n.parent.parent):(i=n,n=null)),n&&n.name==a?n.append(e):(i=i||n,n=new r(a,1),s>1&&n.attr("start",""+s),e.wrap(n)),e.name="li",t.value="";var c=t.next;c&&3==c.type&&(c.value=c.value.replace(/^\u00a0+/,"")),l>o&&i&&i.lastChild.append(n),o=l}for(var n,i,o=1,a=e.getAll("p"),s=0;s<a.length;s++)if(e=a[s],"p"==e.name&&e.firstChild){for(var l="",c=e.firstChild;c&&!(l=c.value);)c=c.firstChild;if(/^\s*[\u2022\u00b7\u00a7\u00d8\u25CF]\s*$/.test(l)){t(e,c,"ul");continue}if(/^\s*\w+\.$/.test(l)){var u=/([0-9])\./.exec(l),d=1;u&&(d=parseInt(u[1],10)),t(e,c,"ol",d);continue}n=null}}function d(t,n){var i={},o=s.dom.parseStyle(n);if("p"===t.name){var a=/mso-list:\w+ \w+([0-9]+)/.exec(n);a&&(t._listLevel=parseInt(a[1],10))}return e.each(o,function(e,n){switch(n){case"horiz-align":n="text-align";break;case"vert-align":n="vertical-align";break;case"font-color":case"mso-foreground":n="color";break;case"mso-background":case"mso-highlight":n="background";break;case"font-weight":case"font-style":return void("normal"!=e&&(i[n]=e));case"mso-element":if(/^(comment|comment-list)$/i.test(e))return void t.remove()}return 0===n.indexOf("mso-comment")?void t.remove():void(0!==n.indexOf("mso-")&&("all"==f||h&&h[n])&&(i[n]=e))}),/(bold)/i.test(i["font-weight"])&&(delete i["font-weight"],t.wrap(new r("b",1))),/(italic)/i.test(i["font-style"])&&(delete i["font-style"],t.wrap(new r("i",1))),i=s.dom.serializeStyle(i,t.name),i?i:null}var f,h,p=c.content;if(f=l.paste_retain_style_properties,f&&(h=e.makeMap(f.split(/[, ]/))),l.paste_enable_default_filters!==!1&&a(c.content)){c.wordContent=!0,p=o.filter(p,[/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,"\xa0"],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(e,t){return t.length>0?t.replace(/./," ").slice(Math.floor(t.length/2)).split("").join("\xa0"):""}]]);var m=l.paste_word_valid_elements;m||(m="-strong/b,-em/i,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-table[width],-tr,-td[colspan|rowspan|width],-th,-thead,-tfoot,-tbody,-a[href|name],sub,sup,strike,br,del");var g=new n({valid_elements:m,valid_children:"-li[p]"});e.each(g.elements,function(e){e.attributes["class"]||(e.attributes["class"]={},e.attributesOrder.push("class")),e.attributes.style||(e.attributes.style={},e.attributesOrder.push("style"))});var v=new t({},g);v.addAttributeFilter("style",function(e){for(var t,n=e.length;n--;)t=e[n],t.attr("style",d(t,t.attr("style"))),"span"==t.name&&t.parent&&!t.attributes.length&&t.unwrap()}),v.addAttributeFilter("class",function(e){for(var t,n,i=e.length;i--;)t=e[i],n=t.attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n)&&t.remove(),t.attr("class",null)}),v.addNodeFilter("del",function(e){for(var t=e.length;t--;)e[t].remove()}),v.addNodeFilter("a",function(e){for(var t,n,i,r=e.length;r--;)if(t=e[r],n=t.attr("href"),i=t.attr("name"),n&&-1!=n.indexOf("#_msocom_"))t.remove();else if(n&&0===n.indexOf("file://")&&(n=n.split("#")[1],n&&(n="#"+n)),n||i){if(i&&!/^_?(?:toc|edn|ftn)/i.test(i)){t.unwrap();continue}t.attr({href:n,name:i})}else t.unwrap()});var b=v.parse(p);u(b),c.content=new i({},g).serialize(b)}})}return s.isWordContent=a,s}),i(v,[f,l,p,s],function(e,t,n,i){return function(r){function o(e){r.on("BeforePastePreProcess",function(t){t.content=e(t.content)})}function a(e){return e=i.filter(e,[/^[\s\S]*<body[^>]*>\s*<!--StartFragment-->|<!--EndFragment-->\s*<\/body[^>]*>[\s\S]*$/g,/<!--StartFragment-->|<!--EndFragment-->/g,[/<span class="Apple-converted-space">\u00a0<\/span>/g,"\xa0"],/<br>$/i])}function s(e){if(!n.isWordContent(e))return e;var o=[];t.each(r.schema.getBlockElements(),function(e,t){o.push(t)});var a=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+o.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return e=i.filter(e,[[a,"$1"]]),e=i.filter(e,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])}function l(e){if(n.isWordContent(e))return e;var t=r.settings.paste_webkit_styles;if(r.settings.paste_remove_styles_if_webkit===!1||"all"==t)return e;if(t&&(t=t.split(/[, ]/)),t){var i=r.dom,o=r.selection.getNode();e=e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(e,n,r,a){var s=i.parseStyle(r,"span"),l={};if("none"===t)return n+a;for(var c=0;c<t.length;c++){var u=s[t[c]],d=i.getStyle(o,t[c],!0);/color/.test(t[c])&&(u=i.toHex(u),d=i.toHex(d)),d!=u&&(l[t[c]]=u)}return l=i.serializeStyle(l,"span"),l?n+' style="'+l+'"'+a:""})}else e=e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return e=e.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(e,t,n,i){return t+' style="'+n+'"'+i})}e.webkit&&(o(l),o(a)),e.ie&&o(s)}}),i(b,[y,d,p,v],function(e,t,n,i){var r;e.add("paste",function(e){function o(){"text"==a.pasteFormat?(this.active(!1),a.pasteFormat="html"):(a.pasteFormat="text",this.active(!0),r||(e.windowManager.alert("Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off."),r=!0))}var a,s=this,l=e.settings;s.clipboard=a=new t(e),s.quirks=new i(e),s.wordFilter=new n(e),e.settings.paste_as_text&&(s.clipboard.pasteFormat="text"),l.paste_preprocess&&e.on("PastePreProcess",function(e){l.paste_preprocess.call(s,s,e)}),l.paste_postprocess&&e.on("PastePostProcess",function(e){l.paste_postprocess.call(s,s,e)}),e.addCommand("mceInsertClipboardContent",function(e,t){t.content&&s.clipboard.pasteHtml(t.content),t.text&&s.clipboard.pasteText(t.text)}),e.paste_block_drop&&e.on("dragend dragover draggesture dragdrop drop drag",function(e){e.preventDefault(),e.stopPropagation()}),e.settings.paste_data_images||e.on("drop",function(e){var t=e.dataTransfer;t&&t.files&&t.files.length>0&&e.preventDefault()}),e.addButton("pastetext",{icon:"pastetext",tooltip:"Paste as text",onclick:o,active:"text"==s.clipboard.pasteFormat}),e.addMenuItem("pastetext",{text:"Paste as text",selectable:!0,active:a.pasteFormat,onclick:o})})}),o([s,d,p,v,b])}(this),tinymce.PluginManager.add("preview",function(e){var t=e.settings,n=!tinymce.Env.ie;e.addCommand("mcePreview",function(){e.windowManager.open({title:"Preview",width:parseInt(e.getParam("plugin_preview_width","650"),10),height:parseInt(e.getParam("plugin_preview_height","500"),10),html:'<iframe src="javascript:\'\'" frameborder="0"'+(n?' sandbox="allow-scripts"':"")+"></iframe>",buttons:{text:"Close",onclick:function(){this.parent().parent().close()}},onPostRender:function(){var i,r="";r+='<base href="'+e.documentBaseURI.getURI()+'">',tinymce.each(e.contentCSS,function(t){r+='<link type="text/css" rel="stylesheet" href="'+e.documentBaseURI.toAbsolute(t)+'">'});var o=t.body_id||"tinymce";-1!=o.indexOf("=")&&(o=e.getParam("body_id","","hash"),o=o[e.id]||o);var a=t.body_class||"";-1!=a.indexOf("=")&&(a=e.getParam("body_class","","hash"),a=a[e.id]||"");var s=e.settings.directionality?' dir="'+e.settings.directionality+'"':"";if(i="<!DOCTYPE html><html><head>"+r+'</head><body id="'+o+'" class="mce-content-body '+a+'"'+s+">"+e.getContent()+"</body></html>",n)this.getEl("body").firstChild.src="data:text/html;charset=utf-8,"+encodeURIComponent(i);else{var l=this.getEl("body").firstChild.contentWindow.document;l.open(),l.write(i),l.close()}}})}),e.addButton("preview",{title:"Preview",cmd:"mcePreview"}),e.addMenuItem("preview",{text:"Preview",cmd:"mcePreview",context:"view"})}),tinymce.PluginManager.add("print",function(e){e.addCommand("mcePrint",function(){e.getWin().print()}),e.addButton("print",{title:"Print",cmd:"mcePrint"}),e.addShortcut("Ctrl+P","","mcePrint"),e.addMenuItem("print",{text:"Print",cmd:"mcePrint",icon:"print",shortcut:"Ctrl+P",context:"file"})}),tinymce.PluginManager.add("save",function(e){function t(){var t;return t=tinymce.DOM.getParent(e.id,"form"),!e.getParam("save_enablewhendirty",!0)||e.isDirty()?(tinymce.triggerSave(),e.getParam("save_onsavecallback")?void(e.execCallback("save_onsavecallback",e)&&(e.startContent=tinymce.trim(e.getContent({format:"raw"})),e.nodeChanged())):void(t?(e.isNotDirty=!0,(!t.onsubmit||t.onsubmit())&&("function"==typeof t.submit?t.submit():e.windowManager.alert("Error: Form submit field collision.")),e.nodeChanged()):e.windowManager.alert("Error: No form element found."))):void 0}function n(){var t=tinymce.trim(e.startContent);return e.getParam("save_oncancelcallback")?void e.execCallback("save_oncancelcallback",e):(e.setContent(t),e.undoManager.clear(),void e.nodeChanged())}function i(){var t=this;e.on("nodeChange",function(){t.disabled(e.getParam("save_enablewhendirty",!0)&&!e.isDirty())})}e.addCommand("mceSave",t),e.addCommand("mceCancel",n),e.addButton("save",{icon:"save",text:"Save",cmd:"mceSave",disabled:!0,onPostRender:i}),e.addButton("cancel",{text:"Cancel",icon:!1,cmd:"mceCancel",disabled:!0,onPostRender:i}),e.addShortcut("ctrl+s","","mceSave")}),!function(){function e(e,t,n,i,r){function o(e,t){if(t=t||0,!e[0])throw"findAndReplaceDOMText cannot handle zero-length matches";var n=e.index;if(t>0){var i=e[t];if(!i)throw"Invalid capture group";n+=e[0].indexOf(i),e[0]=i}return[n,n+e[0].length,[e[0]]]}function a(e){var t;if(3===e.nodeType)return e.data;if(h[e.nodeName]&&!f[e.nodeName])return"";if(t="",(f[e.nodeName]||p[e.nodeName])&&(t+="\n"),e=e.firstChild)do t+=a(e);while(e=e.nextSibling);return t}function s(e,t,n){var i,r,o,a,s=[],l=0,c=e,u=t.shift(),d=0;e:for(;;){if((f[c.nodeName]||p[c.nodeName])&&l++,3===c.nodeType&&(!r&&c.length+l>=u[1]?(r=c,a=u[1]-l):i&&s.push(c),!i&&c.length+l>u[0]&&(i=c,o=u[0]-l),l+=c.length),i&&r){if(c=n({startNode:i,startNodeIndex:o,endNode:r,endNodeIndex:a,innerNodes:s,match:u[2],matchIndex:d}),l-=r.length-a,i=null,r=null,s=[],u=t.shift(),d++,!u)break}else{if((!h[c.nodeName]||f[c.nodeName])&&c.firstChild){c=c.firstChild;continue}if(c.nextSibling){c=c.nextSibling;continue}}for(;;){if(c.nextSibling){c=c.nextSibling;break}if(c.parentNode===e)break e;c=c.parentNode}}}function l(e){var t;if("function"!=typeof e){var n=e.nodeType?e:d.createElement(e);t=function(e,t){var i=n.cloneNode(!1);return i.setAttribute("data-mce-index",t),e&&i.appendChild(d.createTextNode(e)),i}}else t=e;return function(e){var n,i,r,o=e.startNode,a=e.endNode,s=e.matchIndex;if(o===a){var l=o;r=l.parentNode,e.startNodeIndex>0&&(n=d.createTextNode(l.data.substring(0,e.startNodeIndex)),r.insertBefore(n,l));var c=t(e.match[0],s);return r.insertBefore(c,l),e.endNodeIndex<l.length&&(i=d.createTextNode(l.data.substring(e.endNodeIndex)),r.insertBefore(i,l)),l.parentNode.removeChild(l),c}n=d.createTextNode(o.data.substring(0,e.startNodeIndex)),i=d.createTextNode(a.data.substring(e.endNodeIndex));for(var u=t(o.data.substring(e.startNodeIndex),s),f=[],h=0,p=e.innerNodes.length;p>h;++h){var m=e.innerNodes[h],g=t(m.data,s);m.parentNode.replaceChild(g,m),f.push(g)}var v=t(a.data.substring(0,e.endNodeIndex),s);return r=o.parentNode,r.insertBefore(n,o),r.insertBefore(u,o),r.removeChild(o),r=a.parentNode,r.insertBefore(v,a),r.insertBefore(i,a),r.removeChild(a),v}}var c,u,d,f,h,p,m=[],g=0;if(d=t.ownerDocument,f=r.getBlockElements(),h=r.getWhiteSpaceElements(),p=r.getShortEndedElements(),u=a(t)){if(e.global)for(;c=e.exec(u);)m.push(o(c,i));else c=u.match(e),m.push(o(c,i));return m.length&&(g=m.length,s(t,m,l(n))),g}}function t(t){function n(){function e(){r.statusbar.find("#next").disabled(!a(u+1).length),r.statusbar.find("#prev").disabled(!a(u-1).length)}function n(){tinymce.ui.MessageBox.alert("Could not find the specified string.",function(){r.find("#find")[0].focus()})}var i={},r=tinymce.ui.Factory.create({type:"window",layout:"flex",pack:"center",align:"center",onClose:function(){t.focus(),c.done()},onSubmit:function(t){var o,s,l,d;return t.preventDefault(),s=r.find("#case").checked(),d=r.find("#words").checked(),l=r.find("#find").value(),l.length?i.text==l&&i.caseState==s&&i.wholeWord==d?0===a(u+1).length?void n():(c.next(),void e()):(o=c.find(l,s,d),o||n(),r.statusbar.items().slice(1).disabled(0===o),e(),void(i={text:l,caseState:s,wholeWord:d})):(c.done(!1),void r.statusbar.items().slice(1).disabled(!0))},buttons:[{text:"Find",onclick:function(){r.submit()}},{text:"Replace",disabled:!0,onclick:function(){c.replace(r.find("#replace").value())||(r.statusbar.items().slice(1).disabled(!0),u=-1,i={})}},{text:"Replace all",disabled:!0,onclick:function(){c.replace(r.find("#replace").value(),!0,!0),r.statusbar.items().slice(1).disabled(!0),i={}}},{type:"spacer",flex:1},{text:"Prev",name:"prev",disabled:!0,onclick:function(){c.prev(),e()}},{text:"Next",name:"next",disabled:!0,onclick:function(){c.next(),e()}}],title:"Find and replace",items:{type:"form",padding:20,labelGap:30,spacing:10,items:[{type:"textbox",name:"find",size:40,label:"Find",value:t.selection.getNode().src},{type:"textbox",name:"replace",size:40,label:"Replace with"},{type:"checkbox",name:"case",text:"Match case",label:" "},{type:"checkbox",name:"words",text:"Whole words",label:" "}]}}).renderTo().reflow()}function i(e){var t=e.getAttribute("data-mce-index");return"number"==typeof t?""+t:t}function r(n){var i,r;return r=t.dom.create("span",{"data-mce-bogus":1}),r.className="mce-match-marker",i=t.getBody(),c.done(!1),e(n,i,r,!1,t.schema)}function o(e){var t=e.parentNode;e.firstChild&&t.insertBefore(e.firstChild,e),e.parentNode.removeChild(e)}function a(e){var n,r=[];if(n=tinymce.toArray(t.getBody().getElementsByTagName("span")),n.length)for(var o=0;o<n.length;o++){var a=i(n[o]);null!==a&&a.length&&a===e.toString()&&r.push(n[o])}return r}function s(e){var n=u,i=t.dom;e=e!==!1,e?n++:n--,i.removeClass(a(u),"mce-match-marker-selected");var r=a(n);return r.length?(i.addClass(a(n),"mce-match-marker-selected"),t.selection.scrollIntoView(r[0]),n):-1}function l(e){e.parentNode.removeChild(e)}var c=this,u=-1;c.init=function(e){e.addMenuItem("searchreplace",{text:"Find and replace",shortcut:"Ctrl+F",onclick:n,separator:"before",context:"edit"}),e.addButton("searchreplace",{tooltip:"Find and replace",shortcut:"Ctrl+F",onclick:n}),e.addCommand("SearchReplace",n),e.shortcuts.add("Ctrl+F","",n)},c.find=function(e,t,n){e=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),e=n?"\\b"+e+"\\b":e;var i=r(new RegExp(e,t?"g":"gi"));return i&&(u=-1,u=s(!0)),i},c.next=function(){var e=s(!0);-1!==e&&(u=e)},c.prev=function(){var e=s(!1);-1!==e&&(u=e)},c.replace=function(e,n,r){var s,d,f,h,p,m,g=u;for(n=n!==!1,f=t.getBody(),d=tinymce.toArray(f.getElementsByTagName("span")),s=0;s<d.length;s++){var v=i(d[s]);if(null!==v&&v.length)if(h=p=parseInt(v,10),r||h===u){for(e.length?(d[s].firstChild.nodeValue=e,o(d[s])):l(d[s]);d[++s];)if(h=i(d[s]),null!==v&&v.length){if(h!==p){s--;break}l(d[s])}n&&g--}else p>u&&d[s].setAttribute("data-mce-index",p-1)}return t.undoManager.add(),u=g,n?(m=a(g+1).length>0,c.next()):(m=a(g-1).length>0,c.prev()),!r&&m},c.done=function(e){var n,r,a,s;for(r=tinymce.toArray(t.getBody().getElementsByTagName("span")),n=0;n<r.length;n++){var l=i(r[n]);null!==l&&l.length&&(l===u.toString()&&(a||(a=r[n].firstChild),s=r[n].firstChild),o(r[n]))}if(a&&s){var c=t.dom.createRng();return c.setStart(a,0),c.setEnd(s,s.data.length),e!==!1&&t.selection.setRng(c),c}}}tinymce.PluginManager.add("searchreplace",t)}(),!function(e,t){"use strict";function n(e,t){for(var n,i=[],o=0;o<e.length;++o){if(n=a[e[o]]||r(e[o]),!n)throw"module definition dependecy not found: "+e[o];i.push(n)}t.apply(null,i)}function i(e,i,r){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(i===t)throw"invalid module definition, dependencies must be specified";if(r===t)throw"invalid module definition, definition function must be specified";n(i,function(){a[e]=r.apply(null,arguments)})}function r(t){for(var n=e,i=t.split(/[.\/]/),r=0;r<i.length;++r){if(!n[i[r]])return;n=n[i[r]]}return n}function o(n){for(var i=0;i<n.length;i++){for(var r=e,o=n[i],s=o.split(/[.\/]/),l=0;l<s.length-1;++l)r[s[l]]===t&&(r[s[l]]={}),r=r[s[l]];r[s[s.length-1]]=a[o]}}var a={},s="tinymce/spellcheckerplugin/DomTextMatcher",l="tinymce/spellcheckerplugin/Plugin",c="tinymce/PluginManager",u="tinymce/util/Tools",d="tinymce/ui/Menu",f="tinymce/dom/DOMUtils",h="tinymce/util/XHR",p="tinymce/util/URI",m="tinymce/util/JSON";i(s,[],function(){return function(e,t){function n(e,t){if(!e[0])throw"findAndReplaceDOMText cannot handle zero-length matches";return{start:e.index,end:e.index+e[0].length,text:e[0],data:t}}function i(e){var t;if(3===e.nodeType)return e.data;if(k[e.nodeName]&&!w[e.nodeName])return"";if(t="",(w[e.nodeName]||_[e.nodeName])&&(t+="\n"),e=e.firstChild)do t+=i(e);while(e=e.nextSibling);return t}function r(e,t,n){var i,r,o,a,s,l=[],c=0,u=e,d=0;t=t.slice(0),t.sort(function(e,t){return e.start-t.start}),s=t.shift();e:for(;;){if((w[u.nodeName]||_[u.nodeName])&&c++,3===u.nodeType&&(!r&&u.length+c>=s.end?(r=u,a=s.end-c):i&&l.push(u),!i&&u.length+c>s.start&&(i=u,o=s.start-c),c+=u.length),i&&r){if(u=n({startNode:i,startNodeIndex:o,endNode:r,endNodeIndex:a,innerNodes:l,match:s.text,matchIndex:d}),c-=r.length-a,i=null,r=null,l=[],s=t.shift(),d++,!s)break}else{if((!k[u.nodeName]||w[u.nodeName])&&u.firstChild){u=u.firstChild;continue}if(u.nextSibling){u=u.nextSibling;continue}}for(;;){if(u.nextSibling){u=u.nextSibling;break}if(u.parentNode===e)break e;u=u.parentNode}}}function o(e){function t(t,n){var i=E[n];i.stencil||(i.stencil=e(i));var r=i.stencil.cloneNode(!1);return r.setAttribute("data-mce-index",n),t&&r.appendChild(S.doc.createTextNode(t)),r}return function(e){var n,i,r,o=e.startNode,a=e.endNode,s=e.matchIndex,l=S.doc;if(o===a){var c=o;r=c.parentNode,e.startNodeIndex>0&&(n=l.createTextNode(c.data.substring(0,e.startNodeIndex)),r.insertBefore(n,c));var u=t(e.match,s);return r.insertBefore(u,c),e.endNodeIndex<c.length&&(i=l.createTextNode(c.data.substring(e.endNodeIndex)),r.insertBefore(i,c)),c.parentNode.removeChild(c),u}n=l.createTextNode(o.data.substring(0,e.startNodeIndex)),i=l.createTextNode(a.data.substring(e.endNodeIndex));for(var d=t(o.data.substring(e.startNodeIndex),s),f=[],h=0,p=e.innerNodes.length;p>h;++h){var m=e.innerNodes[h],g=t(m.data,s);m.parentNode.replaceChild(g,m),f.push(g)}var v=t(a.data.substring(0,e.endNodeIndex),s);return r=o.parentNode,r.insertBefore(n,o),r.insertBefore(d,o),r.removeChild(o),r=a.parentNode,r.insertBefore(v,a),r.insertBefore(i,a),r.removeChild(a),v}}function a(e){var t=e.parentNode;t.insertBefore(e.firstChild,e),e.parentNode.removeChild(e)}function s(t){var n=e.getElementsByTagName("*"),i=[];t="number"==typeof t?""+t:null;for(var r=0;r<n.length;r++){var o=n[r],a=o.getAttribute("data-mce-index");null!==a&&a.length&&(a===t||null===t)&&i.push(o)}return i}function l(e){for(var t=E.length;t--;)if(E[t]===e)return t;return-1}function c(e){var t=[];return u(function(n,i){e(n,i)&&t.push(n)}),E=t,this}function u(e){for(var t=0,n=E.length;n>t&&e(E[t],t)!==!1;t++);return this}function d(t){return E.length&&r(e,E,o(t)),this}function f(e,t){if(C&&e.global)for(;x=e.exec(C);)E.push(n(x,t));return this}function h(e){var t,n=s(e?l(e):null);for(t=n.length;t--;)a(n[t]);return this}function p(e){return E[e.getAttribute("data-mce-index")]}function m(e){return s(l(e))[0]}function g(e,t,n){return E.push({start:e,end:e+t,text:C.substr(e,t),data:n}),this}function v(e){var n=s(l(e)),i=t.dom.createRng();return i.setStartBefore(n[0]),i.setEndAfter(n[n.length-1]),i}function b(e,n){var i=v(e);return i.deleteContents(),n.length>0&&i.insertNode(t.dom.doc.createTextNode(n)),i}function y(){return E.splice(0,E.length),h(),this}var x,C,w,k,_,E=[],S=t.dom;return w=t.schema.getBlockElements(),k=t.schema.getWhiteSpaceElements(),_=t.schema.getShortEndedElements(),C=i(e),{text:C,matches:E,each:u,filter:c,reset:y,matchFromElement:p,elementFromMatch:m,find:f,add:g,wrap:d,unwrap:h,replace:b,rangeFromMatch:v,indexOf:l}}}),i(l,[s,c,u,d,f,h,p,m],function(e,t,n,i,r,o,a,s){t.add("spellchecker",function(t,l){function c(){return E.textMatcher||(E.textMatcher=new e(t.getBody(),t)),E.textMatcher}function u(e,t){var i=[];return n.each(t,function(e){i.push({selectable:!0,text:e.name,data:e.value})}),i}function d(e){for(var t in e)return!1;return!0}function f(e,o){var a=[],s=w[e];n.each(s,function(e){a.push({text:e,onclick:function(){t.insertContent(t.dom.encode(e)),t.dom.remove(o),m()}})}),a.push.apply(a,[{text:"-"},{text:"Ignore",onclick:function(){g(e,o)}},{text:"Ignore all",onclick:function(){g(e,o,!0)}},{text:"Finish",onclick:v}]),_=new i({items:a,context:"contextmenu",onautohide:function(e){-1!=e.target.className.indexOf("spellchecker")&&e.preventDefault()},onhide:function(){_.remove(),_=null}}),_.renderTo(document.body);var l=r.DOM.getPos(t.getContentAreaContainer()),c=t.dom.getPos(o[0]),u=t.dom.getRoot();"BODY"==u.nodeName?(c.x-=u.ownerDocument.documentElement.scrollLeft||u.scrollLeft,c.y-=u.ownerDocument.documentElement.scrollTop||u.scrollTop):(c.x-=u.scrollLeft,c.y-=u.scrollTop),l.x+=c.x,l.y+=c.y,_.moveTo(l.x,l.y+o[0].offsetHeight)}function h(){return t.getParam("spellchecker_wordchar_pattern")||new RegExp('[^\\s!"#$%&()*+,-./:;<=>?@[\\]^_{|}`\xa7\xa9\xab\xae\xb1\xb6\xb7\xb8\xbb\xbc\xbd\xbe\xbf\xd7\xf7\xa4\u201d\u201c\u201e]+',"g")}function p(){function e(e){return t.setProgressState(!1),d(e)?(t.windowManager.alert("No misspellings found"),void(k=!1)):(w=e,c().find(h()).filter(function(t){return!!e[t.text]}).wrap(function(e){return t.dom.create("span",{"class":"mce-spellchecker-word","data-mce-bogus":1,"data-mce-word":e.text})}),void t.fire("SpellcheckStart"))}function n(e){t.windowManager.alert(e),t.setProgressState(!1),v()}function i(e,t,i){o.send({url:new a(l).toAbsolute(S.spellchecker_rpc_url),type:"post",content_type:"application/x-www-form-urlencoded",data:"text="+encodeURIComponent(t)+"&lang="+S.spellchecker_language,success:function(e){e=s.parse(e),e?e.error?n(e.error):i(e.words):n("Sever response wasn't proper JSON.")},error:function(e,t){n("Spellchecker request error: "+t.status)}})}if(k)return void v();v(),k=!0,t.setProgressState(!0);var r=S.spellchecker_callback||i;r.call(E,"spellcheck",c().text,e,n),t.focus()}function m(){t.dom.select("span.mce-spellchecker-word").length||v()}function g(e,i,r){t.selection.collapse(),r?n.each(t.dom.select("span.mce-spellchecker-word"),function(n){n.getAttribute("data-mce-word")==e&&t.dom.remove(n,!0)}):t.dom.remove(i,!0),m()}function v(){c().reset(),E.textMatcher=null,k&&(k=!1,t.fire("SpellcheckEnd"))}function b(e){var t=e.getAttribute("data-mce-index");return"number"==typeof t?""+t:t}function y(e){var i,r=[];if(i=n.toArray(t.getBody().getElementsByTagName("span")),i.length)for(var o=0;o<i.length;o++){var a=b(i[o]);null!==a&&a.length&&a===e.toString()&&r.push(i[o])}return r}function x(e){var t=S.spellchecker_language;e.control.items().each(function(e){e.active(e.settings.data===t)})}var C,w,k,_,E=this,S=t.settings,N=S.spellchecker_languages||"English=en,Danish=da,Dutch=nl,Finnish=fi,French=fr_FR,German=de,Italian=it,Polish=pl,Portuguese=pt_BR,Spanish=es,Swedish=sv";C=u("Language",n.map(N.split(","),function(e){var t=e.split("=");return{name:t[0],value:t[1]}})),t.on("click",function(e){var n=e.target;if("mce-spellchecker-word"==n.className){e.preventDefault();var i=y(b(n));if(i.length>0){var r=t.dom.createRng();r.setStartBefore(i[0]),r.setEndAfter(i[i.length-1]),t.selection.setRng(r),f(n.getAttribute("data-mce-word"),i)}}}),t.addMenuItem("spellchecker",{text:"Spellcheck",context:"tools",onclick:p,selectable:!0,onPostRender:function(){var e=this;t.on("SpellcheckStart SpellcheckEnd",function(){e.active(k)})}});var T={tooltip:"Spellcheck",onclick:p,onPostRender:function(){var e=this;t.on("SpellcheckStart SpellcheckEnd",function(){e.active(k)})}};C.length>1&&(T.type="splitbutton",T.menu=C,T.onshow=x,T.onselect=function(e){S.spellchecker_language=e.control.settings.data}),t.addButton("spellchecker",T),t.addCommand("mceSpellCheck",p),t.on("remove",function(){_&&(_.remove(),_=null)}),t.on("change",m),this.getTextMatcher=c,this.getWordCharPattern=h,this.getLanguage=function(){return S.spellchecker_language},S.spellchecker_language=S.spellchecker_language||S.language||"en"})}),o([s,l])}(this),tinymce.PluginManager.add("tabfocus",function(e){function t(e){9!==e.keyCode||e.ctrlKey||e.altKey||e.metaKey||e.preventDefault()}function n(t){function n(t){function n(e){return"BODY"===e.nodeName||"hidden"!=e.type&&"none"!=e.style.display&&"hidden"!=e.style.visibility&&n(e.parentNode)}function o(e){return e.tabIndex||"INPUT"==e.nodeName||"TEXTAREA"==e.nodeName}function l(e){return!o(e)&&"-1"!=e.getAttribute("tabindex")&&n(e)}if(s=i.select(":input:enabled,*[tabindex]:not(iframe)"),r(s,function(t,n){return t.id==e.id?(a=n,!1):void 0}),t>0){for(c=a+1;c<s.length;c++)if(l(s[c]))return s[c]}else for(c=a-1;c>=0;c--)if(l(s[c]))return s[c];return null}var a,s,l,c;if(!(9!==t.keyCode||t.ctrlKey||t.altKey||t.metaKey)&&(l=o(e.getParam("tab_focus",e.getParam("tabfocus_elements",":prev,:next"))),1==l.length&&(l[1]=l[0],l[0]=":prev"),s=t.shiftKey?":prev"==l[0]?n(-1):i.get(l[0]):":next"==l[1]?n(1):i.get(l[1]))){var u=tinymce.get(s.id||s.name);s.id&&u?u.focus():window.setTimeout(function(){tinymce.Env.webkit||window.focus(),s.focus()},10),t.preventDefault()}}var i=tinymce.DOM,r=tinymce.each,o=tinymce.explode;e.on("init",function(){e.inline&&tinymce.DOM.setAttrib(e.getBody(),"tabIndex",null)}),e.on("keyup",t),tinymce.Env.gecko?e.on("keypress keydown",n):e.on("keydown",n)}),!function(e,t){"use strict";function n(e,t){for(var n,i=[],o=0;o<e.length;++o){if(n=a[e[o]]||r(e[o]),!n)throw"module definition dependecy not found: "+e[o];i.push(n)}t.apply(null,i)}function i(e,i,r){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(i===t)throw"invalid module definition, dependencies must be specified";if(r===t)throw"invalid module definition, definition function must be specified";n(i,function(){a[e]=r.apply(null,arguments)})}function r(t){for(var n=e,i=t.split(/[.\/]/),r=0;r<i.length;++r){if(!n[i[r]])return;n=n[i[r]]}return n}function o(n){for(var i=0;i<n.length;i++){for(var r=e,o=n[i],s=o.split(/[.\/]/),l=0;l<s.length-1;++l)r[s[l]]===t&&(r[s[l]]={}),r=r[s[l]];r[s[s.length-1]]=a[o]}}var a={},s="tinymce/tableplugin/TableGrid",l="tinymce/util/Tools",c="tinymce/Env",u="tinymce/tableplugin/Quirks",d="tinymce/util/VK",f="tinymce/tableplugin/CellSelection",h="tinymce/dom/TreeWalker",p="tinymce/tableplugin/Plugin",m="tinymce/PluginManager";
i(s,[l,c],function(e,n){function i(e,t){return parseInt(e.getAttribute(t)||1,10)}var r=e.each;return function(o,a){function s(){var e=0;A=[],r(["thead","tbody","tfoot"],function(t){var n=I.select("> "+t+" tr",a);r(n,function(n,o){o+=e,r(I.select("> td, > th",n),function(e,n){var r,a,s,l;if(A[o])for(;A[o][n];)n++;for(s=i(e,"rowspan"),l=i(e,"colspan"),a=o;o+s>a;a++)for(A[a]||(A[a]=[]),r=n;n+l>r;r++)A[a][r]={part:t,real:a==o&&r==n,elm:e,rowspan:s,colspan:l}})}),e+=n.length})}function l(e,t){return e=e.cloneNode(t),e.removeAttribute("id"),e}function c(e,t){var n;return n=A[t],n?n[e]:void 0}function u(e,t,n){e&&(n=parseInt(n,10),1===n?e.removeAttribute(t,1):e.setAttribute(t,n,1))}function d(e){return e&&(I.hasClass(e.elm,"mce-item-selected")||e==P)}function f(){var e=[];return r(a.rows,function(t){r(t.cells,function(n){return I.hasClass(n,"mce-item-selected")||P&&n==P.elm?(e.push(t),!1):void 0})}),e}function h(){var e=I.createRng();e.setStartAfter(a),e.setEndAfter(a),B.setRng(e),I.remove(a)}function p(t){var i,a={};return o.settings.table_clone_elements!==!1&&(a=e.makeMap((o.settings.table_clone_elements||"strong em b i span font h1 h2 h3 h4 h5 h6 p div").toUpperCase(),/[ ,]/)),e.walk(t,function(e){var o;return 3==e.nodeType?(r(I.getParents(e.parentNode,null,t).reverse(),function(e){a[e.nodeName]&&(e=l(e,!1),i?o&&o.appendChild(e):i=o=e,o=e)}),o&&(o.innerHTML=n.ie?"&nbsp;":'<br data-mce-bogus="1" />'),!1):void 0},"childNodes"),t=l(t,!1),u(t,"rowSpan",1),u(t,"colSpan",1),i?t.appendChild(i):n.ie||(t.innerHTML='<br data-mce-bogus="1" />'),t}function m(){var e,t=I.createRng();return r(I.select("tr",a),function(e){0===e.cells.length&&I.remove(e)}),0===I.select("tr",a).length?(t.setStartBefore(a),t.setEndBefore(a),B.setRng(t),void I.remove(a)):(r(I.select("thead,tbody,tfoot",a),function(e){0===e.rows.length&&I.remove(e)}),s(),void(R&&(e=A[Math.min(A.length-1,R.y)],e&&(B.select(e[Math.min(e.length-1,R.x)].elm,!0),B.collapse(!0)))))}function g(e,t,n,i){var r,o,a,s,l;for(r=A[t][e].elm.parentNode,a=1;n>=a;a++)if(r=I.getNext(r,"tr")){for(o=e;o>=0;o--)if(l=A[t+a][o].elm,l.parentNode==r){for(s=1;i>=s;s++)I.insertAfter(p(l),l);break}if(-1==o)for(s=1;i>=s;s++)r.insertBefore(p(r.cells[0]),r.cells[0])}}function v(){r(A,function(e,t){r(e,function(e,n){var r,o,a;if(d(e)&&(e=e.elm,r=i(e,"colspan"),o=i(e,"rowspan"),r>1||o>1)){for(u(e,"rowSpan",1),u(e,"colSpan",1),a=0;r-1>a;a++)I.insertAfter(p(e),e);g(n,t,o-1,r)}})})}function b(t,n,i){var o,a,l,f,h,p,g,b,y,x,C;if(t?(o=S(t),a=o.x,l=o.y,f=a+(n-1),h=l+(i-1)):(R=D=null,r(A,function(e,t){r(e,function(e,n){d(e)&&(R||(R={x:n,y:t}),D={x:n,y:t})})}),R&&(a=R.x,l=R.y,f=D.x,h=D.y)),b=c(a,l),y=c(f,h),b&&y&&b.part==y.part){for(v(),s(),b=c(a,l).elm,u(b,"colSpan",f-a+1),u(b,"rowSpan",h-l+1),g=l;h>=g;g++)for(p=a;f>=p;p++)A[g]&&A[g][p]&&(t=A[g][p].elm,t!=b&&(x=e.grep(t.childNodes),r(x,function(e){b.appendChild(e)}),x.length&&(x=e.grep(b.childNodes),C=0,r(x,function(e){"BR"==e.nodeName&&I.getAttrib(e,"data-mce-bogus")&&C++<x.length-1&&b.removeChild(e)})),I.remove(t)));m()}}function y(e){var n,o,a,s,c,f,h,m,g;if(r(A,function(t,i){return r(t,function(t){return d(t)&&(t=t.elm,c=t.parentNode,f=l(c,!1),n=i,e)?!1:void 0}),e?!n:void 0}),n!==t){for(s=0;s<A[0].length;s++)if(A[n][s]&&(o=A[n][s].elm,o!=a)){if(e){if(n>0&&A[n-1][s]&&(m=A[n-1][s].elm,g=i(m,"rowSpan"),g>1)){u(m,"rowSpan",g+1);continue}}else if(g=i(o,"rowspan"),g>1){u(o,"rowSpan",g+1);continue}h=p(o),u(h,"colSpan",o.colSpan),f.appendChild(h),a=o}f.hasChildNodes()&&(e?c.parentNode.insertBefore(f,c):I.insertAfter(f,c))}}function x(e){var t,n;r(A,function(n){return r(n,function(n,i){return d(n)&&(t=i,e)?!1:void 0}),e?!t:void 0}),r(A,function(r,o){var a,s,l;r[t]&&(a=r[t].elm,a!=n&&(l=i(a,"colspan"),s=i(a,"rowspan"),1==l?e?(a.parentNode.insertBefore(p(a),a),g(t,o,s-1,l)):(I.insertAfter(p(a),a),g(t,o,s-1,l)):u(a,"colSpan",a.colSpan+1),n=a))})}function C(){var t=[];r(A,function(n){r(n,function(n,o){d(n)&&-1===e.inArray(t,o)&&(r(A,function(e){var t,n=e[o].elm;t=i(n,"colSpan"),t>1?u(n,"colSpan",t-1):I.remove(n)}),t.push(o))})}),m()}function w(){function e(e){var t,n,o;t=I.getNext(e,"tr"),r(e.cells,function(e){var t=i(e,"rowSpan");t>1&&(u(e,"rowSpan",t-1),n=S(e),g(n.x,n.y,1,1))}),n=S(e.cells[0]),r(A[n.y],function(e){var t;e=e.elm,e!=o&&(t=i(e,"rowSpan"),1>=t?I.remove(e):u(e,"rowSpan",t-1),o=e)})}var t;t=f(),r(t.reverse(),function(t){e(t)}),m()}function k(){var e=f();return I.remove(e),m(),e}function _(){var e=f();return r(e,function(t,n){e[n]=l(t,!0)}),e}function E(e,t){var n=f(),i=n[t?0:n.length-1],o=i.cells.length;e&&(r(A,function(e){var t;return o=0,r(e,function(e){e.real&&(o+=e.colspan),e.elm.parentNode==i&&(t=1)}),t?!1:void 0}),t||e.reverse(),r(e,function(e){var n,r,a=e.cells.length;for(n=0;a>n;n++)r=e.cells[n],u(r,"colSpan",1),u(r,"rowSpan",1);for(n=a;o>n;n++)e.appendChild(p(e.cells[a-1]));for(n=o;a>n;n++)I.remove(e.cells[n]);t?i.parentNode.insertBefore(e,i):I.insertAfter(e,i)}),I.removeClass(I.select("td.mce-item-selected,th.mce-item-selected"),"mce-item-selected"))}function S(e){var t;return r(A,function(n,i){return r(n,function(n,r){return n.elm==e?(t={x:r,y:i},!1):void 0}),!t}),t}function N(e){R=S(e)}function T(){var e,t;return e=t=0,r(A,function(n,i){r(n,function(n,r){var o,a;d(n)&&(n=A[i][r],r>e&&(e=r),i>t&&(t=i),n.real&&(o=n.colspan-1,a=n.rowspan-1,o&&r+o>e&&(e=r+o),a&&i+a>t&&(t=i+a)))})}),{x:e,y:t}}function M(e){var t,n,i,r,o,a,s,l,c,u;if(D=S(e),R&&D){for(t=Math.min(R.x,D.x),n=Math.min(R.y,D.y),i=Math.max(R.x,D.x),r=Math.max(R.y,D.y),o=i,a=r,u=n;a>=u;u++)e=A[u][t],e.real||t-(e.colspan-1)<t&&(t-=e.colspan-1);for(c=t;o>=c;c++)e=A[n][c],e.real||n-(e.rowspan-1)<n&&(n-=e.rowspan-1);for(u=n;r>=u;u++)for(c=t;i>=c;c++)e=A[u][c],e.real&&(s=e.colspan-1,l=e.rowspan-1,s&&c+s>o&&(o=c+s),l&&u+l>a&&(a=u+l));for(I.removeClass(I.select("td.mce-item-selected,th.mce-item-selected"),"mce-item-selected"),u=n;a>=u;u++)for(c=t;o>=c;c++)A[u][c]&&I.addClass(A[u][c].elm,"mce-item-selected")}}var A,R,D,P,B=o.selection,I=B.dom;a=a||I.getParent(B.getStart(),"table"),s(),P=I.getParent(B.getStart(),"th,td"),P&&(R=S(P),D=T(),P=c(R.x,R.y)),e.extend(this,{deleteTable:h,split:v,merge:b,insertRow:y,insertCol:x,deleteCols:C,deleteRows:w,cutRows:k,copyRows:_,pasteRows:E,getPos:S,setStartCell:N,setEndCell:M})}}),i(u,[d,c,l],function(e,t,n){function i(e,t){return parseInt(e.getAttribute(t)||1,10)}var r=n.each;return function(n){function o(){function t(t){function o(e,i){var r=e?"previousSibling":"nextSibling",o=n.dom.getParent(i,"tr"),s=o[r];if(s)return g(n,i,s,e),t.preventDefault(),!0;var u=n.dom.getParent(o,"table"),d=o.parentNode,f=d.nodeName.toLowerCase();if("tbody"===f||f===(e?"tfoot":"thead")){var h=a(e,u,d,"tbody");if(null!==h)return l(e,h,i)}return c(e,o,r,u)}function a(e,t,i,r){var o=n.dom.select(">"+r,t),a=o.indexOf(i);if(e&&0===a||!e&&a===o.length-1)return s(e,t);if(-1===a){var l="thead"===i.tagName.toLowerCase()?0:o.length-1;return o[l]}return o[a+(e?-1:1)]}function s(e,t){var i=e?"thead":"tfoot",r=n.dom.select(">"+i,t);return 0!==r.length?r[0]:null}function l(e,i,r){var o=u(i,e);return o&&g(n,r,o,e),t.preventDefault(),!0}function c(e,i,r,a){var s=a[r];if(s)return d(s),!0;var l=n.dom.getParent(a,"td,th");if(l)return o(e,l,t);var c=u(i,!e);return d(c),t.preventDefault(),!1}function u(e,t){var i=e&&e[t?"lastChild":"firstChild"];return i&&"BR"===i.nodeName?n.dom.getParent(i,"td,th"):i}function d(e){n.selection.setCursorLocation(e,0)}function f(){return y==e.UP||y==e.DOWN}function h(e){var t=e.selection.getNode(),n=e.dom.getParent(t,"tr");return null!==n}function p(e){for(var t=0,n=e;n.previousSibling;)n=n.previousSibling,t+=i(n,"colspan");return t}function m(e,t){var n=0,o=0;return r(e.children,function(e,r){return n+=i(e,"colspan"),o=r,n>t?!1:void 0}),o}function g(e,t,i,r){var o=p(n.dom.getParent(t,"td,th")),a=m(i,o),s=i.childNodes[a],l=u(s,r);d(l||s)}function v(e){var t=n.selection.getNode(),i=n.dom.getParent(t,"td,th"),r=n.dom.getParent(e,"td,th");return i&&i!==r&&b(i,r)}function b(e,t){return n.dom.getParent(e,"TABLE")===n.dom.getParent(t,"TABLE")}var y=t.keyCode;if(f()&&h(n)){var x=n.selection.getNode();setTimeout(function(){v(x)&&o(!t.shiftKey&&y===e.UP,x,t)},0)}}n.on("KeyDown",function(e){t(e)})}function a(){function e(e,t){var n,i=t.ownerDocument,r=i.createRange();return r.setStartBefore(t),r.setEnd(e.endContainer,e.endOffset),n=i.createElement("body"),n.appendChild(r.cloneContents()),0===n.innerHTML.replace(/<(br|img|object|embed|input|textarea)[^>]*>/gi,"-").replace(/<[^>]+>/g,"").length}n.on("KeyDown",function(t){var i,r,o=n.dom;(37==t.keyCode||38==t.keyCode)&&(i=n.selection.getRng(),r=o.getParent(i.startContainer,"table"),r&&n.getBody().firstChild==r&&e(i,r)&&(i=o.createRng(),i.setStartBefore(r),i.setEndBefore(r),n.selection.setRng(i),t.preventDefault()))})}function s(){n.on("KeyDown SetContent VisualAid",function(){var e;for(e=n.getBody().lastChild;e;e=e.previousSibling)if(3==e.nodeType){if(e.nodeValue.length>0)break}else if(1==e.nodeType&&!e.getAttribute("data-mce-bogus"))break;e&&"TABLE"==e.nodeName&&(n.settings.forced_root_block?n.dom.add(n.getBody(),n.settings.forced_root_block,n.settings.forced_root_block_attrs,t.ie&&t.ie<11?"&nbsp;":'<br data-mce-bogus="1" />'):n.dom.add(n.getBody(),"br",{"data-mce-bogus":"1"}))}),n.on("PreProcess",function(e){var t=e.node.lastChild;t&&("BR"==t.nodeName||1==t.childNodes.length&&("BR"==t.firstChild.nodeName||"\xa0"==t.firstChild.nodeValue))&&t.previousSibling&&"TABLE"==t.previousSibling.nodeName&&n.dom.remove(t)})}function l(){function e(e,t,n,i){var r,o,a,s=3,l=e.dom.getParent(t.startContainer,"TABLE");return l&&(r=l.parentNode),o=t.startContainer.nodeType==s&&0===t.startOffset&&0===t.endOffset&&i&&("TR"==n.nodeName||n==r),a=("TD"==n.nodeName||"TH"==n.nodeName)&&!i,o||a}function t(){var t=n.selection.getRng(),i=n.selection.getNode(),r=n.dom.getParent(t.startContainer,"TD,TH");if(e(n,t,i,r)){r||(r=i);for(var o=r.lastChild;o.lastChild;)o=o.lastChild;t.setEnd(o,o.nodeValue.length),n.selection.setRng(t)}}n.on("KeyDown",function(){t()}),n.on("MouseDown",function(e){2!=e.button&&t()})}function c(){n.on("keydown",function(t){if((t.keyCode==e.DELETE||t.keyCode==e.BACKSPACE)&&!t.isDefaultPrevented()){var i=n.dom.getParent(n.selection.getStart(),"table");if(i){for(var r=n.dom.select("td,th",i),o=r.length;o--;)if(!n.dom.hasClass(r[o],"mce-item-selected"))return;t.preventDefault(),n.execCommand("mceTableDelete")}}})}c(),t.webkit&&(o(),l()),t.gecko&&(a(),s()),t.ie>10&&(a(),s())}}),i(f,[s,h,l],function(e,t,n){return function(i){function r(){i.getBody().style.webkitUserSelect="",u&&(i.dom.removeClass(i.dom.select("td.mce-item-selected,th.mce-item-selected"),"mce-item-selected"),u=!1)}function o(t){var n,r,o=t.target;if(s&&(a||o!=s)&&("TD"==o.nodeName||"TH"==o.nodeName)){r=c.getParent(o,"table"),r==l&&(a||(a=new e(i,r),a.setStartCell(s),i.getBody().style.webkitUserSelect="none"),a.setEndCell(o),u=!0),n=i.selection.getSel();try{n.removeAllRanges?n.removeAllRanges():n.empty()}catch(d){}t.preventDefault()}}var a,s,l,c=i.dom,u=!0;return i.on("MouseDown",function(e){2!=e.button&&(r(),s=c.getParent(e.target,"td,th"),l=c.getParent(s,"table"))}),i.on("mouseover",o),i.on("remove",function(){c.unbind(i.getDoc(),"mouseover",o)}),i.on("MouseUp",function(){function e(e,i){var o=new t(e,e);do{if(3==e.nodeType&&0!==n.trim(e.nodeValue).length)return void(i?r.setStart(e,0):r.setEnd(e,e.nodeValue.length));if("BR"==e.nodeName)return void(i?r.setStartBefore(e):r.setEndBefore(e))}while(e=i?o.next():o.prev())}var r,o,u,d,f,h,p=i.selection;if(s){if(a&&(i.getBody().style.webkitUserSelect=""),o=c.select("td.mce-item-selected,th.mce-item-selected"),o.length>0){r=c.createRng(),d=o[0],h=o[o.length-1],r.setStartBefore(d),r.setEndAfter(d),e(d,1),u=new t(d,c.getParent(o[0],"table"));do if("TD"==d.nodeName||"TH"==d.nodeName){if(!c.hasClass(d,"mce-item-selected"))break;f=d}while(d=u.next());e(f),p.setRng(r)}i.nodeChanged(),s=a=l=null}}),i.on("KeyUp Drop",function(){r(),s=a=l=null}),{clear:r}}}),i(p,[s,u,f,l,h,c,m],function(e,t,n,i,r,o,a){function s(i){function r(e){return e?e.replace(/px$/,""):""}function a(e){return/^[0-9]+$/.test(e)&&(e+="px"),e}function s(e){l("left center right".split(" "),function(t){i.formatter.remove("align"+t,{},e)})}function c(e){l("top middle bottom".split(" "),function(t){i.formatter.remove("valign"+t,{},e)})}function u(){var e,t,n,c,u=i.dom;e=u.getParent(i.selection.getStart(),"table"),c={width:r(u.getStyle(e,"width")||u.getAttrib(e,"width")),height:r(u.getStyle(e,"height")||u.getAttrib(e,"height")),cellspacing:e?u.getAttrib(e,"cellspacing"):"",cellpadding:e?u.getAttrib(e,"cellpadding"):"",border:e?u.getAttrib(e,"border"):"",caption:!!u.select("caption",e)[0]},l("left center right".split(" "),function(t){i.formatter.matchNode(e,"align"+t)&&(c.align=t)}),e||(t={label:"Cols",name:"cols"},n={label:"Rows",name:"rows"}),i.windowManager.open({title:"Table properties",items:{type:"form",layout:"grid",columns:2,data:c,defaults:{type:"textbox",maxWidth:50},items:[t,n,{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell spacing",name:"cellspacing"},{label:"Cell padding",name:"cellpadding"},{label:"Border",name:"border"},{label:"Caption",name:"caption",type:"checkbox"},{label:"Alignment",minWidth:90,name:"align",type:"listbox",text:"None",maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}]},onsubmit:function(){var t,n=this.toJSON();i.undoManager.transact(function(){e||(e=m(n.cols||1,n.rows||1)),i.dom.setAttribs(e,{cellspacing:n.cellspacing,cellpadding:n.cellpadding,border:n.border}),i.dom.setStyles(e,{width:a(n.width),height:a(n.height)}),t=u.select("caption",e)[0],t&&!n.caption&&u.remove(t),!t&&n.caption&&(t=u.create("caption"),t.innerHTML=o.ie?"\xa0":'<br data-mce-bogus="1"/>',e.insertBefore(t,e.firstChild)),s(e),n.align&&i.formatter.apply("align"+n.align,{},e),i.focus(),i.addVisual()})}})}function d(e,t){i.windowManager.open({title:"Merge cells",body:[{label:"Cols",name:"cols",type:"textbox",size:10},{label:"Rows",name:"rows",type:"textbox",size:10}],onsubmit:function(){var n=this.toJSON();i.undoManager.transact(function(){e.merge(t,n.cols,n.rows)})}})}function f(){var e,t,n=i.dom,o=[];o=i.dom.select("td.mce-item-selected,th.mce-item-selected"),e=i.dom.getParent(i.selection.getStart(),"td,th"),!o.length&&e&&o.push(e),e=e||o[0],e&&(t={width:r(n.getStyle(e,"width")||n.getAttrib(e,"width")),height:r(n.getStyle(e,"height")||n.getAttrib(e,"height")),scope:n.getAttrib(e,"scope")},t.type=e.nodeName.toLowerCase(),l("left center right".split(" "),function(n){i.formatter.matchNode(e,"align"+n)&&(t.align=n)}),l("top middle bottom".split(" "),function(n){i.formatter.matchNode(e,"valign"+n)&&(t.valign=n)}),i.windowManager.open({title:"Cell properties",items:{type:"form",data:t,layout:"grid",columns:2,defaults:{type:"textbox",maxWidth:50},items:[{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell type",name:"type",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{label:"Scope",name:"scope",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{label:"H Align",name:"align",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"V Align",name:"valign",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}]},onsubmit:function(){var e=this.toJSON();i.undoManager.transact(function(){l(o,function(t){i.dom.setAttrib(t,"scope",e.scope),i.dom.setStyles(t,{width:a(e.width),height:a(e.height)}),e.type&&t.nodeName.toLowerCase()!=e.type&&(t=n.rename(t,e.type)),s(t),e.align&&i.formatter.apply("align"+e.align,{},t),c(t),e.valign&&i.formatter.apply("valign"+e.valign,{},t)}),i.focus()})}}))}function h(){var e,t,n,o,c=i.dom,u=[];e=i.dom.getParent(i.selection.getStart(),"table"),t=i.dom.getParent(i.selection.getStart(),"td,th"),l(e.rows,function(e){l(e.cells,function(n){return c.hasClass(n,"mce-item-selected")||n==t?(u.push(e),!1):void 0})}),n=u[0],n&&(o={height:r(c.getStyle(n,"height")||c.getAttrib(n,"height")),scope:c.getAttrib(n,"scope")},o.type=n.parentNode.nodeName.toLowerCase(),l("left center right".split(" "),function(e){i.formatter.matchNode(n,"align"+e)&&(o.align=e)}),i.windowManager.open({title:"Row properties",items:{type:"form",data:o,columns:2,defaults:{type:"textbox"},items:[{type:"listbox",name:"type",label:"Row type",text:"None",maxWidth:null,values:[{text:"Header",value:"thead"},{text:"Body",value:"tbody"},{text:"Footer",value:"tfoot"}]},{type:"listbox",name:"align",label:"Alignment",text:"None",maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height"}]},onsubmit:function(){var e,t,n,r=this.toJSON();i.undoManager.transact(function(){var o=r.type;l(u,function(l){i.dom.setAttrib(l,"scope",r.scope),i.dom.setStyles(l,{height:a(r.height)}),o!=l.parentNode.nodeName.toLowerCase()&&(e=c.getParent(l,"table"),t=l.parentNode,n=c.select(o,e)[0],n||(n=c.create(o),e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n)),n.appendChild(l),t.hasChildNodes()||c.remove(t)),s(l),r.align&&i.formatter.apply("align"+r.align,{},l)}),i.focus()})}}))}function p(e){return function(){i.execCommand(e)}}function m(e,t){var n,r,a;for(a='<table id="__mce"><tbody>',n=0;t>n;n++){for(a+="<tr>",r=0;e>r;r++)a+="<td>"+(o.ie?" ":"<br>")+"</td>";a+="</tr>"}a+="</tbody></table>",i.insertContent(a);var s=i.dom.get("__mce");return i.dom.setAttrib(s,"id",null),s}function g(e,t){function n(){e.disabled(!i.dom.getParent(i.selection.getStart(),t)),i.selection.selectorChanged(t,function(t){e.disabled(!t)})}i.initialized?n():i.on("init",n)}function v(){g(this,"table")}function b(){g(this,"td,th")}function y(){var e="";e='<table role="grid" class="mce-grid mce-grid-border" aria-readonly="true">';for(var t=0;10>t;t++){e+="<tr>";for(var n=0;10>n;n++)e+='<td role="gridcell" tabindex="-1"><a id="mcegrid'+(10*t+n)+'" href="#" data-mce-x="'+n+'" data-mce-y="'+t+'"></a></td>';e+="</tr>"}return e+="</table>",e+='<div class="mce-text-center" role="presentation">1 x 1</div>'}function x(e,t,n){var r,o,a,s,l,c=n.getEl().getElementsByTagName("table")[0],u=n.isRtl()||"tl-tr"==n.parent().rel;for(c.nextSibling.innerHTML=e+1+" x "+(t+1),u&&(e=9-e),o=0;10>o;o++)for(r=0;10>r;r++)s=c.rows[o].childNodes[r].firstChild,l=(u?r>=e:e>=r)&&t>=o,i.dom.toggleClass(s,"mce-active",l),l&&(a=s);return a.parentNode}var C,w,k=this;i.settings.table_grid===!1?i.addMenuItem("inserttable",{text:"Insert table",icon:"table",context:"table",onclick:u}):i.addMenuItem("inserttable",{text:"Insert table",icon:"table",context:"table",ariaHideMenu:!0,onclick:function(e){e.aria&&(this.parent().hideAll(),e.stopImmediatePropagation(),u())},onshow:function(){x(0,0,this.menu.items()[0])},onhide:function(){var e=this.menu.items()[0].getEl().getElementsByTagName("a");i.dom.removeClass(e,"mce-active"),i.dom.addClass(e[0],"mce-active")},menu:[{type:"container",html:y(),onPostRender:function(){this.lastX=this.lastY=0},onmousemove:function(e){var t,n,i=e.target;"A"==i.tagName.toUpperCase()&&(t=parseInt(i.getAttribute("data-mce-x"),10),n=parseInt(i.getAttribute("data-mce-y"),10),(this.isRtl()||"tl-tr"==this.parent().rel)&&(t=9-t),(t!==this.lastX||n!==this.lastY)&&(x(t,n,e.control),this.lastX=t,this.lastY=n))},onkeydown:function(e){var t,n=this.lastX,i=this.lastY;switch(e.keyCode){case 37:n>0&&(n--,t=!0);break;case 39:t=!0,9>n&&n++;break;case 38:t=!0,i>0&&i--;break;case 40:t=!0,9>i&&i++}t&&(e.preventDefault(),e.stopPropagation(),x(n,i,e.control).focus(),this.lastX=n,this.lastY=i)},onclick:function(e){"A"==e.target.tagName.toUpperCase()&&(e.preventDefault(),e.stopPropagation(),this.parent().cancel(),m(this.lastX+1,this.lastY+1))}}]}),i.addMenuItem("tableprops",{text:"Table properties",context:"table",onPostRender:v,onclick:u}),i.addMenuItem("deletetable",{text:"Delete table",context:"table",onPostRender:v,cmd:"mceTableDelete"}),i.addMenuItem("cell",{separator:"before",text:"Cell",context:"table",menu:[{text:"Cell properties",onclick:p("mceTableCellProps"),onPostRender:b},{text:"Merge cells",onclick:p("mceTableMergeCells"),onPostRender:b},{text:"Split cell",onclick:p("mceTableSplitCells"),onPostRender:b}]}),i.addMenuItem("row",{text:"Row",context:"table",menu:[{text:"Insert row before",onclick:p("mceTableInsertRowBefore"),onPostRender:b},{text:"Insert row after",onclick:p("mceTableInsertRowAfter"),onPostRender:b},{text:"Delete row",onclick:p("mceTableDeleteRow"),onPostRender:b},{text:"Row properties",onclick:p("mceTableRowProps"),onPostRender:b},{text:"-"},{text:"Cut row",onclick:p("mceTableCutRow"),onPostRender:b},{text:"Copy row",onclick:p("mceTableCopyRow"),onPostRender:b},{text:"Paste row before",onclick:p("mceTablePasteRowBefore"),onPostRender:b},{text:"Paste row after",onclick:p("mceTablePasteRowAfter"),onPostRender:b}]}),i.addMenuItem("column",{text:"Column",context:"table",menu:[{text:"Insert column before",onclick:p("mceTableInsertColBefore"),onPostRender:b},{text:"Insert column after",onclick:p("mceTableInsertColAfter"),onPostRender:b},{text:"Delete column",onclick:p("mceTableDeleteCol"),onPostRender:b}]});var _=[];l("inserttable tableprops deletetable | cell row column".split(" "),function(e){_.push("|"==e?{text:"-"}:i.menuItems[e])}),i.addButton("table",{type:"menubutton",title:"Table",menu:_}),o.isIE||i.on("click",function(e){e=e.target,"TABLE"===e.nodeName&&(i.selection.select(e),i.nodeChanged())}),k.quirks=new t(i),i.on("Init",function(){C=i.windowManager,k.cellSelection=new n(i)}),l({mceTableSplitCells:function(e){e.split()},mceTableMergeCells:function(e){var t,n,r;r=i.dom.getParent(i.selection.getStart(),"th,td"),r&&(t=r.rowSpan,n=r.colSpan),i.dom.select("td.mce-item-selected,th.mce-item-selected").length?e.merge():d(e,r)},mceTableInsertRowBefore:function(e){e.insertRow(!0)},mceTableInsertRowAfter:function(e){e.insertRow()},mceTableInsertColBefore:function(e){e.insertCol(!0)},mceTableInsertColAfter:function(e){e.insertCol()},mceTableDeleteCol:function(e){e.deleteCols()},mceTableDeleteRow:function(e){e.deleteRows()},mceTableCutRow:function(e){w=e.cutRows()},mceTableCopyRow:function(e){w=e.copyRows()},mceTablePasteRowBefore:function(e){e.pasteRows(w,!0)},mceTablePasteRowAfter:function(e){e.pasteRows(w)},mceTableDelete:function(e){e.deleteTable()}},function(t,n){i.addCommand(n,function(){var n=new e(i);n&&(t(n),i.execCommand("mceRepaint"),k.cellSelection.clear())})}),l({mceInsertTable:function(){u()},mceTableRowProps:h,mceTableCellProps:f},function(e,t){i.addCommand(t,function(t,n){e(n)})})}var l=i.each;a.add("table",s)}),o([s,u,f,p])}(this),tinymce.PluginManager.add("template",function(e){function t(t){return function(){var n=e.settings.templates;"string"==typeof n?tinymce.util.XHR.send({url:n,success:function(e){t(tinymce.util.JSON.parse(e))}}):t(n)}}function n(t){function n(t){function n(t){if(-1==t.indexOf("<html>")){var n="";tinymce.each(e.contentCSS,function(t){n+='<link type="text/css" rel="stylesheet" href="'+e.documentBaseURI.toAbsolute(t)+'">'}),t="<!DOCTYPE html><html><head>"+n+"</head><body>"+t+"</body></html>"}t=o(t,"template_preview_replace_values");var r=i.find("iframe")[0].getEl().contentWindow.document;r.open(),r.write(t),r.close()}var a=t.control.value();a.url?tinymce.util.XHR.send({url:a.url,success:function(e){r=e,n(r)}}):(r=a.content,n(r)),i.find("#description")[0].text(t.control.value().description)}var i,r,s=[];return t&&0!==t.length?(tinymce.each(t,function(e){s.push({selected:!s.length,text:e.title,value:{url:e.url,content:e.content,description:e.description}})}),i=e.windowManager.open({title:"Insert template",layout:"flex",direction:"column",align:"stretch",padding:15,spacing:10,items:[{type:"form",flex:0,padding:0,items:[{type:"container",label:"Templates",items:{type:"listbox",label:"Templates",name:"template",values:s,onselect:n}}]},{type:"label",name:"description",label:"Description",text:"\xa0"},{type:"iframe",flex:1,border:1}],onsubmit:function(){a(!1,r)},width:e.getParam("template_popup_width",600),height:e.getParam("template_popup_height",500)}),void i.find("listbox")[0].fire("select")):void e.windowManager.alert("No templates defined")}function i(t,n){function i(e,t){if(e=""+e,e.length<t)for(var n=0;n<t-e.length;n++)e="0"+e;return e}var r="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),o="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),a="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),s="January February March April May June July August September October November December".split(" ");return n=n||new Date,t=t.replace("%D","%m/%d/%Y"),t=t.replace("%r","%I:%M:%S %p"),t=t.replace("%Y",""+n.getFullYear()),t=t.replace("%y",""+n.getYear()),t=t.replace("%m",i(n.getMonth()+1,2)),t=t.replace("%d",i(n.getDate(),2)),t=t.replace("%H",""+i(n.getHours(),2)),t=t.replace("%M",""+i(n.getMinutes(),2)),t=t.replace("%S",""+i(n.getSeconds(),2)),t=t.replace("%I",""+((n.getHours()+11)%12+1)),t=t.replace("%p",""+(n.getHours()<12?"AM":"PM")),t=t.replace("%B",""+e.translate(s[n.getMonth()])),t=t.replace("%b",""+e.translate(a[n.getMonth()])),t=t.replace("%A",""+e.translate(o[n.getDay()])),t=t.replace("%a",""+e.translate(r[n.getDay()])),t=t.replace("%%","%")}function r(t){var n=e.dom,i=e.getParam("template_replace_values");s(n.select("*",t),function(e){s(i,function(t,r){n.hasClass(e,r)&&"function"==typeof i[r]&&i[r](e)})})}function o(t,n){return s(e.getParam(n),function(e,n){"function"!=typeof e&&(t=t.replace(new RegExp("\\{\\$"+n+"\\}","g"),e))}),t}function a(t,n){function a(e,t){return new RegExp("\\b"+t+"\\b","g").test(e.className)}var l,c,u=e.dom,d=e.selection.getContent();n=o(n,"template_replace_values"),l=u.create("div",null,n),c=u.select(".mceTmpl",l),c&&c.length>0&&(l=u.create("div",null),l.appendChild(c[0].cloneNode(!0))),s(u.select("*",l),function(t){a(t,e.getParam("template_cdate_classes","cdate").replace(/\s+/g,"|"))&&(t.innerHTML=i(e.getParam("template_cdate_format",e.getLang("template.cdate_format")))),a(t,e.getParam("template_mdate_classes","mdate").replace(/\s+/g,"|"))&&(t.innerHTML=i(e.getParam("template_mdate_format",e.getLang("template.mdate_format")))),a(t,e.getParam("template_selected_content_classes","selcontent").replace(/\s+/g,"|"))&&(t.innerHTML=d)}),r(l),e.execCommand("mceInsertContent",!1,l.innerHTML),e.addVisual()}var s=tinymce.each;e.addCommand("mceInsertTemplate",a),e.addButton("template",{title:"Insert template",onclick:t(n)}),e.addMenuItem("template",{text:"Insert template",onclick:t(n),context:"insert"}),e.on("PreProcess",function(t){var n=e.dom;s(n.select("div",t.node),function(t){n.hasClass(t,"mceTmpl")&&(s(n.select("*",t),function(t){n.hasClass(t,e.getParam("template_mdate_classes","mdate").replace(/\s+/g,"|"))&&(t.innerHTML=i(e.getParam("template_mdate_format",e.getLang("template.mdate_format"))))}),r(t))})})}),tinymce.PluginManager.add("textcolor",function(e){function t(){var t,n,i=[];for(n=e.settings.textcolor_map||["000000","Black","993300","Burnt orange","333300","Dark olive","003300","Dark green","003366","Dark azure","000080","Navy Blue","333399","Indigo","333333","Very dark gray","800000","Maroon","FF6600","Orange","808000","Olive","008000","Green","008080","Teal","0000FF","Blue","666699","Grayish blue","808080","Gray","FF0000","Red","FF9900","Amber","99CC00","Yellow green","339966","Sea green","33CCCC","Turquoise","3366FF","Royal blue","800080","Purple","999999","Medium gray","FF00FF","Magenta","FFCC00","Gold","FFFF00","Yellow","00FF00","Lime","00FFFF","Aqua","00CCFF","Sky blue","993366","Red violet","C0C0C0","Silver","FF99CC","Pink","FFCC99","Peach","FFFF99","Light yellow","CCFFCC","Pale green","CCFFFF","Pale cyan","99CCFF","Light sky blue","CC99FF","Plum","FFFFFF","White"],t=0;t<n.length;t+=2)i.push({text:n[t+1],color:n[t]});return i}function n(){var n,i,r,o,a,s,l,c,u,d=this;for(n=t(),r='<table class="mce-grid mce-grid-border mce-colorbutton-grid" role="list" cellspacing="0"><tbody>',o=n.length-1,a=e.settings.textcolor_rows||5,s=e.settings.textcolor_cols||8,c=0;a>c;c++){for(r+="<tr>",l=0;s>l;l++)u=c*s+l,u>o?r+="<td></td>":(i=n[u],r+='<td><div id="'+d._id+"-"+u+'" data-mce-color="'+i.color+'" role="option" tabIndex="-1" style="'+(i?"background-color: #"+i.color:"")+'" title="'+i.text+'"></div></td>');r+="</tr>"}return r+="</tbody></table>"}function i(t){var n,i=this.parent();(n=t.target.getAttribute("data-mce-color"))&&(this.lastId&&document.getElementById(this.lastId).setAttribute("aria-selected",!1),t.target.setAttribute("aria-selected",!0),this.lastId=t.target.id,i.hidePanel(),n="#"+n,i.color(n),e.execCommand(i.settings.selectcmd,!1,n))}function r(){var t=this;t._color&&e.execCommand(t.settings.selectcmd,!1,t._color)}e.addButton("forecolor",{type:"colorbutton",tooltip:"Text color",selectcmd:"ForeColor",panel:{role:"application",ariaRemember:!0,html:n,onclick:i},onclick:r}),e.addButton("backcolor",{type:"colorbutton",tooltip:"Background color",selectcmd:"HiliteColor",panel:{role:"application",ariaRemember:!0,html:n,onclick:i},onclick:r})}),tinymce.PluginManager.add("visualblocks",function(e,t){function n(){var t=this;t.active(o),e.on("VisualBlocks",function(){t.active(e.dom.hasClass(e.getBody(),"mce-visualblocks"))})}var i,r,o;window.NodeList&&(e.addCommand("mceVisualBlocks",function(){var n,a=e.dom;i||(i=a.uniqueId(),n=a.create("link",{id:i,rel:"stylesheet",href:t+"/css/visualblocks.css"}),e.getDoc().getElementsByTagName("head")[0].appendChild(n)),e.on("PreviewFormats AfterPreviewFormats",function(t){o&&a.toggleClass(e.getBody(),"mce-visualblocks","afterpreviewformats"==t.type)}),a.toggleClass(e.getBody(),"mce-visualblocks"),o=e.dom.hasClass(e.getBody(),"mce-visualblocks"),r&&r.active(a.hasClass(e.getBody(),"mce-visualblocks")),e.fire("VisualBlocks")}),e.addButton("visualblocks",{title:"Show blocks",cmd:"mceVisualBlocks",onPostRender:n}),e.addMenuItem("visualblocks",{text:"Show blocks",cmd:"mceVisualBlocks",onPostRender:n,selectable:!0,context:"view",prependToContext:!0}),e.on("init",function(){e.settings.visualblocks_default_state&&e.execCommand("mceVisualBlocks",!1,null,{skip_focus:!0})}),e.on("remove",function(){e.dom.removeClass(e.getBody(),"mce-visualblocks")}))}),tinymce.PluginManager.add("visualchars",function(e){function t(t){var n,o,a,s,l,c,u=e.getBody(),d=e.selection;if(i=!i,r.state=i,e.fire("VisualChars",{state:i}),t&&(c=d.getBookmark()),i)for(o=[],tinymce.walk(u,function(e){3==e.nodeType&&e.nodeValue&&-1!=e.nodeValue.indexOf("\xa0")&&o.push(e)},"childNodes"),a=0;a<o.length;a++){for(s=o[a].nodeValue,s=s.replace(/(\u00a0)/g,'<span data-mce-bogus="1" class="mce-nbsp">$1</span>'),l=e.dom.create("div",null,s);n=l.lastChild;)e.dom.insertAfter(n,o[a]);e.dom.remove(o[a])}else for(o=e.dom.select("span.mce-nbsp",u),a=o.length-1;a>=0;a--)e.dom.remove(o[a],1);d.moveToBookmark(c)}function n(){var t=this;e.on("VisualChars",function(e){t.active(e.state)})}var i,r=this;e.addCommand("mceVisualChars",t),e.addButton("visualchars",{title:"Show invisible characters",cmd:"mceVisualChars",onPostRender:n}),e.addMenuItem("visualchars",{text:"Show invisible characters",cmd:"mceVisualChars",onPostRender:n,selectable:!0,context:"view",prependToContext:!0}),e.on("beforegetcontent",function(e){i&&"raw"!=e.format&&!e.draft&&(i=!0,t(!1))})}),tinymce.PluginManager.add("wordcount",function(e){function t(){e.theme.panel.find("#wordcount").text(["Words: {0}",r.getCount()])}var n,i,r=this;n=e.getParam("wordcount_countregex",/[\w\u2019\x27\-\u00C0-\u1FFF]+/g),i=e.getParam("wordcount_cleanregex",/[0-9.(),;:!?%#$?\x27\x22_+=\\\/\-]*/g),e.on("init",function(){var n=e.theme.panel&&e.theme.panel.find("#statusbar")[0];n&&window.setTimeout(function(){n.insert({type:"label",name:"wordcount",text:["Words: {0}",r.getCount()],classes:"wordcount",disabled:e.settings.readonly},0),e.on("setcontent beforeaddundo",t),e.on("keyup",function(e){32==e.keyCode&&t()})},0)}),r.getCount=function(){var t=e.getContent({format:"raw"}),r=0;if(t){t=t.replace(/\.\.\./g," "),t=t.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," "),t=t.replace(/(\w+)(&#?[a-z0-9]+;)+(\w+)/i,"$1$3").replace(/&.+?;/g," "),t=t.replace(i,"");var o=t.match(n);o&&(r=o.length)}return r}}),tinymce.ThemeManager.add("modern",function(e){function t(){function t(t){var i,r=[];return t?(d(t.split(/[ ,]/),function(t){function n(){var n=e.selection;"bullist"==o&&n.selectorChanged("ul > li",function(e,n){for(var i,r=n.parents.length;r--&&(i=n.parents[r].nodeName,"OL"!=i&&"UL"!=i););t.active(e&&"UL"==i)
}),"numlist"==o&&n.selectorChanged("ol > li",function(e,n){for(var i,r=n.parents.length;r--&&(i=n.parents[r].nodeName,"OL"!=i&&"UL"!=i););t.active(e&&"OL"==i)}),t.settings.stateSelector&&n.selectorChanged(t.settings.stateSelector,function(e){t.active(e)},!0),t.settings.disabledStateSelector&&n.selectorChanged(t.settings.disabledStateSelector,function(e){t.disabled(e)})}var o;"|"==t?i=null:u.has(t)?(t={type:t},c.toolbar_items_size&&(t.size=c.toolbar_items_size),r.push(t),i=null):(i||(i={type:"buttongroup",items:[]},r.push(i)),e.buttons[t]&&(o=t,t=e.buttons[o],"function"==typeof t&&(t=t()),t.type=t.type||"button",c.toolbar_items_size&&(t.size=c.toolbar_items_size),t=u.create(t),i.items.push(t),e.initialized?n():e.on("init",n)))}),n.push({type:"toolbar",layout:"flow",items:r}),!0):void 0}var n=[];if(tinymce.isArray(c.toolbar)){if(0===c.toolbar.length)return;tinymce.each(c.toolbar,function(e,t){c["toolbar"+(t+1)]=e}),delete c.toolbar}for(var i=1;10>i&&t(c["toolbar"+i]);i++);return n.length||c.toolbar===!1||t(c.toolbar||p),n.length?{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:n}:void 0}function n(){function t(t){var n;return"|"==t?{text:"|"}:n=e.menuItems[t]}function n(n){var i,r,o,a,s;if(s=tinymce.makeMap((c.removed_menuitems||"").split(/[ ,]/)),c.menu?(r=c.menu[n],a=!0):r=h[n],r){i={text:r.title},o=[],d((r.items||"").split(/[ ,]/),function(e){var n=t(e);n&&!s[e]&&o.push(t(e))}),a||d(e.menuItems,function(e){e.context==n&&("before"==e.separator&&o.push({text:"|"}),e.prependToContext?o.unshift(e):o.push(e),"after"==e.separator&&o.push({text:"|"}))});for(var l=0;l<o.length;l++)"|"==o[l].text&&(0===l||l==o.length-1)&&o.splice(l,1);if(i.menu=o,!i.menu.length)return null}return i}var i,r=[],o=[];if(c.menu)for(i in c.menu)o.push(i);else for(i in h)o.push(i);for(var a="string"==typeof c.menubar?c.menubar.split(/[ ,]/):o,s=0;s<a.length;s++){var l=a[s];l=n(l),l&&r.push(l)}return r}function i(t){function n(e){var n=t.find(e)[0];n&&n.focus(!0)}e.shortcuts.add("Alt+F9","",function(){n("menubar")}),e.shortcuts.add("Alt+F10","",function(){n("toolbar")}),e.shortcuts.add("Alt+F11","",function(){n("elementpath")}),t.on("cancel",function(){e.focus()})}function r(t,n){function i(e){return{width:e.clientWidth,height:e.clientHeight}}var r,o,a,s;r=e.getContainer(),o=e.getContentAreaContainer().firstChild,a=i(r),s=i(o),null!==t&&(t=Math.max(c.min_width||100,t),t=Math.min(c.max_width||65535,t),f.css(r,"width",t+(a.width-s.width)),f.css(o,"width",t)),n=Math.max(c.min_height||100,n),n=Math.min(c.max_height||65535,n),f.css(o,"height",n),e.fire("ResizeEditor")}function o(t,n){var i=e.getContentAreaContainer();l.resizeTo(i.clientWidth+t,i.clientHeight+n)}function a(r){function o(){if(h&&h.moveRel&&h.visible()&&!h._fixed){var t=e.selection.getScrollContainer(),n=e.getBody(),i=0,r=0;if(t){var o=f.getPos(n),a=f.getPos(t);i=Math.max(0,a.x-o.x),r=Math.max(0,a.y-o.y)}h.fixed(!1).moveRel(n,e.rtl?["tr-br","br-tr"]:["tl-bl","bl-tl"]).moveBy(i,r)}}function a(){h&&(h.show(),o(),f.addClass(e.getBody(),"mce-edit-focus"))}function s(){h&&(h.hide(),f.removeClass(e.getBody(),"mce-edit-focus"))}function d(){return h?void(h.visible()||a()):(h=l.panel=u.create({type:p?"panel":"floatpanel",role:"application",classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!!p,border:1,items:[c.menubar===!1?null:{type:"menubar",border:"0 0 1 0",items:n()},t()]}),e.fire("BeforeRenderUI"),h.renderTo(p||document.body).reflow(),i(h),a(),e.on("nodeChange",o),e.on("activate",a),e.on("deactivate",s),void e.nodeChanged())}var h,p;return c.fixed_toolbar_container&&(p=f.select(c.fixed_toolbar_container)[0]),c.content_editable=!0,e.on("focus",function(){r.skinUiCss?tinymce.DOM.styleSheetLoader.load(r.skinUiCss,d,d):d()}),e.on("blur hide",s),e.on("remove",function(){h&&(h.remove(),h=null)}),r.skinUiCss&&tinymce.DOM.styleSheetLoader.load(r.skinUiCss),{}}function s(o){var a,s,d;return o.skinUiCss&&tinymce.DOM.loadCSS(o.skinUiCss),a=l.panel=u.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[c.menubar===!1?null:{type:"menubar",border:"0 0 1 0",items:n()},t(),{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",html:"",border:"1 0 0 0"}]}),c.resize!==!1&&(s={type:"resizehandle",direction:c.resize,onResizeStart:function(){var t=e.getContentAreaContainer().firstChild;d={width:t.clientWidth,height:t.clientHeight}},onResize:function(e){"both"==c.resize?r(d.width+e.deltaX,d.height+e.deltaY):r(null,d.height+e.deltaY)}}),c.statusbar!==!1&&a.add({type:"panel",name:"statusbar",classes:"statusbar",layout:"flow",border:"1 0 0 0",ariaRoot:!0,items:[{type:"elementpath"},s]}),c.readonly&&a.find("*").disabled(!0),e.fire("BeforeRenderUI"),a.renderBefore(o.targetNode).reflow(),c.width&&tinymce.DOM.setStyle(a.getEl(),"width",c.width),e.on("remove",function(){a.remove(),a=null}),i(a),{iframeContainer:a.find("#iframe")[0].getEl(),editorContainer:a.getEl()}}var l=this,c=e.settings,u=tinymce.ui.Factory,d=tinymce.each,f=tinymce.DOM,h={file:{title:"File",items:"newdocument"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},insert:{title:"Insert",items:"|"},view:{title:"View",items:"visualaid |"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript | formats | removeformat"},table:{title:"Table"},tools:{title:"Tools"}},p="undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image";l.renderUI=function(t){var n=c.skin!==!1?c.skin||"lightgray":!1;if(n){var i=c.skin_url;i=i?e.documentBaseURI.toAbsolute(i):tinymce.baseURL+"/skins/"+n,t.skinUiCss=tinymce.Env.documentMode<=7?i+"/skin.ie7.min.css":i+"/skin.min.css",e.contentCSS.push(i+"/content"+(e.inline?".inline":"")+".min.css")}return e.on("ProgressState",function(e){l.throbber=l.throbber||new tinymce.ui.Throbber(l.panel.getEl("body")),e.state?l.throbber.show(e.time):l.throbber.hide()}),c.inline?a(t):s(t)},l.resizeTo=r,l.resizeBy=o});var hljs=new function(){function e(e){return e.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;")}function t(e){return e.nodeName.toLowerCase()}function n(e,t){var n=e&&e.exec(t);return n&&0==n.index}function i(e){return Array.prototype.map.call(e.childNodes,function(e){return 3==e.nodeType?b.useBR?e.nodeValue.replace(/\n/g,""):e.nodeValue:"br"==t(e)?"\n":i(e)}).join("")}function r(e){var t=(e.className+" "+(e.parentNode?e.parentNode.className:"")).split(/\s+/);return t=t.map(function(e){return e.replace(/^language-/,"")}),t.filter(function(e){return v(e)||"no-highlight"==e})[0]}function o(e,t){var n={};for(var i in e)n[i]=e[i];if(t)for(var i in t)n[i]=t[i];return n}function a(e){var n=[];return function i(e,r){for(var o=e.firstChild;o;o=o.nextSibling)3==o.nodeType?r+=o.nodeValue.length:"br"==t(o)?r+=1:1==o.nodeType&&(n.push({event:"start",offset:r,node:o}),r=i(o,r),n.push({event:"stop",offset:r,node:o}));return r}(e,0),n}function s(n,i,r){function o(){return n.length&&i.length?n[0].offset!=i[0].offset?n[0].offset<i[0].offset?n:i:"start"==i[0].event?n:i:n.length?n:i}function a(n){function i(t){return" "+t.nodeName+'="'+e(t.value)+'"'}u+="<"+t(n)+Array.prototype.map.call(n.attributes,i).join("")+">"}function s(e){u+="</"+t(e)+">"}function l(e){("start"==e.event?a:s)(e.node)}for(var c=0,u="",d=[];n.length||i.length;){var f=o();if(u+=e(r.substr(c,f[0].offset-c)),c=f[0].offset,f==n){d.reverse().forEach(s);do l(f.splice(0,1)[0]),f=o();while(f==n&&f.length&&f[0].offset==c);d.reverse().forEach(a)}else"start"==f[0].event?d.push(f[0].node):d.pop(),l(f.splice(0,1)[0])}return u+e(r.substr(c))}function l(e){function t(e){return e&&e.source||e}function n(n,i){return RegExp(t(n),"m"+(e.cI?"i":"")+(i?"g":""))}function i(r,a){function s(t,n){e.cI&&(n=n.toLowerCase()),n.split(" ").forEach(function(e){var n=e.split("|");l[n[0]]=[t,n[1]?Number(n[1]):1]})}if(!r.compiled){if(r.compiled=!0,r.k=r.k||r.bK,r.k){var l={};"string"==typeof r.k?s("keyword",r.k):Object.keys(r.k).forEach(function(e){s(e,r.k[e])}),r.k=l}r.lR=n(r.l||/\b[A-Za-z0-9_]+\b/,!0),a&&(r.bK&&(r.b=r.bK.split(" ").join("|")),r.b||(r.b=/\B|\b/),r.bR=n(r.b),r.e||r.eW||(r.e=/\B|\b/),r.e&&(r.eR=n(r.e)),r.tE=t(r.e)||"",r.eW&&a.tE&&(r.tE+=(r.e?"|":"")+a.tE)),r.i&&(r.iR=n(r.i)),void 0===r.r&&(r.r=1),r.c||(r.c=[]);var c=[];r.c.forEach(function(e){e.v?e.v.forEach(function(t){c.push(o(e,t))}):c.push("self"==e?r:e)}),r.c=c,r.c.forEach(function(e){i(e,r)}),r.starts&&i(r.starts,a);var u=r.c.map(function(e){return e.bK?"\\.?\\b("+e.b+")\\b\\.?":e.b}).concat([r.tE]).concat([r.i]).map(t).filter(Boolean);r.t=u.length?n(u.join("|"),!0):{exec:function(){return null}},r.continuation={}}}i(e)}function c(t,i,r,o){function a(e,t){for(var i=0;i<t.c.length;i++)if(n(t.c[i].bR,e))return t.c[i]}function s(e,t){return n(e.eR,t)?e:e.eW?s(e.parent,t):void 0}function d(e,t){return!r&&n(t.iR,e)}function f(e,t){var n=w.cI?t[0].toLowerCase():t[0];return e.k.hasOwnProperty(n)&&e.k[n]}function h(e,t,n,i){var r=i?"":b.classPrefix,o='<span class="'+r,a=n?"":"</span>";return o+=e+'">',o+t+a}function p(){var t=e(S);if(!k.k)return t;var n="",i=0;k.lR.lastIndex=0;for(var r=k.lR.exec(t);r;){n+=t.substr(i,r.index-i);var o=f(k,r);o?(N+=o[1],n+=h(o[0],r[0])):n+=r[0],i=k.lR.lastIndex,r=k.lR.exec(t)}return n+t.substr(i)}function m(){if(k.sL&&!y[k.sL])return e(S);var t=k.sL?c(k.sL,S,!0,k.continuation.top):u(S);return k.r>0&&(N+=t.r),"continuous"==k.subLanguageMode&&(k.continuation.top=t.top),h(t.language,t.value,!1,!0)}function g(){return void 0!==k.sL?m():p()}function x(t,n){var i=t.cN?h(t.cN,"",!0):"";t.rB?(_+=i,S=""):t.eB?(_+=e(n)+i,S=""):(_+=i,S=n),k=Object.create(t,{parent:{value:k}})}function C(t,n){if(S+=t,void 0===n)return _+=g(),0;var i=a(n,k);if(i)return _+=g(),x(i,n),i.rB?0:n.length;var r=s(k,n);if(r){var o=k;o.rE||o.eE||(S+=n),_+=g();do k.cN&&(_+="</span>"),N+=k.r,k=k.parent;while(k!=r.parent);return o.eE&&(_+=e(n)),S="",r.starts&&x(r.starts,""),o.rE?0:n.length}if(d(n,k))throw new Error('Illegal lexeme "'+n+'" for mode "'+(k.cN||"<unnamed>")+'"');return S+=n,n.length||1}var w=v(t);if(!w)throw new Error('Unknown language: "'+t+'"');l(w);for(var k=o||w,_="",E=k;E!=w;E=E.parent)E.cN&&(_=h(E.cN,_,!0));var S="",N=0;try{for(var T,M,A=0;;){if(k.t.lastIndex=A,T=k.t.exec(i),!T)break;M=C(i.substr(A,T.index-A),T[0]),A=T.index+M}C(i.substr(A));for(var E=k;E.parent;E=E.parent)E.cN&&(_+="</span>");return{r:N,value:_,language:t,top:k}}catch(R){if(-1!=R.message.indexOf("Illegal"))return{r:0,value:e(i)};throw R}}function u(t,n){n=n||b.languages||Object.keys(y);var i={r:0,value:e(t)},r=i;return n.forEach(function(e){if(v(e)){var n=c(e,t,!1);n.language=e,n.r>r.r&&(r=n),n.r>i.r&&(r=i,i=n)}}),r.language&&(i.second_best=r),i}function d(e){return b.tabReplace&&(e=e.replace(/^((<[^>]+>|\t)+)/gm,function(e,t){return t.replace(/\t/g,b.tabReplace)})),b.useBR&&(e=e.replace(/\n/g,"<br>")),e}function f(e){var t=i(e),n=r(e);if("no-highlight"!=n){var o=n?c(n,t,!0):u(t),l=a(e);if(l.length){var f=document.createElementNS("http://www.w3.org/1999/xhtml","pre");f.innerHTML=o.value,o.value=s(l,a(f),t)}o.value=d(o.value),e.innerHTML=o.value,e.className+=" hljs "+(!n&&o.language||""),e.result={language:o.language,re:o.r},o.second_best&&(e.second_best={language:o.second_best.language,re:o.second_best.r})}}function h(e){b=o(b,e)}function p(){if(!p.called){p.called=!0;var e=document.querySelectorAll("pre code");Array.prototype.forEach.call(e,f)}}function m(){addEventListener("DOMContentLoaded",p,!1),addEventListener("load",p,!1)}function g(e,t){var n=y[e]=t(this);n.aliases&&n.aliases.forEach(function(t){x[t]=e})}function v(e){return y[e]||y[x[e]]}var b={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0},y={},x={};this.highlight=c,this.highlightAuto=u,this.fixMarkup=d,this.highlightBlock=f,this.configure=h,this.initHighlighting=p,this.initHighlightingOnLoad=m,this.registerLanguage=g,this.getLanguage=v,this.inherit=o,this.IR="[a-zA-Z][a-zA-Z0-9_]*",this.UIR="[a-zA-Z_][a-zA-Z0-9_]*",this.NR="\\b\\d+(\\.\\d+)?",this.CNR="(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",this.BNR="\\b(0b[01]+)",this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",this.BE={b:"\\\\[\\s\\S]",r:0},this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE]},this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE]},this.CLCM={cN:"comment",b:"//",e:"$"},this.CBLCLM={cN:"comment",b:"/\\*",e:"\\*/"},this.HCM={cN:"comment",b:"#",e:"$"},this.NM={cN:"number",b:this.NR,r:0},this.CNM={cN:"number",b:this.CNR,r:0},this.BNM={cN:"number",b:this.BNR,r:0},this.REGEXP_MODE={cN:"regexp",b:/\//,e:/\/[gim]*/,i:/\n/,c:[this.BE,{b:/\[/,e:/\]/,r:0,c:[this.BE]}]},this.TM={cN:"title",b:this.IR,r:0},this.UTM={cN:"title",b:this.UIR,r:0}};if(hljs.registerLanguage("bash",function(e){var t={cN:"variable",v:[{b:/\$[\w\d#@][\w\d_]*/},{b:/\$\{(.*?)\}/}]},n={cN:"string",b:/"/,e:/"/,c:[e.BE,t,{cN:"variable",b:/\$\(/,e:/\)/,c:[e.BE]}]},i={cN:"string",b:/'/,e:/'/};return{l:/-?[a-z\.]+/,k:{keyword:"if then else elif fi for break continue while in do done exit return set declare case esac export exec",literal:"true false",built_in:"printf echo read cd pwd pushd popd dirs let eval unset typeset readonly getopts source shopt caller type hash bind help sudo",operator:"-ne -eq -lt -gt -f -d -e -s -l -a"},c:[{cN:"shebang",b:/^#![^\n]+sh\s*$/,r:10},{cN:"function",b:/\w[\w\d_]*\s*\(\s*\)\s*\{/,rB:!0,c:[e.inherit(e.TM,{b:/\w[\w\d_]*/})],r:0},e.HCM,e.NM,n,i,t]}}),hljs.registerLanguage("cs",function(e){var t="abstract as base bool break byte case catch char checked const continue decimal default delegate do double else enum event explicit extern false finally fixed float for foreach goto if implicit in int interface internal is lock long new null object operator out override params private protected public readonly ref return sbyte sealed short sizeof stackalloc static string struct switch this throw true try typeof uint ulong unchecked unsafe ushort using virtual volatile void while async await ascending descending from get group into join let orderby partial select set value var where yield";return{k:t,c:[{cN:"comment",b:"///",e:"$",rB:!0,c:[{cN:"xmlDocTag",b:"///|<!--|-->"},{cN:"xmlDocTag",b:"</?",e:">"}]},e.CLCM,e.CBLCLM,{cN:"preprocessor",b:"#",e:"$",k:"if else elif endif define undef warning error line region endregion pragma checksum"},{cN:"string",b:'@"',e:'"',c:[{b:'""'}]},e.ASM,e.QSM,e.CNM,{bK:"protected public private internal",e:/[{;=]/,k:t,c:[{bK:"class namespace interface",starts:{c:[e.TM]}},{b:e.IR+"\\s*\\(",rB:!0,c:[e.TM]}]}]}}),hljs.registerLanguage("ruby",function(e){var t="[a-zA-Z_]\\w*[!?=]?|[-+~]\\@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?",n="and false then defined module in return redo if BEGIN retry end for true self when next until do begin unless END rescue nil else break undef not super class case require yield alias while ensure elsif or include attr_reader attr_writer attr_accessor",i={cN:"yardoctag",b:"@[A-Za-z]+"},r={cN:"comment",v:[{b:"#",e:"$",c:[i]},{b:"^\\=begin",e:"^\\=end",c:[i],r:10},{b:"^__END__",e:"\\n$"}]},o={cN:"subst",b:"#\\{",e:"}",k:n},a={cN:"string",c:[e.BE,o],v:[{b:/'/,e:/'/},{b:/"/,e:/"/},{b:"%[qw]?\\(",e:"\\)"},{b:"%[qw]?\\[",e:"\\]"},{b:"%[qw]?{",e:"}"},{b:"%[qw]?<",e:">",r:10},{b:"%[qw]?/",e:"/",r:10},{b:"%[qw]?%",e:"%",r:10},{b:"%[qw]?-",e:"-",r:10},{b:"%[qw]?\\|",e:"\\|",r:10},{b:/\B\?(\\\d{1,3}|\\x[A-Fa-f0-9]{1,2}|\\u[A-Fa-f0-9]{4}|\\?\S)\b/}]},s={cN:"params",b:"\\(",e:"\\)",k:n},l=[a,r,{cN:"class",bK:"class module",e:"$|;",i:/=/,c:[e.inherit(e.TM,{b:"[A-Za-z_]\\w*(::\\w+)*(\\?|\\!)?"}),{cN:"inheritance",b:"<\\s*",c:[{cN:"parent",b:"("+e.IR+"::)?"+e.IR}]},r]},{cN:"function",bK:"def",e:" |$|;",r:0,c:[e.inherit(e.TM,{b:t}),s,r]},{cN:"constant",b:"(::)?(\\b[A-Z]\\w*(::)?)+",r:0},{cN:"symbol",b:":",c:[a,{b:t}],r:0},{cN:"symbol",b:e.UIR+"(\\!|\\?)?:",r:0},{cN:"number",b:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",r:0},{cN:"variable",b:"(\\$\\W)|((\\$|\\@\\@?)(\\w+))"},{b:"("+e.RSR+")\\s*",c:[r,{cN:"regexp",c:[e.BE,o],i:/\n/,v:[{b:"/",e:"/[a-z]*"},{b:"%r{",e:"}[a-z]*"},{b:"%r\\(",e:"\\)[a-z]*"},{b:"%r!",e:"![a-z]*"},{b:"%r\\[",e:"\\][a-z]*"}]}],r:0}];return o.c=l,s.c=l,{k:n,c:l}}),hljs.registerLanguage("diff",function(){return{c:[{cN:"chunk",r:10,v:[{b:/^\@\@ +\-\d+,\d+ +\+\d+,\d+ +\@\@$/},{b:/^\*\*\* +\d+,\d+ +\*\*\*\*$/},{b:/^\-\-\- +\d+,\d+ +\-\-\-\-$/}]},{cN:"header",v:[{b:/Index: /,e:/$/},{b:/=====/,e:/=====$/},{b:/^\-\-\-/,e:/$/},{b:/^\*{3} /,e:/$/},{b:/^\+\+\+/,e:/$/},{b:/\*{5}/,e:/\*{5}$/}]},{cN:"addition",b:"^\\+",e:"$"},{cN:"deletion",b:"^\\-",e:"$"},{cN:"change",b:"^\\!",e:"$"}]}}),hljs.registerLanguage("javascript",function(e){return{aliases:["js"],k:{keyword:"in if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const class",literal:"true false null undefined NaN Infinity",built_in:"eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require"},c:[{cN:"pi",b:/^\s*('|")use strict('|")/,r:10},e.ASM,e.QSM,e.CLCM,e.CBLCLM,e.CNM,{b:"("+e.RSR+"|\\b(case|return|throw)\\b)\\s*",k:"return throw case",c:[e.CLCM,e.CBLCLM,e.REGEXP_MODE,{b:/</,e:/>;/,r:0,sL:"xml"}],r:0},{cN:"function",bK:"function",e:/\{/,c:[e.inherit(e.TM,{b:/[A-Za-z$_][0-9A-Za-z$_]*/}),{cN:"params",b:/\(/,e:/\)/,c:[e.CLCM,e.CBLCLM],i:/["'\(]/}],i:/\[|%/},{b:/\$[(.]/},{b:"\\."+e.IR,r:0}]}}),hljs.registerLanguage("xml",function(){var e="[A-Za-z0-9\\._:-]+",t={b:/<\?(php)?(?!\w)/,e:/\?>/,sL:"php",subLanguageMode:"continuous"},n={eW:!0,i:/</,r:0,c:[t,{cN:"attribute",b:e,r:0},{b:"=",r:0,c:[{cN:"value",v:[{b:/"/,e:/"/},{b:/'/,e:/'/},{b:/[^\s\/>]+/}]}]}]};return{aliases:["html"],cI:!0,c:[{cN:"doctype",b:"<!DOCTYPE",e:">",r:10,c:[{b:"\\[",e:"\\]"}]},{cN:"comment",b:"<!--",e:"-->",r:10},{cN:"cdata",b:"<\\!\\[CDATA\\[",e:"\\]\\]>",r:10},{cN:"tag",b:"<style(?=\\s|>|$)",e:">",k:{title:"style"},c:[n],starts:{e:"</style>",rE:!0,sL:"css"}},{cN:"tag",b:"<script(?=\\s|>|$)",e:">",k:{title:"script"},c:[n],starts:{e:"</script>",rE:!0,sL:"javascript"}},{b:"<%",e:"%>",sL:"vbscript"},t,{cN:"pi",b:/<\?\w+/,e:/\?>/,r:10},{cN:"tag",b:"</?",e:"/?>",c:[{cN:"title",b:"[^ /><]+",r:0},n]}]}}),hljs.registerLanguage("markdown",function(){return{c:[{cN:"header",v:[{b:"^#{1,6}",e:"$"},{b:"^.+?\\n[=-]{2,}$"}]},{b:"<",e:">",sL:"xml",r:0},{cN:"bullet",b:"^([*+-]|(\\d+\\.))\\s+"},{cN:"strong",b:"[*_]{2}.+?[*_]{2}"},{cN:"emphasis",v:[{b:"\\*.+?\\*"},{b:"_.+?_",r:0}]},{cN:"blockquote",b:"^>\\s+",e:"$"},{cN:"code",v:[{b:"`.+?`"},{b:"^( {4}|	)",e:"$",r:0}]},{cN:"horizontal_rule",b:"^[-\\*]{3,}",e:"$"},{b:"\\[.+?\\][\\(\\[].+?[\\)\\]]",rB:!0,c:[{cN:"link_label",b:"\\[",e:"\\]",eB:!0,rE:!0,r:0},{cN:"link_url",b:"\\]\\(",e:"\\)",eB:!0,eE:!0},{cN:"link_reference",b:"\\]\\[",e:"\\]",eB:!0,eE:!0}],r:10},{b:"^\\[.+\\]:",e:"$",rB:!0,c:[{cN:"link_reference",b:"\\[",e:"\\]",eB:!0,eE:!0},{cN:"link_url",b:"\\s",e:"$"}]}]}}),hljs.registerLanguage("css",function(e){var t="[a-zA-Z-][a-zA-Z0-9_-]*",n={cN:"function",b:t+"\\(",e:"\\)",c:["self",e.NM,e.ASM,e.QSM]};return{cI:!0,i:"[=/|']",c:[e.CBLCLM,{cN:"id",b:"\\#[A-Za-z0-9_-]+"},{cN:"class",b:"\\.[A-Za-z0-9_-]+",r:0},{cN:"attr_selector",b:"\\[",e:"\\]",i:"$"},{cN:"pseudo",b:":(:)?[a-zA-Z0-9\\_\\-\\+\\(\\)\\\"\\']+"},{cN:"at_rule",b:"@(font-face|page)",l:"[a-z-]+",k:"font-face page"},{cN:"at_rule",b:"@",e:"[{;]",c:[{cN:"keyword",b:/\S+/},{b:/\s/,eW:!0,eE:!0,r:0,c:[n,e.ASM,e.QSM,e.NM]}]},{cN:"tag",b:t,r:0},{cN:"rules",b:"{",e:"}",i:"[^\\s]",r:0,c:[e.CBLCLM,{cN:"rule",b:"[^\\s]",rB:!0,e:";",eW:!0,c:[{cN:"attribute",b:"[A-Z\\_\\.\\-]+",e:":",eE:!0,i:"[^\\s]",starts:{cN:"value",eW:!0,eE:!0,c:[n,e.NM,e.QSM,e.ASM,e.CBLCLM,{cN:"hexcolor",b:"#[0-9A-Fa-f]+"},{cN:"important",b:"!important"}]}}]}]}]}}),hljs.registerLanguage("http",function(){return{i:"\\S",c:[{cN:"status",b:"^HTTP/[0-9\\.]+",e:"$",c:[{cN:"number",b:"\\b\\d{3}\\b"}]},{cN:"request",b:"^[A-Z]+ (.*?) HTTP/[0-9\\.]+$",rB:!0,e:"$",c:[{cN:"string",b:" ",e:" ",eB:!0,eE:!0}]},{cN:"attribute",b:"^\\w",e:": ",eE:!0,i:"\\n|\\s|=",starts:{cN:"string",e:"$"}},{b:"\\n\\n",starts:{sL:"",eW:!0}}]}}),hljs.registerLanguage("java",function(e){var t="false synchronized int abstract float private char boolean static null if const for true while long throw strictfp finally protected import native final return void enum else break transient new catch instanceof byte super volatile case assert short package default double public try this switch continue throws";return{k:t,i:/<\//,c:[{cN:"javadoc",b:"/\\*\\*",e:"\\*/",c:[{cN:"javadoctag",b:"(^|\\s)@[A-Za-z]+"}],r:10},e.CLCM,e.CBLCLM,e.ASM,e.QSM,{bK:"protected public private",e:/[{;=]/,k:t,c:[{cN:"class",bK:"class interface",eW:!0,i:/[:"<>]/,c:[{bK:"extends implements",r:10},e.UTM]},{b:e.UIR+"\\s*\\(",rB:!0,c:[e.UTM]}]},e.CNM,{cN:"annotation",b:"@[A-Za-z]+"}]}}),hljs.registerLanguage("php",function(e){var t={cN:"variable",b:"\\$+[a-zA-Z_-\xff][a-zA-Z0-9_-\xff]*"},n={cN:"preprocessor",b:/<\?(php)?|\?>/},i={cN:"string",c:[e.BE,n],v:[{b:'b"',e:'"'},{b:"b'",e:"'"},e.inherit(e.ASM,{i:null}),e.inherit(e.QSM,{i:null})]},r={v:[e.BNM,e.CNM]};return{cI:!0,k:"and include_once list abstract global private echo interface as static endswitch array null if endwhile or const for endforeach self var while isset public protected exit foreach throw elseif include __FILE__ empty require_once do xor return parent clone use __CLASS__ __LINE__ else break print eval new catch __METHOD__ case exception default die require __FUNCTION__ enddeclare final try switch continue endfor endif declare unset true false trait goto instanceof insteadof __DIR__ __NAMESPACE__ yield finally",c:[e.CLCM,e.HCM,{cN:"comment",b:"/\\*",e:"\\*/",c:[{cN:"phpdoc",b:"\\s@[A-Za-z]+"},n]},{cN:"comment",b:"__halt_compiler.+?;",eW:!0,k:"__halt_compiler",l:e.UIR},{cN:"string",b:"<<<['\"]?\\w+['\"]?$",e:"^\\w+;",c:[e.BE]},n,t,{cN:"function",bK:"function",e:/[;{]/,i:"\\$|\\[|%",c:[e.UTM,{cN:"params",b:"\\(",e:"\\)",c:["self",t,e.CBLCLM,i,r]}]},{cN:"class",bK:"class interface",e:"{",i:/[:\(\$"]/,c:[{bK:"extends implements",r:10},e.UTM]},{bK:"namespace",e:";",i:/[\.']/,c:[e.UTM]},{bK:"use",e:";",c:[e.UTM]},{b:"=>"},i,r]}}),hljs.registerLanguage("python",function(e){var t={cN:"prompt",b:/^(>>>|\.\.\.) /},n={cN:"string",c:[e.BE],v:[{b:/(u|b)?r?'''/,e:/'''/,c:[t],r:10},{b:/(u|b)?r?"""/,e:/"""/,c:[t],r:10},{b:/(u|r|ur)'/,e:/'/,r:10},{b:/(u|r|ur)"/,e:/"/,r:10},{b:/(b|br)'/,e:/'/},{b:/(b|br)"/,e:/"/},e.ASM,e.QSM]},i={cN:"number",r:0,v:[{b:e.BNR+"[lLjJ]?"},{b:"\\b(0o[0-7]+)[lLjJ]?"},{b:e.CNR+"[lLjJ]?"}]},r={cN:"params",b:/\(/,e:/\)/,c:["self",t,i,n]},o={e:/:/,i:/[${=;\n]/,c:[e.UTM,r]};return{k:{keyword:"and elif is global as in if from raise for except finally print import pass return exec else break not with class assert yield try while continue del or def lambda nonlocal|10 None True False",built_in:"Ellipsis NotImplemented"},i:/(<\/|->|\?)/,c:[t,i,n,e.HCM,e.inherit(o,{cN:"function",bK:"def",r:10}),e.inherit(o,{cN:"class",bK:"class"}),{cN:"decorator",b:/@/,e:/$/},{b:/\b(print|exec)\(/}]}}),hljs.registerLanguage("sql",function(e){return{cI:!0,i:/[<>]/,c:[{cN:"operator",b:"\\b(begin|end|start|commit|rollback|savepoint|lock|alter|create|drop|rename|call|delete|do|handler|insert|load|replace|select|truncate|update|set|show|pragma|grant|merge)\\b(?!:)",e:";",eW:!0,k:{keyword:"all partial global month current_timestamp using go revoke smallint indicator end-exec disconnect zone with character assertion to add current_user usage input local alter match collate real then rollback get read timestamp session_user not integer bit unique day minute desc insert execute like ilike|2 level decimal drop continue isolation found where constraints domain right national some module transaction relative second connect escape close system_user for deferred section cast current sqlstate allocate intersect deallocate numeric public preserve full goto initially asc no key output collation group by union session both last language constraint column of space foreign deferrable prior connection unknown action commit view or first into float year primary cascaded except restrict set references names table outer open select size are rows from prepare distinct leading create only next inner authorization schema corresponding option declare precision immediate else timezone_minute external varying translation true case exception join hour default double scroll value cursor descriptor values dec fetch procedure delete and false int is describe char as at in varchar null trailing any absolute current_time end grant privileges when cross check write current_date pad begin temporary exec time update catalog user sql date on identity timezone_hour natural whenever interval work order cascade diagnostics nchar having left call do handler load replace truncate start lock show pragma exists number trigger if before after each row merge matched database",aggregate:"count sum min max avg"},c:[{cN:"string",b:"'",e:"'",c:[e.BE,{b:"''"}]},{cN:"string",b:'"',e:'"',c:[e.BE,{b:'""'}]},{cN:"string",b:"`",e:"`",c:[e.BE]},e.CNM]},e.CBLCLM,{cN:"comment",b:"--",e:"$"}]}}),hljs.registerLanguage("ini",function(e){return{cI:!0,i:/\S/,c:[{cN:"comment",b:";",e:"$"},{cN:"title",b:"^\\[",e:"\\]"},{cN:"setting",b:"^[a-z0-9\\[\\]_-]+[ \\t]*=[ \\t]*",e:"$",c:[{cN:"value",eW:!0,k:"on off true false yes no",c:[e.QSM,e.NM],r:0}]}]}}),hljs.registerLanguage("perl",function(e){var t="getpwent getservent quotemeta msgrcv scalar kill dbmclose undef lc ma syswrite tr send umask sysopen shmwrite vec qx utime local oct semctl localtime readpipe do return format read sprintf dbmopen pop getpgrp not getpwnam rewinddir qqfileno qw endprotoent wait sethostent bless s|0 opendir continue each sleep endgrent shutdown dump chomp connect getsockname die socketpair close flock exists index shmgetsub for endpwent redo lstat msgctl setpgrp abs exit select print ref gethostbyaddr unshift fcntl syscall goto getnetbyaddr join gmtime symlink semget splice x|0 getpeername recv log setsockopt cos last reverse gethostbyname getgrnam study formline endhostent times chop length gethostent getnetent pack getprotoent getservbyname rand mkdir pos chmod y|0 substr endnetent printf next open msgsnd readdir use unlink getsockopt getpriority rindex wantarray hex system getservbyport endservent int chr untie rmdir prototype tell listen fork shmread ucfirst setprotoent else sysseek link getgrgid shmctl waitpid unpack getnetbyname reset chdir grep split require caller lcfirst until warn while values shift telldir getpwuid my getprotobynumber delete and sort uc defined srand accept package seekdir getprotobyname semop our rename seek if q|0 chroot sysread setpwent no crypt getc chown sqrt write setnetent setpriority foreach tie sin msgget map stat getlogin unless elsif truncate exec keys glob tied closedirioctl socket readlink eval xor readline binmode setservent eof ord bind alarm pipe atan2 getgrent exp time push setgrent gt lt or ne m|0 break given say state when",n={cN:"subst",b:"[$@]\\{",e:"\\}",k:t},i={b:"->{",e:"}"},r={cN:"variable",v:[{b:/\$\d/},{b:/[\$\%\@\*](\^\w\b|#\w+(\:\:\w+)*|{\w+}|\w+(\:\:\w*)*)/},{b:/[\$\%\@\*][^\s\w{]/,r:0}]},o={cN:"comment",b:"^(__END__|__DATA__)",e:"\\n$",r:5},a=[e.BE,n,r],s=[r,e.HCM,o,{cN:"comment",b:"^\\=\\w",e:"\\=cut",eW:!0},i,{cN:"string",c:a,v:[{b:"q[qwxr]?\\s*\\(",e:"\\)",r:5},{b:"q[qwxr]?\\s*\\[",e:"\\]",r:5},{b:"q[qwxr]?\\s*\\{",e:"\\}",r:5},{b:"q[qwxr]?\\s*\\|",e:"\\|",r:5},{b:"q[qwxr]?\\s*\\<",e:"\\>",r:5},{b:"qw\\s+q",e:"q",r:5},{b:"'",e:"'",c:[e.BE]},{b:'"',e:'"'},{b:"`",e:"`",c:[e.BE]},{b:"{\\w+}",c:[],r:0},{b:"-?\\w+\\s*\\=\\>",c:[],r:0}]},{cN:"number",b:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",r:0},{b:"(\\/\\/|"+e.RSR+"|\\b(split|return|print|reverse|grep)\\b)\\s*",k:"split return print reverse grep",r:0,c:[e.HCM,o,{cN:"regexp",b:"(s|tr|y)/(\\\\.|[^/])*/(\\\\.|[^/])*/[a-z]*",r:10},{cN:"regexp",b:"(m|qr)?/",e:"/[a-z]*",c:[e.BE],r:0}]},{cN:"sub",bK:"sub",e:"(\\s*\\(.*?\\))?[;{]",r:5},{cN:"operator",b:"-\\w\\b",r:0}];return n.c=s,i.c=s,{k:t,c:s}}),hljs.registerLanguage("objectivec",function(e){var t={keyword:"int float while char export sizeof typedef const struct for union unsigned long volatile static bool mutable if do return goto void enum else break extern asm case short default double register explicit signed typename this switch continue wchar_t inline readonly assign self synchronized id nonatomic super unichar IBOutlet IBAction strong weak @private @protected @public @try @property @end @throw @catch @finally @synthesize @dynamic @selector @optional @required",literal:"false true FALSE TRUE nil YES NO NULL",built_in:"NSString NSDictionary CGRect CGPoint UIButton UILabel UITextView UIWebView MKMapView UISegmentedControl NSObject UITableViewDelegate UITableViewDataSource NSThread UIActivityIndicator UITabbar UIToolBar UIBarButtonItem UIImageView NSAutoreleasePool UITableView BOOL NSInteger CGFloat NSException NSLog NSMutableString NSMutableArray NSMutableDictionary NSURL NSIndexPath CGSize UITableViewCell UIView UIViewController UINavigationBar UINavigationController UITabBarController UIPopoverController UIPopoverControllerDelegate UIImage NSNumber UISearchBar NSFetchedResultsController NSFetchedResultsChangeType UIScrollView UIScrollViewDelegate UIEdgeInsets UIColor UIFont UIApplication NSNotFound NSNotificationCenter NSNotification UILocalNotification NSBundle NSFileManager NSTimeInterval NSDate NSCalendar NSUserDefaults UIWindow NSRange NSArray NSError NSURLRequest NSURLConnection UIInterfaceOrientation MPMoviePlayerController dispatch_once_t dispatch_queue_t dispatch_sync dispatch_async dispatch_once"},n=/[a-zA-Z@][a-zA-Z0-9_]*/,i="@interface @class @protocol @implementation";return{k:t,l:n,i:"</",c:[e.CLCM,e.CBLCLM,e.CNM,e.QSM,{cN:"string",b:"'",e:"[^\\\\]'",i:"[^\\\\][^']"},{cN:"preprocessor",b:"#import",e:"$",c:[{cN:"title",b:'"',e:'"'},{cN:"title",b:"<",e:">"}]},{cN:"preprocessor",b:"#",e:"$"},{cN:"class",b:"("+i.split(" ").join("|")+")\\b",e:"({|$)",k:i,l:n,c:[e.UTM]},{cN:"variable",b:"\\."+e.UIR,r:0}]}}),hljs.registerLanguage("coffeescript",function(e){var t={keyword:"in if for while finally new do return else break catch instanceof throw try this switch continue typeof delete debugger super then unless until loop of by when and or is isnt not",literal:"true false null undefined yes no on off",reserved:"case default function var void with const let enum export import native __hasProp __extends __slice __bind __indexOf",built_in:"npm require console print module exports global window document"},n="[A-Za-z$_][0-9A-Za-z$_]*",i=e.inherit(e.TM,{b:n}),r={cN:"subst",b:/#\{/,e:/}/,k:t},o=[e.BNM,e.inherit(e.CNM,{starts:{e:"(\\s*/)?",r:0}}),{cN:"string",v:[{b:/'''/,e:/'''/,c:[e.BE]},{b:/'/,e:/'/,c:[e.BE]},{b:/"""/,e:/"""/,c:[e.BE,r]},{b:/"/,e:/"/,c:[e.BE,r]}]},{cN:"regexp",v:[{b:"///",e:"///",c:[r,e.HCM]},{b:"//[gim]*",r:0},{b:"/\\S(\\\\.|[^\\n])*?/[gim]*(?=\\s|\\W|$)"}]},{cN:"property",b:"@"+n},{b:"`",e:"`",eB:!0,eE:!0,sL:"javascript"}];return r.c=o,{k:t,c:o.concat([{cN:"comment",b:"###",e:"###"},e.HCM,{cN:"function",b:"("+n+"\\s*=\\s*)?(\\(.*\\))?\\s*\\B[-=]>",e:"[-=]>",rB:!0,c:[i,{cN:"params",b:"\\(",rB:!0,c:[{b:/\(/,e:/\)/,k:t,c:["self"].concat(o)}]}]},{cN:"class",bK:"class",e:"$",i:/[:="\[\]]/,c:[{bK:"extends",eW:!0,i:/[:="\[\]]/,c:[i]},i]},{cN:"attribute",b:n+":",e:":",rB:!0,eE:!0,r:0}])}}),hljs.registerLanguage("nginx",function(e){var t={cN:"variable",v:[{b:/\$\d+/},{b:/\$\{/,e:/}/},{b:"[\\$\\@]"+e.UIR}]},n={eW:!0,l:"[a-z/_]+",k:{built_in:"on off yes no true false none blocked debug info notice warn error crit select break last permanent redirect kqueue rtsig epoll poll /dev/poll"},r:0,i:"=>",c:[e.HCM,{cN:"string",c:[e.BE,t],v:[{b:/"/,e:/"/},{b:/'/,e:/'/}]},{cN:"url",b:"([a-z]+):/",e:"\\s",eW:!0,eE:!0},{cN:"regexp",c:[e.BE,t],v:[{b:"\\s\\^",e:"\\s|{|;",rE:!0},{b:"~\\*?\\s+",e:"\\s|{|;",rE:!0},{b:"\\*(\\.[a-z\\-]+)+"},{b:"([a-z\\-]+\\.)+\\*"}]},{cN:"number",b:"\\b\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}(:\\d{1,5})?\\b"},{cN:"number",b:"\\b\\d+[kKmMgGdshdwy]*\\b",r:0},t]};return{c:[e.HCM,{b:e.UIR+"\\s",e:";|{",rB:!0,c:[e.inherit(e.UTM,{starts:n})],r:0}],i:"[^\\s\\}]"}}),hljs.registerLanguage("json",function(e){var t={literal:"true false null"},n=[e.QSM,e.CNM],i={cN:"value",e:",",eW:!0,eE:!0,c:n,k:t},r={b:"{",e:"}",c:[{cN:"attribute",b:'\\s*"',e:'"\\s*:\\s*',eB:!0,eE:!0,c:[e.BE],i:"\\n",starts:i}],i:"\\S"},o={b:"\\[",e:"\\]",c:[e.inherit(i,{cN:null})],i:"\\S"};
return n.splice(n.length,0,r,o),{c:n,k:t,i:"\\S"}}),hljs.registerLanguage("apache",function(e){var t={cN:"number",b:"[\\$%]\\d+"};return{cI:!0,c:[e.HCM,{cN:"tag",b:"</?",e:">"},{cN:"keyword",b:/\w+/,r:0,k:{common:"order deny allow setenv rewriterule rewriteengine rewritecond documentroot sethandler errordocument loadmodule options header listen serverroot servername"},starts:{e:/$/,r:0,k:{literal:"on off all"},c:[{cN:"sqbracket",b:"\\s\\[",e:"\\]$"},{cN:"cbracket",b:"[\\$%]\\{",e:"\\}",c:["self",t]},t,e.QSM]}}],i:/\S/}}),hljs.registerLanguage("cpp",function(e){var t={keyword:"false int float while private char catch export virtual operator sizeof dynamic_cast|10 typedef const_cast|10 const struct for static_cast|10 union namespace unsigned long throw volatile static protected bool template mutable if public friend do return goto auto void enum else break new extern using true class asm case typeid short reinterpret_cast|10 default double register explicit signed typename try this switch continue wchar_t inline delete alignof char16_t char32_t constexpr decltype noexcept nullptr static_assert thread_local restrict _Bool complex _Complex _Imaginary",built_in:"std string cin cout cerr clog stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap array shared_ptr abort abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf"};return{aliases:["c"],k:t,i:"</",c:[e.CLCM,e.CBLCLM,e.QSM,{cN:"string",b:"'\\\\?.",e:"'",i:"."},{cN:"number",b:"\\b(\\d+(\\.\\d*)?|\\.\\d+)(u|U|l|L|ul|UL|f|F)"},e.CNM,{cN:"preprocessor",b:"#",e:"$",c:[{b:"include\\s*<",e:">",i:"\\n"},e.CLCM]},{cN:"stl_container",b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",e:">",k:t,r:10,c:["self"]}]}}),hljs.registerLanguage("makefile",function(e){var t={cN:"variable",b:/\$\(/,e:/\)/,c:[e.BE]};return{c:[e.HCM,{b:/^\w+\s*\W*=/,rB:!0,r:0,starts:{cN:"constant",e:/\s*\W*=/,eE:!0,starts:{e:/$/,r:0,c:[t]}}},{cN:"title",b:/^[\w]+:\s*$/},{cN:"phony",b:/^\.PHONY:/,e:/$/,k:".PHONY",l:/[\.\w]+/},{b:/^\t+/,e:/$/,c:[e.QSM,t]}]}}),function(e){function t(e,t){return e.toFixed(t.decimals)}e.fn.countTo=function(t){return t=t||{},e(this).each(function(){function n(){u+=a,c++,i(u),"function"==typeof r.onUpdate&&r.onUpdate.call(s,u),c>=o&&(l.removeData("countTo"),clearInterval(d.interval),u=r.to,"function"==typeof r.onComplete&&r.onComplete.call(s,u))}function i(e){var t=r.formatter.call(s,e,r);l.html(t)}var r=e.extend({},e.fn.countTo.defaults,{from:e(this).data("from"),to:e(this).data("to"),speed:e(this).data("speed"),refreshInterval:e(this).data("refresh-interval"),decimals:e(this).data("decimals")},t),o=Math.ceil(r.speed/r.refreshInterval),a=(r.to-r.from)/o,s=this,l=e(this),c=0,u=r.from,d=l.data("countTo")||{};l.data("countTo",d),d.interval&&clearInterval(d.interval),d.interval=setInterval(n,r.refreshInterval),i(u)})},e.fn.countTo.defaults={from:0,to:0,speed:1e3,refreshInterval:100,decimals:0,formatter:t,onUpdate:null,onComplete:null}}(jQuery),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,i=this;e(this).one(e.support.transition.end,function(){n=!0});var r=function(){n||e(i).trigger(e.support.transition.end)};return setTimeout(r,t),this},e(function(){e.support.transition=t()})}(jQuery),+function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function n(){o.trigger("closed.bs.alert").remove()}var i=e(this),r=i.attr("data-target");r||(r=i.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var o=e(r);t&&t.preventDefault(),o.length||(o=i.hasClass("alert")?i:i.parent()),o.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one(e.support.transition.end,n).emulateTransitionEnd(150):n())};var i=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var i=e(this),r=i.data("bs.alert");r||i.data("bs.alert",r=new n(this)),"string"==typeof t&&r[t].call(i)})},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.bs.alert.data-api",t,n.prototype.close)}(jQuery),+function(e){"use strict";var t=function(n,i){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,i),this.isLoading=!1};t.DEFAULTS={loadingText:"loading..."},t.prototype.setState=function(t){var n="disabled",i=this.$element,r=i.is("input")?"val":"html",o=i.data();t+="Text",o.resetText||i.data("resetText",i[r]()),i[r](o[t]||this.options[t]),setTimeout(e.proxy(function(){"loadingText"==t?(this.isLoading=!0,i.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n))},this),0)},t.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}e&&this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each(function(){var i=e(this),r=i.data("bs.button"),o="object"==typeof n&&n;r||i.data("bs.button",r=new t(this,o)),"toggle"==n?r.toggle():n&&r.setState(n)})},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.bs.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle"),t.preventDefault()})}(jQuery),+function(e){"use strict";var t=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},t.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},t.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},t.prototype.to=function(t){var n=this,i=this.getActiveIndex();return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){n.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",e(this.$items[t]))},t.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},t.prototype.next=function(){return this.sliding?void 0:this.slide("next")},t.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},t.prototype.slide=function(t,n){var i=this.$element.find(".item.active"),r=n||i[t](),o=this.interval,a="next"==t?"left":"right",s="next"==t?"first":"last",l=this;if(!r.length){if(!this.options.wrap)return;r=this.$element.find(".item")[s]()}if(r.hasClass("active"))return this.sliding=!1;var c=e.Event("slide.bs.carousel",{relatedTarget:r[0],direction:a});return this.$element.trigger(c),c.isDefaultPrevented()?void 0:(this.sliding=!0,o&&this.pause(),this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var t=e(l.$indicators.children()[l.getActiveIndex()]);t&&t.addClass("active")})),e.support.transition&&this.$element.hasClass("slide")?(r.addClass(t),r[0].offsetWidth,i.addClass(a),r.addClass(a),i.one(e.support.transition.end,function(){r.removeClass([t,a].join(" ")).addClass("active"),i.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(1e3*i.css("transition-duration").slice(0,-1))):(i.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")),o&&this.cycle(),this)};var n=e.fn.carousel;e.fn.carousel=function(n){return this.each(function(){var i=e(this),r=i.data("bs.carousel"),o=e.extend({},t.DEFAULTS,i.data(),"object"==typeof n&&n),a="string"==typeof n?n:o.slide;r||i.data("bs.carousel",r=new t(this,o)),"number"==typeof n?r.to(n):a?r[a]():o.interval&&r.pause().cycle()})},e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this},e(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(t){var n,i=e(this),r=e(i.attr("data-target")||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),o=e.extend({},r.data(),i.data()),a=i.attr("data-slide-to");a&&(o.interval=!1),r.carousel(o),(a=i.attr("data-slide-to"))&&r.data("bs.carousel").to(a),t.preventDefault()}),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var t=e(this);t.carousel(t.data())})})}(jQuery),+function(e){"use strict";var t=function(n,i){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,i),this.transitioning=null,this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.DEFAULTS={toggle:!0},t.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},t.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t=e.Event("show.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.$parent&&this.$parent.find("> .panel > .in");if(n&&n.length){var i=n.data("bs.collapse");if(i&&i.transitioning)return;n.collapse("hide"),i||n.data("bs.collapse",null)}var r=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[r](0),this.transitioning=1;var o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[r]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return o.call(this);var a=e.camelCase(["scroll",r].join("-"));this.$element.one(e.support.transition.end,e.proxy(o,this)).emulateTransitionEnd(350)[r](this.$element[0][a])}}},t.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return e.support.transition?void this.$element[n](0).one(e.support.transition.end,e.proxy(i,this)).emulateTransitionEnd(350):i.call(this)}}},t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var n=e.fn.collapse;e.fn.collapse=function(n){return this.each(function(){var i=e(this),r=i.data("bs.collapse"),o=e.extend({},t.DEFAULTS,i.data(),"object"==typeof n&&n);!r&&o.toggle&&"show"==n&&(n=!n),r||i.data("bs.collapse",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=n,this},e(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(t){var n,i=e(this),r=i.attr("data-target")||t.preventDefault()||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),o=e(r),a=o.data("bs.collapse"),s=a?"toggle":i.data(),l=i.attr("data-parent"),c=l&&e(l);a&&a.transitioning||(c&&c.find('[data-toggle=collapse][data-parent="'+l+'"]').not(i).addClass("collapsed"),i[o.hasClass("in")?"addClass":"removeClass"]("collapsed")),o.collapse(s)})}(jQuery),+function(e){"use strict";function t(t){e(i).remove(),e(r).each(function(){var i=n(e(this)),r={relatedTarget:this};i.hasClass("open")&&(i.trigger(t=e.Event("hide.bs.dropdown",r)),t.isDefaultPrevented()||i.removeClass("open").trigger("hidden.bs.dropdown",r))})}function n(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&e(n);return i&&i.length?i:t.parent()}var i=".dropdown-backdrop",r="[data-toggle=dropdown]",o=function(t){e(t).on("click.bs.dropdown",this.toggle)};o.prototype.toggle=function(i){var r=e(this);if(!r.is(".disabled, :disabled")){var o=n(r),a=o.hasClass("open");if(t(),!a){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var s={relatedTarget:this};if(o.trigger(i=e.Event("show.bs.dropdown",s)),i.isDefaultPrevented())return;o.toggleClass("open").trigger("shown.bs.dropdown",s),r.focus()}return!1}},o.prototype.keydown=function(t){if(/(38|40|27)/.test(t.keyCode)){var i=e(this);if(t.preventDefault(),t.stopPropagation(),!i.is(".disabled, :disabled")){var o=n(i),a=o.hasClass("open");if(!a||a&&27==t.keyCode)return 27==t.which&&o.find(r).focus(),i.click();var s=" li:not(.divider):visible a",l=o.find("[role=menu]"+s+", [role=listbox]"+s);if(l.length){var c=l.index(l.filter(":focus"));38==t.keyCode&&c>0&&c--,40==t.keyCode&&c<l.length-1&&c++,~c||(c=0),l.eq(c).focus()}}}};var a=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var n=e(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new o(this)),"string"==typeof t&&i[t].call(n)})},e.fn.dropdown.Constructor=o,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=a,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",r,o.prototype.toggle).on("keydown.bs.dropdown.data-api",r+", [role=menu], [role=listbox]",o.prototype.keydown)}(jQuery),+function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(e){return this[this.isShown?"hide":"show"](e)},t.prototype.show=function(t){var n=this,i=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var i=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(document.body),n.$element.show().scrollTop(0),i&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var r=e.Event("shown.bs.modal",{relatedTarget:t});i?n.$element.find(".modal-dialog").one(e.support.transition.end,function(){n.$element.focus().trigger(r)}).emulateTransitionEnd(300):n.$element.focus().trigger(r)}))},t.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one(e.support.transition.end,e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.focus()},this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},t.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.removeBackdrop(),e.$element.trigger("hidden.bs.modal")})},t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(t){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&n;if(this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()):t&&t()};var n=e.fn.modal;e.fn.modal=function(n,i){return this.each(function(){var r=e(this),o=r.data("bs.modal"),a=e.extend({},t.DEFAULTS,r.data(),"object"==typeof n&&n);o||r.data("bs.modal",o=new t(this,a)),"string"==typeof n?o[n](i):a.show&&o.show(i)})},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),i=n.attr("href"),r=e(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),o=r.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},r.data(),n.data());n.is("a")&&t.preventDefault(),r.modal(o,this).one("hide",function(){n.is(":visible")&&n.focus()})}),e(document).on("show.bs.modal",".modal",function(){e(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){e(document.body).removeClass("modal-open")})}(jQuery),+function(e){"use strict";var t=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.prototype.init=function(t,n,i){this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(i);for(var r=this.options.trigger.split(" "),o=r.length;o--;){var a=r[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,i){n[e]!=i&&(t[e]=i)}),t},t.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show()},t.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},t.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(t),t.isDefaultPrevented())return;var n=this,i=this.tip();this.setContent(),this.options.animation&&i.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,o=/\s?auto?\s?/i,a=o.test(r);a&&(r=r.replace(o,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(r),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);var s=this.getPosition(),l=i[0].offsetWidth,c=i[0].offsetHeight;if(a){var u=this.$element.parent(),d=r,f=document.documentElement.scrollTop||document.body.scrollTop,h="body"==this.options.container?window.innerWidth:u.outerWidth(),p="body"==this.options.container?window.innerHeight:u.outerHeight(),m="body"==this.options.container?0:u.offset().left;r="bottom"==r&&s.top+s.height+c-f>p?"top":"top"==r&&s.top-f-c<0?"bottom":"right"==r&&s.right+l>h?"left":"left"==r&&s.left-l<m?"right":r,i.removeClass(d).addClass(r)}var g=this.getCalculatedOffset(r,s,l,c);this.applyPlacement(g,r),this.hoverState=null;var v=function(){n.$element.trigger("shown.bs."+n.type)};e.support.transition&&this.$tip.hasClass("fade")?i.one(e.support.transition.end,v).emulateTransitionEnd(150):v()}},t.prototype.applyPlacement=function(t,n){var i,r=this.tip(),o=r[0].offsetWidth,a=r[0].offsetHeight,s=parseInt(r.css("margin-top"),10),l=parseInt(r.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(l)&&(l=0),t.top=t.top+s,t.left=t.left+l,e.offset.setOffset(r[0],e.extend({using:function(e){r.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),r.addClass("in");var c=r[0].offsetWidth,u=r[0].offsetHeight;if("top"==n&&u!=a&&(i=!0,t.top=t.top+a-u),/bottom|top/.test(n)){var d=0;t.left<0&&(d=-2*t.left,t.left=0,r.offset(t),c=r[0].offsetWidth,u=r[0].offsetHeight),this.replaceArrow(d-o+c,c,"left")}else this.replaceArrow(u-a,u,"top");i&&r.offset(t)},t.prototype.replaceArrow=function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(){function t(){"in"!=n.hoverState&&i.detach(),n.$element.trigger("hidden.bs."+n.type)}var n=this,i=this.tip(),r=e.Event("hide.bs."+this.type);return this.$element.trigger(r),r.isDefaultPrevented()?void 0:(i.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?i.one(e.support.transition.end,t).emulateTransitionEnd(150):t(),this.hoverState=null,this)},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(){var t=this.$element[0];return e.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},t.prototype.getCalculatedOffset=function(e,t,n,i){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-i,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-i/2,left:t.left-n}:{top:t.top+t.height/2-i/2,left:t.left+t.width}},t.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},t.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var n=t?e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;n.tip().hasClass("in")?n.leave(n):n.enter(n)},t.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var i=e(this),r=i.data("bs.tooltip"),o="object"==typeof n&&n;(r||"destroy"!=n)&&(r||i.data("bs.tooltip",r=new t(this,o)),"string"==typeof n&&r[n]())})},e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(jQuery),+function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),t.prototype.constructor=t,t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},t.prototype.hasContent=function(){return this.getTitle()||this.getContent()},t.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},t.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip};var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var i=e(this),r=i.data("bs.popover"),o="object"==typeof n&&n;(r||"destroy"!=n)&&(r||i.data("bs.popover",r=new t(this,o)),"string"==typeof n&&r[n]())})},e.fn.popover.Constructor=t,e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(jQuery),+function(e){"use strict";function t(n,i){var r,o=e.proxy(this.process,this);this.$element=e(e(n).is("body")?window:n),this.$body=e("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",o),this.options=e.extend({},t.DEFAULTS,i),this.selector=(this.options.target||(r=e(n).attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=e([]),this.targets=e([]),this.activeTarget=null,this.refresh(),this.process()}t.DEFAULTS={offset:10},t.prototype.refresh=function(){var t=this.$element[0]==window?"offset":"position";this.offsets=e([]),this.targets=e([]);var n=this;this.$body.find(this.selector).map(function(){var i=e(this),r=i.data("target")||i.attr("href"),o=/^#./.test(r)&&e(r);return o&&o.length&&o.is(":visible")&&[[o[t]().top+(!e.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),r]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,i=n-this.$scrollElement.height(),r=this.offsets,o=this.targets,a=this.activeTarget;if(t>=i)return a!=(e=o.last()[0])&&this.activate(e);if(a&&t<=r[0])return a!=(e=o[0])&&this.activate(e);for(e=r.length;e--;)a!=o[e]&&t>=r[e]&&(!r[e+1]||t<=r[e+1])&&this.activate(o[e])},t.prototype.activate=function(t){this.activeTarget=t,e(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=e(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")};var n=e.fn.scrollspy;e.fn.scrollspy=function(n){return this.each(function(){var i=e(this),r=i.data("bs.scrollspy"),o="object"==typeof n&&n;r||i.data("bs.scrollspy",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(jQuery),+function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),i=t.data("target");if(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var r=n.find(".active:last a")[0],o=e.Event("show.bs.tab",{relatedTarget:r});if(t.trigger(o),!o.isDefaultPrevented()){var a=e(i);this.activate(t.parent("li"),n),this.activate(a,a.parent(),function(){t.trigger({type:"shown.bs.tab",relatedTarget:r})})}}},t.prototype.activate=function(t,n,i){function r(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),a?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),i&&i()}var o=n.find("> .active"),a=i&&e.support.transition&&o.hasClass("fade");a?o.one(e.support.transition.end,r).emulateTransitionEnd(150):r(),o.removeClass("in")};var n=e.fn.tab;e.fn.tab=function(n){return this.each(function(){var i=e(this),r=i.data("bs.tab");r||i.data("bs.tab",r=new t(this)),"string"==typeof n&&r[n]()})},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=n,this},e(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(jQuery),+function(e){"use strict";var t=function(n,i){this.options=e.extend({},t.DEFAULTS,i),this.$window=e(window).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(n),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};t.RESET="affix affix-top affix-bottom",t.DEFAULTS={offset:0},t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass("affix");var e=this.$window.scrollTop(),n=this.$element.offset();return this.pinnedOffset=n.top-e},t.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var n=e(document).height(),i=this.$window.scrollTop(),r=this.$element.offset(),o=this.options.offset,a=o.top,s=o.bottom;"top"==this.affixed&&(r.top+=i),"object"!=typeof o&&(s=a=o),"function"==typeof a&&(a=o.top(this.$element)),"function"==typeof s&&(s=o.bottom(this.$element));var l=null!=this.unpin&&i+this.unpin<=r.top?!1:null!=s&&r.top+this.$element.height()>=n-s?"bottom":null!=a&&a>=i?"top":!1;if(this.affixed!==l){this.unpin&&this.$element.css("top","");var c="affix"+(l?"-"+l:""),u=e.Event(c+".bs.affix");this.$element.trigger(u),u.isDefaultPrevented()||(this.affixed=l,this.unpin="bottom"==l?this.getPinnedOffset():null,this.$element.removeClass(t.RESET).addClass(c).trigger(e.Event(c.replace("affix","affixed"))),"bottom"==l&&this.$element.offset({top:n-s-this.$element.height()}))}}};var n=e.fn.affix;e.fn.affix=function(n){return this.each(function(){var i=e(this),r=i.data("bs.affix"),o="object"==typeof n&&n;r||i.data("bs.affix",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.affix.Constructor=t,e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(jQuery),!function(e,t,n){"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=n:(e[t]=n,"function"==typeof define&&define.amd&&define(t,[],function(){return n}))}(this,"jRespond",function(e,t,n){"use strict";return function(e){var t=[],i=[],r=e,o="",a="",s=0,l=100,c=500,u=c,d=function(){var e=0;
return e="number"!=typeof window.innerWidth?0!==document.documentElement.clientWidth?document.documentElement.clientWidth:document.body.clientWidth:window.innerWidth},f=function(e){if(e.length===n)h(e);else for(var t=0;t<e.length;t++)h(e[t])},h=function(e){var r=e.breakpoint,s=e.enter||n;t.push(e),i.push(!1),g(r)&&(s!==n&&s.call(null,{entering:o,exiting:a}),i[t.length-1]=!0)},p=function(){for(var e=[],r=[],s=0;s<t.length;s++){var l=t[s].breakpoint,c=t[s].enter||n,u=t[s].exit||n;"*"===l?(c!==n&&e.push(c),u!==n&&r.push(u)):g(l)?(c===n||i[s]||e.push(c),i[s]=!0):(u!==n&&i[s]&&r.push(u),i[s]=!1)}for(var d={entering:o,exiting:a},f=0;f<r.length;f++)r[f].call(null,d);for(var h=0;h<e.length;h++)e[h].call(null,d)},m=function(e){for(var t=!1,n=0;n<r.length;n++)if(e>=r[n].enter&&e<=r[n].exit){t=!0;break}t&&o!==r[n].label?(a=o,o=r[n].label,p()):t||""===o||(o="",p())},g=function(e){if("object"==typeof e){if(e.join().indexOf(o)>=0)return!0}else{if("*"===e)return!0;if("string"==typeof e&&o===e)return!0}},v=function(){var e=d();e!==s?(u=l,m(e)):u=c,s=e,setTimeout(v,u)};return v(),{addFunc:function(e){f(e)},getBreakpoint:function(){return o}}}}(this,this.document)),function(e){e.sprFlat=function(t,n){var i={colors:{white:"#fff",dark:"#79859b",red:"#f68484",blue:"#75b9e6",green:"#71d398",yellow:"#ffcc66",orange:"#f4b162",purple:"#af91e1",pink:"#f78db8",lime:"#a8db43",mageta:"#eb45a7",teal:"#97d3c5",black:"#000",brown:"#d1b993",gray:"#f3f5f6"},customScroll:{color:"#999",railColor:"#eee",size:"5px",opacity:"0.5",alwaysVisible:!1},header:{fixed:!0},breadcrumbs:{auto:!0},sidebar:{fixed:!0,rememberToggle:!0,offCanvas:!0},sideNav:{hover:!1,showNotificationNumbers:"onhover",showArrows:!0,sideNavArrowIcon:"en-arrow-down5",showIndicator:!1,notificationColor:"red",subOpenSpeed:300,subCloseSpeed:400,animationEasing:"linear",absoluteUrl:!1,subDir:""},tile:{countNumbers:!0},panels:{refreshIcon:"im-spinner6",toggleIcon:"im-minus",collapseIcon:"im-plus",closeIcon:"im-close",showControlsOnHover:!0,overlayRefreshIcon:"im-spinner5",rememberSortablePosition:!0},forms:{checkAndRadioTheme:"blue"},tooltips:!0,tables:{responsive:!0,customscroll:!0},alerts:{animation:!0,closeEffect:"bounceOutDown"},backToTop:{active:!0,scrolltime:800,imgsrc:"assets/img/backtop.png",width:48,place:"bottom-right",fadein:500,fadeout:500,opacity:.5,marginX:1,marginY:2},dropdownMenu:{animation:!0,openEffect:"flipInY"}},r=this;r.settings={};var t=(e(t),t);r.init=function(){if(r.settings=e.extend({},i,n),this.transit(),e.support.transition||(e.fn.transition=e.fn.animate),this.respondjs(),this.storejs(),this.mouseWheel(),this.retinaReady(),this.quickSearch(),this.sideBarNav(),this.setCurrentNav(),this.toggleSidebar(),this.tile(),this.panels(),this.bsAccordion(),this.checkAndRadios(r.settings.forms.checkAndRadioTheme),this.toggleHeaderArea(),this.chatWindow(),r.settings.header.fixed&&this.fixedHeader(!0),r.settings.sidebar.fixed&&this.fixedSidebar(!0),r.settings.sidebar.rememberToggle){var t=r.getBreakPoint();1==store.get("sidebarToggle")&&"large"==t&&r.hideLeftSidebar()}this.toggleRightSidebar(),r.settings.tooltips&&(e(".tip-right").tooltip({container:"body",placement:"right"}),e(".tip-bottom").tooltip({container:"body",placement:"bottom"}),e(".tip-left").tooltip({container:"body",placement:"left"}),e(".tip").tooltip({container:"body",placement:"top"})),r.settings.tables.responsive&&this.responsiveTables(),r.settings.alerts.animation&&e(".alert").bind("close.bs.alert",function(){fullclass="animated "+r.settings.alerts.closeEffect,e(this).addClass(fullclass)}),r.settings.backToTop&&this.backToTop(),e(".modal").on("show.bs.modal",function(){r.centerModal()}),r.settings.breadcrumbs.auto&&this.breadCrumbs(),r.settings.dropdownMenu.animation&&this.dropdownMenuAnimations(),this.toDoWidget(),this.hoverDirection(),this.emailApp(),e("a.full-screen").click(function(){r.launchFullScreen()}),e(window).resize(function(){r.centerModal()})},r.getBreakPoint=function(){var e=jRespond([{label:"phone",enter:0,exit:767},{label:"tablet",enter:768,exit:979},{label:"laptop",enter:980,exit:1366},{label:"large",enter:1367,exit:1e4}]);return e.getBreakpoint()},r.fixedHeader=function(t){1==t?e("#header").addClass("header-fixed"):e("#header").removeClass("header-fixed")},r.fixedSidebar=function(t){1==t?(e("#sidebar").addClass("sidebar-fixed"),e("#sidebar>.sidebar-inner").slimScroll({position:"right",height:"100%",distance:"0",railVisible:!1,size:r.settings.customScroll.size,color:r.settings.customScroll.color,railOpacity:r.settings.customScroll.opacity,railColor:r.settings.customScroll.railColor})):(e("#sidebar").removeClass("sidebar-fixed"),e(".sidebar-inner").parent().replaceWith(e(".sidebar-inner")),e(".sidebar-inner").attr("style",""))},r.toggleHeaderArea=function(){var t=e("#toggle-header-area"),n=t.find("i");e(document).click(function(t){e(t.target).parent("#toggle-header-area").length>0?(e("#header-area").toggleClass("show-header-area animated"),n.transition(e("#header-area").hasClass("show-header-area")?{rotate:"-180deg"}:{rotate:"0deg"}),hw=e("#header-area>").width(),hwbutton=e(".shortcut-button a").outerWidth(),elcount=e("#header-area>.header-area-inner>ul li").length+1,actualWidht=hwbutton*elcount+2*elcount+10*elcount+30,actualWidht>=hw&&e("#header-area>.header-area-inner>.list-unstyled").css("width",actualWidht),e("#header-area>.header-area-inner").slimScrollHorizontal({size:r.settings.customScroll.size,color:r.settings.customScroll.color,railOpacity:r.settings.customScroll.opacity,railColor:r.settings.customScroll.railColor,width:"100%",positon:"bottom",start:"left",railVisible:!0,distance:"0px"})):(e("#header-area").removeClass("show-header-area"),n.transition({rotate:"0deg"}))})},r.toggleSidebar=function(){var t=e("#toggle-sidebar"),n=t.find("i"),i=r.getBreakPoint();t.on("click",function(t){t.preventDefault(),e("#sidebar").toggleClass("hide-sidebar"),e("#content").toggleClass("tablet"==i||"phone"==i?r.settings.sidebar.offCanvas?"full-page offCanvas":"full-page overLap":"full-page"),e("#content").hasClass("full-page")?(e("#content").removeClass("sidebar-page"),("tablet"==i||"phone"==i)&&(e("#content").removeClass("offCanvas"),r.settings.sidebar.offCanvas&&e("#content").removeClass("overLap")),n.transition({rotate:"-180deg"})):(e("#content").addClass("sidebar-page"),n.transition({rotate:"0deg"})),r.settings.sidebar.rememberToggle&&(e("#sidebar").hasClass("hide-sidebar")?store.set("sidebarToggle",1):store.set("sidebarToggle",0))})},r.hideLeftSidebar=function(){var t=e("#toggle-sidebar"),n=t.find("i"),i=r.getBreakPoint();r.settings.sidebar.offCanvas?(e("#sidebar").addClass("hide-sidebar"),e("#content").addClass("full-page"),e("#content").removeClass("sidebar-page")):"tablet"==i||"phone"==i?(e("#sidebar").addClass("hide-sidebar"),e("#content").addClass("full-page"),e("#content").addClass("overLap"),e("#content").removeClass("sidebar-page")):(e("#sidebar").addClass("hide-sidebar"),e("#content").addClass("full-page"),e("#content").removeClass("overLap"),e("#content").removeClass("sidebar-page")),n.transition({rotate:"-180deg"})},r.showLeftSidebar=function(){var t=e("#toggle-sidebar"),n=t.find("i"),i=r.getBreakPoint();r.settings.sidebar.offCanvas?(e("#sidebar").removeClass("hide-sidebar"),e("#content").removeClass("full-page"),e("#content").addClass("sidebar-page")):"tablet"==i||"phone"==i?(e("#sidebar").removeClass("hide-sidebar"),e("#content").removeClass("sidebar-page"),e("#content").addClass("overLap")):(e("#sidebar").removeClass("hide-sidebar"),e("#content").removeClass("overLap"),e("#content").removeClass("sidebar-page"),e("#content").removeClass("full-page")),n.transition({rotate:"0deg"})},r.toggleRightSidebar=function(){var t=e("#toggle-right-sidebar");t.on("click",function(t){t.preventDefault(),e("#right-sidebar").toggleClass("hide-sidebar"),e("#content").hasClass("rightSidebar-page")?e("#content").removeClass("rightSidebar-page"):e("#content").addClass("rightSidebar-page")})},r.sideBarNav=function(){var t=(e("#sidebar>.sidebar-inner"),e("#sideNav")),n=(t.find("li.current"),t.find("li")),i=t.find("a"),o=t.find("li>ul.sub");r.settings.sideNav.showIndicator&&i.append('<span class="indicator">'),o.closest("li").addClass("hasSub"),o.prev("a").hasClass("notExpand")||o.prev("a").addClass("notExpand"),"never"!=r.settings.sideNav.showNotificationNumbers&&o.each("always"==r.settings.sideNav.showNotificationNumbers?function(){subItems=e(this).find("li").length,e(this).prev("a").find("span.notification").length||e(this).prev("a").append('<span class="notification '+r.settings.sideNav.notificationColor+'">'+subItems+"</span>")}:function(){subItems=e(this).find("li").length,e(this).prev("a").find("span.notification").length||e(this).prev("a").append('<span class="notification onhover '+r.settings.sideNav.notificationColor+'">'+subItems+"</span>")}),r.settings.sideNav.showArrows&&(e("#sideNav").hasClass("show-arrows")||e("#sideNav").addClass("show-arrows"),o.prev("a").find("i.sideNav-arrow").length||o.prev("a").prepend('<i class="'+r.settings.sideNav.sideNavArrowIcon+' sideNav-arrow"></i>')),i.hover(function(){r.settings.sideNav.showIndicator&&e(this).find(".indicator").transition({opacity:1},50)},function(){r.settings.sideNav.showIndicator&&e(this).find(".indicator").transition({opacity:0},0)}),n.hover(function(){_this=e(this).children("a"),r.settings.sideNav.hover&&_this.hasClass("notExpand")&&(_this.next("ul").slideDown(r.settings.sideNav.subOpenSpeed,r.settings.sideNav.animationEasing),_this.next("ul").addClass("show"),_this.addClass("expand").removeClass("notExpand"))},function(){_this=e(this).children("a"),r.settings.sideNav.hover&&_this.hasClass("expand")&&(_this.next("ul").removeClass("show"),_this.next("ul").slideUp(r.settings.sideNav.subCloseSpeed,r.settings.sideNav.animationEasing),_this.addClass("notExpand").removeClass("expand"))}),r.settings.sideNav.hover||i.on("click",function(t){var n=e(this);n.hasClass("notExpand")?(t.preventDefault(),n.next("ul").slideDown(r.settings.sideNav.subOpenSpeed,r.settings.sideNav.animationEasing),n.next("ul").addClass("show"),n.addClass("expand").removeClass("notExpand"),r.settings.sideNav.showArrows&&n.find(".sideNav-arrow").transition({rotate:"-180deg"})):n.hasClass("expand")&&(t.preventDefault(),n.next("ul").removeClass("show"),n.next("ul").slideUp(r.settings.sideNav.subCloseSpeed,r.settings.sideNav.animationEasing),n.addClass("notExpand").removeClass("expand"),r.settings.sideNav.showArrows&&n.find(".sideNav-arrow").transition({rotate:"0deg"}))})},r.setCurrentNav=function(){var t=document.domain,n=e("#sideNav"),i=n.find("a");if(""===t){var o=window.location.pathname.split("/"),a=o.pop();this.setCurrentClass(i,a)}else if(r.settings.sideNav.absoluteUrl){var s="http://"+t+window.location.pathname;this.setCurrentClass(i,s)}else{var l=window.location.pathname.split("/"),l=l.pop();if(""!=r.settings.sideNav.subDir)var l=window.location.pathname+r.settings.sideNav.subDir;this.setCurrentClass(i,l)}},r.setCurrentClass=function(t,n){t.each(function(){var t=e(this).attr("href");if(t===n){if(e(this).addClass("active"),ulElem=e(this).closest("ul"),ulElem.hasClass("sub")){ulElem.addClass("show").css("display","block");var i=e(this).closest("li.hasSub").children("a.notExpand");i.removeClass("notExpand").addClass("expand active-state"),r.settings.sideNav.showArrows&&i.find(".sideNav-arrow").transition({rotate:"-180deg"},0)}}else""==n&&(n="index.html"),t===n&&e(this).addClass("active")})},r.tile=function(){var t=e(".tile");if(r.settings.tile.countNumbers){var n=t.find(".tile-content>.number").not(".notCount");n.addClass("countTo"),n.each(function(){e(this).attr("data-from",0),e(this).attr("data-to",e(this).html())}),e(".countTo").countTo({speed:1e3,refreshInterval:50})}t.hover(function(){tileNumber=e(this).find(".countTo"),tileNumber.countTo({speed:200,refreshInterval:50})},function(){})},r.panels=function(){var t=e(".panel");if(t.each(function(t){self=e(this),panelHeading=self.find(".panel-heading"),panelsid="spr_"+t,self.attr("id",panelsid),(self.hasClass("toggle")||self.hasClass("panelClose")||self.hasClass("panelRefresh"))&&(panelHeading.find(".panel-controls").length?panelControls=panelHeading.find(".panel-controls"):(panelHeading.append('<div class="panel-controls">'),panelControls=panelHeading.find(".panel-controls"))),self.hasClass("panelRefresh")&&!panelControls.find("a.panel-refresh").length&&panelControls.append('<a href="#" class="panel-refresh"><i class="'+r.settings.panels.refreshIcon+'"></i></a>'),self.hasClass("toggle")&&!panelControls.find("a.toggle").length&&(self.hasClass("panel-closed")?(panelControls.append('<a href="#" class="toggle panel-maximize"><i class="'+r.settings.panels.collapseIcon+'"></i></a>'),self.find(".panel-body").slideToggle(0),self.find(".panel-footer").slideToggle(0),self.find(".panel-heading").toggleClass("min")):panelControls.append('<a href="#" class="toggle panel-minimize"><i class="'+r.settings.panels.toggleIcon+'"></i></a>')),self.hasClass("panelClose")&&!panelControls.find("a.panel-close").length&&panelControls.append('<a href="#" class="panel-close"><i class="'+r.settings.panels.closeIcon+'"></i></a>'),self.hasClass("showControls")?self.find(".panel-controls").addClass("panel-controls-show"):r.settings.panels.showControlsOnHover&&self.find(".panel-controls").addClass("panel-controls-hide")}),panelControls=t.find(".panel-controls"),panelControlsLink=panelControls.find("a"),r.settings.panels.showControlsOnHover&&t.hover(function(){e(this).find(".panel-controls").hasClass("panel-controls-hide")&&e(this).find(".panel-controls").fadeIn(300)},function(){e(this).find(".panel-controls").hasClass("panel-controls-hide")&&e(this).find(".panel-controls").fadeOut(300)}),panelControlsLink.click(function(t){t.preventDefault(),self=e(this),thisIcon=self.find("i"),thisPanel=self.closest(".panel"),thisPanelBody=thisPanel.find(".panel-body"),thisPanelFooter=thisPanel.find(".panel-footer"),thisPanelHeading=thisPanel.find(".panel-heading"),self.hasClass("panel-close")&&setTimeout(function(){thisPanel.remove()},500),self.hasClass("toggle")&&(self.toggleClass("panel-minimize panel-maximize"),thisIcon.toggleClass(r.settings.panels.toggleIcon+" "+r.settings.panels.collapseIcon),thisPanelBody.slideToggle(200),thisPanelFooter.slideToggle(200),thisPanelHeading.toggleClass("min")),self.hasClass("panel-refresh")&&(thisPanel.append('<div class="panel-refresh-overlay"></div>'),thisPanel.append('<div class="progress-loader"><i class="'+r.settings.panels.overlayRefreshIcon+' icon-spin"></i></div>'),thisIcon.addClass("icon-spin"),setTimeout(function(){thisIcon.removeClass("icon-spin"),thisPanel.find(".panel-refresh-overlay").remove(),thisPanel.find(".progress-loader").remove()},3e3))}),!e(".outlet").hasClass("notSortable")){var n=e(".outlet").find(".sortable-layout"),i=n.find(".panelMove"),o=i.find(".panel-heading"),a=window.location.href,s="panels_position_"+a,l=localStorage.getItem(s);if(r.settings.panels.rememberSortablePosition&&l){var c=JSON.parse(l);for(var u in c.grid){var d=n.eq(u);for(var f in c.grid[u].section)d.append(e("#"+c.grid[u].section[f].id))}}n.sortable({items:i,connectWith:n,handle:o,placeholder:"panel-placeholder",forcePlaceholderSize:!0,helper:"original",forceHelperSize:!0,cursor:"move",revert:!0,delay:200,opacity:.8,zIndex:1e4,tolerance:"pointer",update:function(e,t){r.settings.panels.rememberSortablePosition&&panelSavePosition(t.item)}}),e("#clear-localstorage").click(function(){bootbox.confirm({message:"Warning!!! This action will reset panels position",title:"Are you sure ?",callback:function(e){e&&(localStorage.removeItem(s),location.reload())}})}),panelSavePosition=function(){var t=[];n.each(function(){var n=[];e(this).children(".panelMove").each(function(){var t={};t.id=e(this).attr("id"),n.push(t)});var i={section:n};t.push(i)});var i=JSON.stringify({grid:t});l!=i&&localStorage.setItem(s,i,null)}}},r.bsAccordion=function(){!function(e){function t(t,r){this.element=t,this.settings=e.extend({},i,r),this._defaults=i,this._name=n,this.init()}var n="bsAccordion",i={toggle:!1};t.prototype={init:function(){var t=e(this.element),n=this.settings.toggle;t.find("li.active").has("ul").children("ul").addClass("collapse in"),t.find("li").not(".active").has("ul").children("ul").addClass("collapse"),t.find("li").has("ul").children("a").on("click",function(t){t.preventDefault(),e(this).parent("li").toggleClass("active").children("ul").collapse("toggle"),n&&e(this).parent("li").siblings().removeClass("active").children("ul.in").collapse("hide")})}},e.fn[n]=function(i){return this.each(function(){e.data(this,"plugin_"+n)||e.data(this,"plugin_"+n,new t(this,i))})}}(jQuery,window,document),e(".bsAccordion").bsAccordion()},r.checkAndRadios=function(t){chkClass="icheckbox_flat-"+t,radClass="iradio_flat-"+t,e("input").not(".noStyle").iCheck({checkboxClass:chkClass,radioClass:radClass})},r.chatWindow=function(){function t(t){e(".chat-box .chat-messages").append('<li class="chat-me"><p class="avatar"><img src="https://s3.amazonaws.com/uifaces/faces/twitter/roybarberuk/48.jpg" alt="SuggeElson"></p><p class="chat-name">SuggeElson <span class="chat-time">Now</span></p><p class="chat-txt">'+t+"</p></li>")}var n=e(".chat-ui"),i=e(".chat-user-list"),o=n.find("a.chat-name"),a=e(".chat-box"),s=a.find("a#close-user-chat"),l=a.find("#sendMsg"),c=e("#right-sidebar>.sidebar-inner");c.slimScroll({position:"right",height:"100%",distance:"0",railVisible:!1,size:r.settings.customScroll.size,color:r.settings.customScroll.color,railOpacity:r.settings.customScroll.opacity,railColor:r.settings.customScroll.railColor}),o.on("click",function(e){e.preventDefault(),a.addClass("chatbox-show"),i.addClass("hide-it"),c.animate({scrollTop:c[0].scrollHeight},1e3),l.autosize()}),s.on("click",function(e){e.preventDefault(),i.removeClass("hide-it"),a.removeClass("chatbox-show")}),l.on("keyup",function(n){13!=n.which||n.shiftKey||(msg=e(this).val(),t(msg),e(this).val("").trigger("autosize.resize"),c.animate({scrollTop:c[0].scrollHeight},1e3))})},r.responsiveTables=function(){var t=e(".table").not(".non-responsive");t.each(function(){e(this).wrap('<div class="table-responsive" />'),r.settings.tables.customscroll&&e("div.table-responsive").slimScrollHorizontal({size:r.settings.customScroll.size,color:r.settings.customScroll.color,railOpacity:r.settings.customScroll.opacity,width:"100%",positon:"bottom",start:"left",railVisible:!0,distance:"3px"})})},r.getColors=function(){return r.settings.colors},r.backToTop=function(){!function(e){e.fn.goup=function(t){e.fn.goup.defaultOpts={appear:200,scrolltime:800,imgsrc:"http://goo.gl/VDOdQc",width:72,place:"bottom-right",fadein:500,fadeout:500,opacity:.5,marginX:2,marginY:2};var n=e.extend({},e.fn.goup.defaultOpts,t);return this.each(function(){var t=e(this);t.html("<a><img /></a>");var i=e("#goup a"),r=e("#goup a img");t.css({position:"fixed",display:"block",width:"'"+n.width+"px'","z-index":"9"}),i.css("opacity",n.opacity),r.attr("src",n.imgsrc),r.width(n.width),r.hide(),e(function(){e(window).scroll(function(){e(this).scrollTop()>n.appear?r.fadeIn(n.fadein):r.fadeOut(n.fadeout)}),e(i).hover(function(){e(this).css("opacity","1.0"),e(this).css("cursor","pointer")},function(){e(this).css("opacity",n.opacity)}),e(i).click(function(){return e("body,html").animate({scrollTop:0},n.scrolltime),!1})}),t.css("top-right"===n.place?{top:n.marginY+"%",right:n.marginX+"%"}:"top-left"===n.place?{top:n.marginY+"%",left:n.marginX+"%"}:"bottom-right"===n.place?{bottom:n.marginY+"%",right:n.marginX+"%"}:"bottom-left"===n.place?{bottom:n.marginY+"%",left:n.marginX+"%"}:{bottom:n.marginY+"%",right:n.marginX+"%"})})}}(jQuery),e("body").append('<div id="goup"></div>'),e("#goup").goup({appear:200,scrolltime:r.settings.backToTop.scrolltime,imgsrc:r.settings.backToTop.imgsrc,width:r.settings.backToTop.width,place:r.settings.backToTop.place,fadein:r.settings.backToTop.fadein,fadeout:r.settings.backToTop.fadeout,opacity:r.settings.backToTop.opacity,marginX:r.settings.backToTop.marginX,marginY:r.settings.backToTop.marginY})},r.centerModal=function(){e(".modal").each(function(){0==e(this).hasClass("in")&&e(this).show();var t=e(window).height()-60,n=e(this).find(".modal-header").outerHeight()||2,i=e(this).find(".modal-footer").outerHeight()||2;e(this).find(".modal-content").css({"max-height":function(){return t}}),e(this).find(".modal-body").css({"max-height":function(){return t-(n+i)}}),e(this).find(".modal-dialog").addClass("modal-dialog-center").css({"margin-top":function(){return-(e(this).outerHeight()/2)},"margin-left":function(){return-(e(this).outerWidth()/2)}}),0==e(this).hasClass("in")&&e(this).hide()})},r.breadCrumbs=function(){var t=e("#crumb"),n='<i class="en-arrow-right7"></i>',i='<i class="im-home"></i>',r=e("#sideNav>li a.active"),o=r.closest(".nav.sub");t.empty(),t.append("<li>"+i+'<a href="index.html">Home</a>'+n+"</li>"),o.closest("li").hasClass("hasSub")?(navel1=o.prev("a.expand"),link=navel1.attr("href"),icon1=navel1.children("i").not(".sideNav-arrow").prop("outerHTML"),text1=navel1.children(".notification").remove().end().text().trim(),t.append("<li>"+icon1+'<a href="'+link+'">'+text1+"</a>"+n+"</li>"),icon=r.children("i").prop("outerHTML"),text=r.children(".indicator").remove().end().text(),t.append("<li>"+icon+" "+text+"</li>")):(icon=r.children("i").prop("outerHTML"),text=r.children(".indicator").remove().end().text(),t.append("<li>"+icon+" "+text+"</li>"))},r.launchFullScreen=function(){document.fullScreenElement&&null!==document.fullScreenElement||!document.mozFullScreen&&!document.webkitIsFullScreen?(e("body").addClass("full-screen"),document.documentElement.requestFullScreen?document.documentElement.requestFullScreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullScreen&&document.documentElement.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)):(e("body").removeClass("full-screen"),document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen())},r.toDoWidget=function(){var t=e(".todo-widget"),n=t.find(".todo-task-item"),i=n.find('input[type="checkbox"]'),r=n.find(".close");e(i).on("ifChecked",function(){e(this).closest(".todo-task-item").addClass("task-done")}),e(i).on("ifUnchecked",function(){e(this).closest(".todo-task-item").removeClass("task-done")}),r.click(function(){e(this).closest(".todo-task-item").fadeOut("500")})},r.storejs=function(){!function(e){function t(){try{return s in e&&e[s]}catch(t){return!1}}function n(e){return function(){var t=Array.prototype.slice.call(arguments,0);t.unshift(r),c.appendChild(r),r.addBehavior("#default#userData"),r.load(s);var n=e.apply(o,t);return c.removeChild(r),n}}function i(e){return e.replace(/^d/,"___$&").replace(f,"___")}var r,o={},a=e.document,s="localStorage",l="script";if(o.disabled=!1,o.set=function(){},o.get=function(){},o.remove=function(){},o.clear=function(){},o.transact=function(e,t,n){var i=o.get(e);null==n&&(n=t,t=null),"undefined"==typeof i&&(i=t||{}),n(i),o.set(e,i)},o.getAll=function(){},o.forEach=function(){},o.serialize=function(e){return JSON.stringify(e)},o.deserialize=function(e){if("string"!=typeof e)return void 0;try{return JSON.parse(e)}catch(t){return e||void 0}},t())r=e[s],o.set=function(e,t){return void 0===t?o.remove(e):(r.setItem(e,o.serialize(t)),t)},o.get=function(e){return o.deserialize(r.getItem(e))},o.remove=function(e){r.removeItem(e)},o.clear=function(){r.clear()},o.getAll=function(){var e={};return o.forEach(function(t,n){e[t]=n}),e},o.forEach=function(e){for(var t=0;t<r.length;t++){var n=r.key(t);e(n,o.get(n))}};else if(a.documentElement.addBehavior){var c,u;try{u=new ActiveXObject("htmlfile"),u.open(),u.write("<"+l+">document.w=window</"+l+'><iframe src="/favicon.ico"></iframe>'),u.close(),c=u.w.frames[0].document,r=c.createElement("div")}catch(d){r=a.createElement("div"),c=a.body}var f=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");o.set=n(function(e,t,n){return t=i(t),void 0===n?o.remove(t):(e.setAttribute(t,o.serialize(n)),e.save(s),n)}),o.get=n(function(e,t){return t=i(t),o.deserialize(e.getAttribute(t))}),o.remove=n(function(e,t){t=i(t),e.removeAttribute(t),e.save(s)}),o.clear=n(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(s);for(var n,i=0;n=t[i];i++)e.removeAttribute(n.name);e.save(s)}),o.getAll=function(){var e={};return o.forEach(function(t,n){e[t]=n}),e},o.forEach=n(function(e,t){for(var n,i=e.XMLDocument.documentElement.attributes,r=0;n=i[r];++r)t(n.name,o.deserialize(e.getAttribute(n.name)))})}try{var h="__storejs__";o.set(h,h),o.get(h)!=h&&(o.disabled=!0),o.remove(h)}catch(d){o.disabled=!0}o.enabled=!o.disabled,"undefined"!=typeof module&&module.exports&&this.module!==module?module.exports=o:"function"==typeof define&&define.amd?define(o):e.store=o}(Function("return this")())},r.transit=function(){!function(e){function t(e){if(e in d.style)return e;var t=["Moz","Webkit","O","ms"],n=e.charAt(0).toUpperCase()+e.substr(1);if(e in d.style)return e;for(var i=0;i<t.length;++i){var r=t[i]+n;if(r in d.style)return r}}function n(){return d.style[f.transform]="",d.style[f.transform]="rotateY(90deg)",""!==d.style[f.transform]}function i(e){return"string"==typeof e&&this.parse(e),this}function r(e,t,n){t===!0?e.queue(n):t?e.queue(t,n):n()}function o(t){var n=[];return e.each(t,function(t){t=e.camelCase(t),t=e.transit.propertyMap[t]||e.cssProps[t]||t,t=l(t),-1===e.inArray(t,n)&&n.push(t)}),n}function a(t,n,i,r){var a=o(t);e.cssEase[i]&&(i=e.cssEase[i]);var s=""+u(n)+" "+i;parseInt(r,10)>0&&(s+=" "+u(r));var l=[];return e.each(a,function(e,t){l.push(t+" "+s)}),l.join(", ")}function s(t,n){n||(e.cssNumber[t]=!0),e.transit.propertyMap[t]=f.transform,e.cssHooks[t]={get:function(n){var i=e(n).css("transit:transform");return i.get(t)},set:function(n,i){var r=e(n).css("transit:transform");r.setFromString(t,i),e(n).css({"transit:transform":r})}}}function l(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function c(e,t){return"string"!=typeof e||e.match(/^[\-0-9\.]+$/)?""+e+t:e}function u(t){var n=t;return e.fx.speeds[n]&&(n=e.fx.speeds[n]),c(n,"ms")}e.transit={version:"0.9.9",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var d=document.createElement("div"),f={},h=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;f.transition=t("transition"),f.transitionDelay=t("transitionDelay"),f.transform=t("transform"),f.transformOrigin=t("transformOrigin"),f.transform3d=n();var p={transition:"transitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"},m=f.transitionEnd=p[f.transition]||null;for(var g in f)f.hasOwnProperty(g)&&"undefined"==typeof e.support[g]&&(e.support[g]=f[g]);d=null,e.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"},e.cssHooks["transit:transform"]={get:function(t){return e(t).data("transform")||new i},set:function(t,n){var r=n;r instanceof i||(r=new i(r)),t.style[f.transform]="WebkitTransform"!==f.transform||h?r.toString():r.toString(!0),e(t).data("transform",r)}},e.cssHooks.transform={set:e.cssHooks["transit:transform"].set},e.fn.jquery<"1.8"&&(e.cssHooks.transformOrigin={get:function(e){return e.style[f.transformOrigin]},set:function(e,t){e.style[f.transformOrigin]=t}},e.cssHooks.transition={get:function(e){return e.style[f.transition]},set:function(e,t){e.style[f.transition]=t}}),s("scale"),s("translate"),s("rotate"),s("rotateX"),s("rotateY"),s("rotate3d"),s("perspective"),s("skewX"),s("skewY"),s("x",!0),s("y",!0),i.prototype={setFromString:function(e,t){var n="string"==typeof t?t.split(","):t.constructor===Array?t:[t];n.unshift(e),i.prototype.set.apply(this,n)},set:function(e){var t=Array.prototype.slice.apply(arguments,[1]);this.setter[e]?this.setter[e].apply(this,t):this[e]=t.join(",")},get:function(e){return this.getter[e]?this.getter[e].apply(this):this[e]||0},setter:{rotate:function(e){this.rotate=c(e,"deg")},rotateX:function(e){this.rotateX=c(e,"deg")},rotateY:function(e){this.rotateY=c(e,"deg")},scale:function(e,t){void 0===t&&(t=e),this.scale=e+","+t},skewX:function(e){this.skewX=c(e,"deg")},skewY:function(e){this.skewY=c(e,"deg")},perspective:function(e){this.perspective=c(e,"px")},x:function(e){this.set("translate",e,null)},y:function(e){this.set("translate",null,e)},translate:function(e,t){void 0===this._translateX&&(this._translateX=0),void 0===this._translateY&&(this._translateY=0),null!==e&&void 0!==e&&(this._translateX=c(e,"px")),null!==t&&void 0!==t&&(this._translateY=c(t,"px")),this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var e=(this.scale||"1,1").split(",");return e[0]&&(e[0]=parseFloat(e[0])),e[1]&&(e[1]=parseFloat(e[1])),e[0]===e[1]?e[0]:e},rotate3d:function(){for(var e=(this.rotate3d||"0,0,0,0deg").split(","),t=0;3>=t;++t)e[t]&&(e[t]=parseFloat(e[t]));return e[3]&&(e[3]=c(e[3],"deg")),e}},parse:function(e){var t=this;e.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(e,n,i){t.setFromString(n,i)})},toString:function(e){var t=[];for(var n in this)if(this.hasOwnProperty(n)){if(!f.transform3d&&("rotateX"===n||"rotateY"===n||"perspective"===n||"transformOrigin"===n))continue;"_"!==n[0]&&t.push(e&&"scale"===n?n+"3d("+this[n]+",1)":e&&"translate"===n?n+"3d("+this[n]+",0)":n+"("+this[n]+")")}return t.join(" ")}},e.fn.transition=e.fn.transit=function(t,n,i,o){var s=this,l=0,c=!0;"function"==typeof n&&(o=n,n=void 0),"function"==typeof i&&(o=i,i=void 0),"undefined"!=typeof t.easing&&(i=t.easing,delete t.easing),"undefined"!=typeof t.duration&&(n=t.duration,delete t.duration),"undefined"!=typeof t.complete&&(o=t.complete,delete t.complete),"undefined"!=typeof t.queue&&(c=t.queue,delete t.queue),"undefined"!=typeof t.delay&&(l=t.delay,delete t.delay),"undefined"==typeof n&&(n=e.fx.speeds._default),"undefined"==typeof i&&(i=e.cssEase._default),n=u(n);var d=a(t,n,i,l),h=e.transit.enabled&&f.transition,p=h?parseInt(n,10)+parseInt(l,10):0;if(0===p){var g=function(e){s.css(t),o&&o.apply(s),e&&e()};return r(s,c,g),s}var v={},b=function(n){var i=!1,r=function(){i&&s.unbind(m,r),p>0&&s.each(function(){this.style[f.transition]=v[this]||null}),"function"==typeof o&&o.apply(s),"function"==typeof n&&n()};p>0&&m&&e.transit.useTransitionEnd?(i=!0,s.bind(m,r)):window.setTimeout(r,p),s.each(function(){p>0&&(this.style[f.transition]=d),e(this).css(t)})},y=function(e){this.offsetWidth,b(e)};return r(s,c,y),this},e.transit.getTransitionValue=a}(jQuery)},r.mouseWheel=function(){!function(e){function t(t){var n=t||window.event,i=[].slice.call(arguments,1),r=0,o=0,a=0;return t=e.event.fix(n),t.type="mousewheel",n.wheelDelta&&(r=n.wheelDelta/120),n.detail&&(r=-n.detail/3),a=r,void 0!==n.axis&&n.axis===n.HORIZONTAL_AXIS&&(a=0,o=-1*r),void 0!==n.wheelDeltaY&&(a=n.wheelDeltaY/120),void 0!==n.wheelDeltaX&&(o=-1*n.wheelDeltaX/120),i.unshift(t,r,o,a),(e.event.dispatch||e.event.handle).apply(this,i)}var n=["DOMMouseScroll","mousewheel"];if(e.event.fixHooks)for(var i=n.length;i;)e.event.fixHooks[n[--i]]=e.event.mouseHooks;e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=n.length;e;)this.addEventListener(n[--e],t,!1);else this.onmousewheel=t},teardown:function(){if(this.removeEventListener)for(var e=n.length;e;)this.removeEventListener(n[--e],t,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")
},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(jQuery)},r.hoverDirection=function(){!function(e){function t(e){switch(e){case 0:return"top";case 1:return"right";case 2:return"bottom";case 3:return"left"}}function n(n){var i=e(this),r=i.height(),o=i.width(),a=(n.pageX-i.offset().left-o/2)*(o>r?r/o:1),s=(n.pageY-i.offset().top-r/2)*(r>o?o/r:1),l=Math.round((Math.atan2(s,a)*(180/Math.PI)+180)/90+3)%4,u=c.cssPrefix,d="mouseleave"===n.type?"leave":"enter",f=t(l);return u+"-"+d+"-"+f}function i(t){var i=n.apply(this,[t]);e(this).addClass(i)}function r(){e(this).removeClass(function(e,t){return(t.match(a)||[]).join(" ")})}function o(e){r.apply(this),i.apply(this,[e])}var a,s="hoverDirection",l={cssPrefix:"hover"},c={},u={init:function(t){return c=e.extend(l,t),a=new RegExp("\\"+c.cssPrefix+"\\S+","g"),this.each(function(){e(this).on("mouseenter mouseleave",o)})},removeClass:function(){return r.apply(this),this},destroy:function(){return r.apply(this),this.each(function(){e(this).off("mouseenter mouseleave",o)})}};e.fn[s]=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery."+s):u.init.apply(this)}}(jQuery,window,document)},r.respondjs=function(){var t=jRespond([{label:"phone",enter:0,exit:767},{label:"tablet",enter:768,exit:979},{label:"laptop",enter:980,exit:1366},{label:"large",enter:1367,exit:1e4}]);return t.addFunc({breakpoint:"laptop",enter:function(){r.showLeftSidebar()},exit:function(){}}),t.addFunc({breakpoint:"tablet",enter:function(){r.hideLeftSidebar(),r.collapseEmailAppSidebar()},exit:function(){r.showLeftSidebar(),r.expandEmailAppSidebar()}}),t.addFunc({breakpoint:"phone",enter:function(){r.hideLeftSidebar(),r.dropdownMenuFix(),r.collapseEmailAppSidebar(),e("#email-content").addClass("email-content-offCanvas")},exit:function(){r.showLeftSidebar(),e("#email-content").removeClass("email-content-offCanvas")}}),t},r.dropdownMenuFix=function(){e("#header ul.dropdown-menu").each(function(){e(this).removeClass("right");var t=e(this).parent().innerWidth(),n=e(this).innerWidth(),i=t/2-n/2;i+="px",e(this).css("margin-left",i)})},r.quickSearch=function(){e(".top-search input").length&&e(".top-search input").val("").quicksearch("#sideNav li a",{onBefore:function(){""!=e(this).val()&&r.expandSideBarNav()},onAfter:function(){""==e(this).val()&&r.collapseSideBarNav()}}),e(".chat-search input").length&&e(".chat-search input").val("").quicksearch(".chat-ui li"),e(".todo-search input").length&&e(".todo-search input").val("").quicksearch(".todo-list .todo-task-item"),e(".users-search input").length&&e(".users-search input").val("").quicksearch(".recent-users-widget .list-group-item"),e(".email-toolbar-search input").length&&e(".email-toolbar-search input").val("").quicksearch(".email-list tr")},r.expandSideBarNav=function(){nav=e("#sideNav"),nava=nav.find("a.notExpand"),nava.next("ul").slideDown(r.settings.sideNav.subOpenSpeed,r.settings.sideNav.animationEasing),nava.next("ul").addClass("show"),nava.addClass("expand").removeClass("notExpand"),r.settings.sideNav.showArrows&&nava.find(".sideNav-arrow").transition({rotate:"-180deg"})},r.collapseSideBarNav=function(){nav=e("#sideNav"),nava=nav.find("a.expand").not("a.active-state"),nava.next("ul").slideUp(r.settings.sideNav.subOpenSpeed,r.settings.sideNav.animationEasing),nava.next("ul").removeClass("show"),nava.addClass("notExpand").removeClass("expand"),r.settings.sideNav.showArrows&&nava.find(".sideNav-arrow").transition({rotate:"0deg"})},r.emailApp=function(){var t=e("#email-sidebar"),n=e("#email-content");e("#email-toggle").click(function(){e(this).hasClass("pushed")?(e(this).removeClass("pushed"),t.removeClass("email-sidebar-hide"),t.addClass("email-sidebar-show"),n.removeClass("email-content-expand"),n.addClass("email-content-contract")):(e(this).addClass("pushed"),t.removeClass("email-sidebar-show"),t.addClass("email-sidebar-hide"),n.removeClass("email-content-contract"),n.addClass("email-content-expand"))})},r.collapseEmailAppSidebar=function(){var t=e("#email-sidebar"),n=e("#email-content");t.removeClass("email-sidebar-show"),t.addClass("email-sidebar-hide"),n.removeClass("email-content-contract"),n.addClass("email-content-expand"),e("#email-toggle").addClass("pushed")},r.expandEmailAppSidebar=function(){var t=e("#email-sidebar"),n=e("#email-content");t.removeClass("email-sidebar-hide"),t.addClass("email-sidebar-show"),n.removeClass("email-content-expand"),n.addClass("email-content-contract"),e("#email-toggle").removeClass("pushed")},r.dropdownMenuAnimations=function(){openEffect="animated "+r.settings.dropdownMenu.openEffect,e(".dropdown").on("show.bs.dropdown",function(){e(this).find(".dropdown-menu").addClass(openEffect)})},r.retinaReady=function(){!function(){function e(){}function t(e){return o.retinaImageSuffix+e}function n(e,n){if(this.path=e||"","undefined"!=typeof n&&null!==n)this.at_2x_path=n,this.perform_check=!1;else{if(void 0!==document.createElement){var i=document.createElement("a");i.href=this.path,i.pathname=i.pathname.replace(a,t),this.at_2x_path=i.href}else{var r=this.path.split("?");r[0]=r[0].replace(a,t),this.at_2x_path=r.join("?")}this.perform_check=!0}}function i(e){this.el=e,this.path=new n(this.el.getAttribute("src"),this.el.getAttribute("data-at2x"));var t=this;this.path.check_2x_variant(function(e){e&&t.swap()})}var r="undefined"==typeof exports?window:exports,o={retinaImageSuffix:"@2x",check_mime_type:!0,force_original_dimensions:!0};r.Retina=e,e.configure=function(e){null===e&&(e={});for(var t in e)e.hasOwnProperty(t)&&(o[t]=e[t])},e.init=function(e){null===e&&(e=r);var t=e.onload||function(){};e.onload=function(){var e,n,r=document.getElementsByTagName("img"),o=[];for(e=0;e<r.length;e+=1)n=r[e],n.getAttributeNode("data-no-retina")||o.push(new i(n));t()}},e.isRetina=function(){var e="(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)";return r.devicePixelRatio>1?!0:r.matchMedia&&r.matchMedia(e).matches?!0:!1};var a=/\.\w+$/;r.RetinaImagePath=n,n.confirmed_paths=[],n.prototype.is_external=function(){return!(!this.path.match(/^https?\:/i)||this.path.match("//"+document.domain))},n.prototype.check_2x_variant=function(e){var t,i=this;return this.is_external()?e(!1):this.perform_check||"undefined"==typeof this.at_2x_path||null===this.at_2x_path?this.at_2x_path in n.confirmed_paths?e(!0):(t=new XMLHttpRequest,t.open("HEAD",this.at_2x_path),t.onreadystatechange=function(){if(4!==t.readyState)return e(!1);if(t.status>=200&&t.status<=399){if(o.check_mime_type){var r=t.getResponseHeader("Content-Type");if(null===r||!r.match(/^image/i))return e(!1)}return n.confirmed_paths.push(i.at_2x_path),e(!0)}return e(!1)},void t.send()):e(!0)},r.RetinaImage=i,i.prototype.swap=function(e){function t(){n.el.complete?(o.force_original_dimensions&&(n.el.setAttribute("width",n.el.offsetWidth),n.el.setAttribute("height",n.el.offsetHeight)),n.el.setAttribute("src",e)):setTimeout(t,5)}"undefined"==typeof e&&(e=this.path.at_2x_path);var n=this;t()},e.isRetina()&&e.init(r)}()};r.init()},e.fn.sprFlat=function(t){return this.each(function(){if(void 0==e(this).data("sprFlat")){var n=new e.sprFlat(this,t);e(this).data("sprFlat",n)}})}}(jQuery),function(){var e,t,n,i;window.console||(e={log:function(){}}),navigator.userAgent.match(/IEMobile\/10\.0/)&&(n=document.createElement("style"),n.appendChild(document.createTextNode("@-ms-viewport{width:auto!important}")),document.querySelector("head").appendChild(n)),i=navigator.userAgent,t=i.indexOf("Mozilla/5.0")>-1&&i.indexOf("Android ")>-1&&i.indexOf("AppleWebKit")>-1&&-1===i.indexOf("Chrome"),t&&$("select.form-control").removeClass("form-control").css("width","100%"),$(document).ready(function(){var e,t;$("a[href^=#]").click(function(e){e.preventDefault()}),hljs.initHighlightingOnLoad(),$("body").sprFlat({colors:{white:"#fff",dark:"#79859b",red:"#f68484",blue:"#75b9e6",green:"#71d398",yellow:"#ffcc66",orange:"#f4b162",purple:"#af91e1",pink:"#f78db8",lime:"#a8db43",mageta:"#eb45a7",teal:"#97d3c5",black:"#000",brown:"#d1b993",gray:"#f3f5f6"},customScroll:{color:"#999",railColor:"#eee",size:"5px",opacity:"0.5",alwaysVisible:!1},header:{fixed:!0},breadcrumbs:{auto:!0},sidebar:{fixed:!0,rememberToggle:!0,offCanvas:!1},sideNav:{hover:!1,showNotificationNumbers:"onhover",showArrows:!0,sideNavArrowIcon:"en-arrow-down5",showIndicator:!1,notificationColor:"red",subOpenSpeed:300,subCloseSpeed:400,animationEasing:"linear",absoluteUrl:!1,subDir:""},tile:{countNumbers:!0},panels:{refreshIcon:"im-spinner6",toggleIcon:"im-minus",collapseIcon:"im-plus",closeIcon:"im-close",showControlsOnHover:!0,overlayRefreshIcon:"im-spinner5",rememberSortablePosition:!0},forms:{checkAndRadioTheme:"blue"},tooltips:!0,tables:{responsive:!0,customscroll:!0},alerts:{animation:!0,closeEffect:"bounceOutDown"},backToTop:{active:!0,scrolltime:800,imgsrc:"assets/img/backtop.png",width:48,place:"bottom-right",fadein:500,fadeout:500,opacity:.5,marginX:1,marginY:2},dropdownMenu:{animation:!0,openEffect:"fadeInDown"}}),t=$("body").data("sprFlat"),e=t.settings,$("[data-toggle=tooltip]").tooltip({container:"body"}),$(".tip").tooltip({placement:"top",container:"body"}),$(".tipR").tooltip({placement:"right",container:"body"}),$(".tipB").tooltip({placement:"bottom",container:"body"}),$(".tipL").tooltip({placement:"left",container:"body"}),$("[data-toggle=popover]").popover(),tinymce.init({selector:".wysiwyg",menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table contextmenu paste"],toolbar:"bold italic strikethrough bullist numlist blockquote hr alignleft aligncenter alignright alignjustify link unlink code image media fullscreen"}),$(".tags1").tagsInput({width:"auto"})})}.call(this),function(){}.call(this);