var TableTools;!function(t,e,n){TableTools=function(e,n){return!this instanceof TableTools&&alert("Warning: TableTools must be initialised with the keyword 'new'"),this.s={that:this,dt:e.fnSettings(),print:{saveStart:-1,saveLength:-1,saveScroll:-1,funcEnd:function(){}},buttonCounter:0,select:{type:"",selected:[],preRowSelect:null,postSelected:null,postDeselected:null,all:!1,selectedClass:""},custom:{},swfPath:"",buttonSet:[],master:!1,tags:{}},this.dom={container:null,table:null,print:{hidden:[],message:null},collection:{collection:null,background:null}},this.classes=t.extend(!0,{},TableTools.classes),this.s.dt.bJUI&&t.extend(!0,this.classes,TableTools.classes_themeroller),this.fnSettings=function(){return this.s},"undefined"==typeof n&&(n={}),this._fnConstruct(n),this},TableTools.prototype={fnGetSelected:function(t){var e,n,s=[],l=this.s.dt.aoData,o=this.s.dt.aiDisplay;if(t)for(e=0,n=o.length;n>e;e++)l[o[e]]._DTTT_selected&&s.push(l[o[e]].nTr);else for(e=0,n=l.length;n>e;e++)l[e]._DTTT_selected&&s.push(l[e].nTr);return s},fnGetSelectedData:function(){var t,e,n=[],s=this.s.dt.aoData;for(t=0,e=s.length;e>t;t++)s[t]._DTTT_selected&&n.push(this.s.dt.oInstance.fnGetData(t));return n},fnIsSelected:function(t){var e=this.s.dt.oInstance.fnGetPosition(t);return this.s.dt.aoData[e]._DTTT_selected===!0?!0:!1},fnSelectAll:function(t){var e=this._fnGetMasterSettings();this._fnRowSelect(t===!0?e.dt.aiDisplay:e.dt.aoData)},fnSelectNone:function(t){this._fnGetMasterSettings();this._fnRowDeselect(this.fnGetSelected(t))},fnSelect:function(t){"single"==this.s.select.type?(this.fnSelectNone(),this._fnRowSelect(t)):"multi"==this.s.select.type&&this._fnRowSelect(t)},fnDeselect:function(t){this._fnRowDeselect(t)},fnGetTitle:function(t){var e="";if("undefined"!=typeof t.sTitle&&""!==t.sTitle)e=t.sTitle;else{var s=n.getElementsByTagName("title");s.length>0&&(e=s[0].innerHTML)}return"\xa1".toString().length<4?e.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,""):e.replace(/[^a-zA-Z0-9_\.,\-_ !\(\)]/g,"")},fnCalcColRatios:function(t){var e,n,s=this.s.dt.aoColumns,l=this._fnColumnTargets(t.mColumns),o=[],i=0,a=0;for(e=0,n=l.length;n>e;e++)l[e]&&(i=s[e].nTh.offsetWidth,a+=i,o.push(i));for(e=0,n=o.length;n>e;e++)o[e]=o[e]/a;return o.join("	")},fnGetTableData:function(t){return this.s.dt?this._fnGetDataTablesData(t):void 0},fnSetText:function(t,e){this._fnFlashSetText(t,e)},fnResizeButtons:function(){for(var t in ZeroClipboard_TableTools.clients)if(t){var e=ZeroClipboard_TableTools.clients[t];"undefined"!=typeof e.domElement&&e.domElement.parentNode&&e.positionElement()}},fnResizeRequired:function(){for(var t in ZeroClipboard_TableTools.clients)if(t){var e=ZeroClipboard_TableTools.clients[t];if("undefined"!=typeof e.domElement&&e.domElement.parentNode==this.dom.container&&e.sized===!1)return!0}return!1},fnPrint:function(t,e){void 0===e&&(e={}),void 0===t||t?this._fnPrintStart(e):this._fnPrintEnd()},fnInfo:function(e,s){var l=n.createElement("div");l.className=this.classes.print.info,l.innerHTML=e,n.body.appendChild(l),setTimeout(function(){t(l).fadeOut("normal",function(){n.body.removeChild(l)})},s)},_fnConstruct:function(e){var s=this;this._fnCustomiseSettings(e),this.dom.container=n.createElement(this.s.tags.container),this.dom.container.className=this.classes.container,"none"!=this.s.select.type&&this._fnRowSelectConfig(),this._fnButtonDefinations(this.s.buttonSet,this.dom.container),this.s.dt.aoDestroyCallback.push({sName:"TableTools",fn:function(){t(s.s.dt.nTBody).off("click.DTTT_Select","tr"),t(s.dom.container).empty()}})},_fnCustomiseSettings:function(e){"undefined"==typeof this.s.dt._TableToolsInit&&(this.s.master=!0,this.s.dt._TableToolsInit=!0),this.dom.table=this.s.dt.nTable,this.s.custom=t.extend({},TableTools.DEFAULTS,e),this.s.swfPath=this.s.custom.sSwfPath,"undefined"!=typeof ZeroClipboard_TableTools&&(ZeroClipboard_TableTools.moviePath=this.s.swfPath),this.s.select.type=this.s.custom.sRowSelect,this.s.select.preRowSelect=this.s.custom.fnPreRowSelect,this.s.select.postSelected=this.s.custom.fnRowSelected,this.s.select.postDeselected=this.s.custom.fnRowDeselected,this.s.custom.sSelectedClass&&(this.classes.select.row=this.s.custom.sSelectedClass),this.s.tags=this.s.custom.oTags,this.s.buttonSet=this.s.custom.aButtons},_fnButtonDefinations:function(e,n){for(var s,l=0,o=e.length;o>l;l++){if("string"==typeof e[l]){if("undefined"==typeof TableTools.BUTTONS[e[l]]){alert("TableTools: Warning - unknown button type: "+e[l]);continue}s=t.extend({},TableTools.BUTTONS[e[l]],!0)}else{if("undefined"==typeof TableTools.BUTTONS[e[l].sExtends]){alert("TableTools: Warning - unknown button type: "+e[l].sExtends);continue}var i=t.extend({},TableTools.BUTTONS[e[l].sExtends],!0);s=t.extend(i,e[l],!0)}n.appendChild(this._fnCreateButton(s,t(n).hasClass(this.classes.collection.container)))}},_fnCreateButton:function(t,e){var n=this._fnButtonBase(t,e);return t.sAction.match(/flash/)?this._fnFlashConfig(n,t):"text"==t.sAction?this._fnTextConfig(n,t):"div"==t.sAction?this._fnTextConfig(n,t):"collection"==t.sAction&&(this._fnTextConfig(n,t),this._fnCollectionConfig(n,t)),n},_fnButtonBase:function(t,e){var s,l,o;e?(s="default"!==t.sTag?t.sTag:this.s.tags.collection.button,l="default"!==t.sLinerTag?t.sLiner:this.s.tags.collection.liner,o=this.classes.collection.buttons.normal):(s="default"!==t.sTag?t.sTag:this.s.tags.button,l="default"!==t.sLinerTag?t.sLiner:this.s.tags.liner,o=this.classes.buttons.normal);var i=n.createElement(s),a=n.createElement(l),c=this._fnGetMasterSettings();return i.className=o+" "+t.sButtonClass,i.setAttribute("id","ToolTables_"+this.s.dt.sInstance+"_"+c.buttonCounter),i.appendChild(a),a.innerHTML=t.sButtonText,c.buttonCounter++,i},_fnGetMasterSettings:function(){if(this.s.master)return this.s;for(var t=TableTools._aInstances,e=0,n=t.length;n>e;e++)if(this.dom.table==t[e].s.dt.nTable)return t[e].s},_fnCollectionConfig:function(t,e){var s=n.createElement(this.s.tags.collection.container);s.style.display="none",s.className=this.classes.collection.container,e._collection=s,n.body.appendChild(s),this._fnButtonDefinations(e.aButtons,s)},_fnCollectionShow:function(s,l){var o=this,i=t(s).offset(),a=l._collection,c=i.left,r=i.top+t(s).outerHeight(),f=t(e).height(),u=t(n).height(),d=t(e).width(),T=t(n).width();a.style.position="absolute",a.style.left=c+"px",a.style.top=r+"px",a.style.display="block",t(a).css("opacity",0);var h=n.createElement("div");h.style.position="absolute",h.style.left="0px",h.style.top="0px",h.style.height=(f>u?f:u)+"px",h.style.width=(d>T?d:T)+"px",h.className=this.classes.collection.background,t(h).css("opacity",0),n.body.appendChild(h),n.body.appendChild(a);var b=t(a).outerWidth(),p=t(a).outerHeight();c+b>T&&(a.style.left=T-b+"px"),r+p>u&&(a.style.top=r-p-t(s).outerHeight()+"px"),this.dom.collection.collection=a,this.dom.collection.background=h,setTimeout(function(){t(a).animate({opacity:1},500),t(h).animate({opacity:.25},500)},10),this.fnResizeButtons(),t(h).click(function(){o._fnCollectionHide.call(o,null,null)})},_fnCollectionHide:function(e,n){(null===n||"collection"!=n.sExtends)&&null!==this.dom.collection.collection&&(t(this.dom.collection.collection).animate({opacity:0},500,function(){this.style.display="none"}),t(this.dom.collection.background).animate({opacity:0},500,function(){this.parentNode.removeChild(this)}),this.dom.collection.collection=null,this.dom.collection.background=null)},_fnRowSelectConfig:function(){if(this.s.master){{var e=this,n=this.s.dt;this.s.dt.aoOpenRows}t(n.nTable).addClass(this.classes.select.table),t(n.nTBody).on("click.DTTT_Select","tr",function(t){this.parentNode==n.nTBody&&null!==n.oInstance.fnGetData(this)&&(e.fnIsSelected(this)?e._fnRowDeselect(this,t):"single"==e.s.select.type?(e.fnSelectNone(),e._fnRowSelect(this,t)):"multi"==e.s.select.type&&e._fnRowSelect(this,t))}),n.oApi._fnCallbackReg(n,"aoRowCreatedCallback",function(s,l,o){n.aoData[o]._DTTT_selected&&t(s).addClass(e.classes.select.row)},"TableTools-SelectAll")}},_fnRowSelect:function(e,n){var s,l,o=this,i=this._fnSelectData(e),a=(0===i.length?null:i[0].nTr,[]);for(s=0,l=i.length;l>s;s++)i[s].nTr&&a.push(i[s].nTr);if(null===this.s.select.preRowSelect||this.s.select.preRowSelect.call(this,n,a,!0)){for(s=0,l=i.length;l>s;s++)i[s]._DTTT_selected=!0,i[s].nTr&&t(i[s].nTr).addClass(o.classes.select.row);null!==this.s.select.postSelected&&this.s.select.postSelected.call(this,a),TableTools._fnEventDispatch(this,"select",a,!0)}},_fnRowDeselect:function(e,n){var s,l,o=this,i=this._fnSelectData(e),a=(0===i.length?null:i[0].nTr,[]);for(s=0,l=i.length;l>s;s++)i[s].nTr&&a.push(i[s].nTr);if(null===this.s.select.preRowSelect||this.s.select.preRowSelect.call(this,n,a,!1)){for(s=0,l=i.length;l>s;s++)i[s]._DTTT_selected=!1,i[s].nTr&&t(i[s].nTr).removeClass(o.classes.select.row);null!==this.s.select.postDeselected&&this.s.select.postDeselected.call(this,a),TableTools._fnEventDispatch(this,"select",a,!1)}},_fnSelectData:function(t){var e,n,s,l=[];if(t.nodeName)e=this.s.dt.oInstance.fnGetPosition(t),l.push(this.s.dt.aoData[e]);else{if("undefined"!=typeof t.length){for(n=0,s=t.length;s>n;n++)t[n].nodeName?(e=this.s.dt.oInstance.fnGetPosition(t[n]),l.push(this.s.dt.aoData[e])):l.push("number"==typeof t[n]?this.s.dt.aoData[t[n]]:t[n]);return l}l.push(t)}return l},_fnTextConfig:function(e,n){var s=this;null!==n.fnInit&&n.fnInit.call(this,e,n),""!==n.sToolTip&&(e.title=n.sToolTip),t(e).hover(function(){null!==n.fnMouseover&&n.fnMouseover.call(this,e,n,null)},function(){null!==n.fnMouseout&&n.fnMouseout.call(this,e,n,null)}),null!==n.fnSelect&&TableTools._fnEventListen(this,"select",function(t){n.fnSelect.call(s,e,n,t)}),t(e).click(function(t){null!==n.fnClick&&n.fnClick.call(s,e,n,null,t),null!==n.fnComplete&&n.fnComplete.call(s,e,n,null,null),s._fnCollectionHide(e,n)})},_fnFlashConfig:function(t,e){var n=this,s=new ZeroClipboard_TableTools.Client;null!==e.fnInit&&e.fnInit.call(this,t,e),s.setHandCursor(!0),"flash_save"==e.sAction?(s.setAction("save"),s.setCharSet("utf16le"==e.sCharSet?"UTF16LE":"UTF8"),s.setBomInc(e.bBomInc),s.setFileName(e.sFileName.replace("*",this.fnGetTitle(e)))):"flash_pdf"==e.sAction?(s.setAction("pdf"),s.setFileName(e.sFileName.replace("*",this.fnGetTitle(e)))):s.setAction("copy"),s.addEventListener("mouseOver",function(){null!==e.fnMouseover&&e.fnMouseover.call(n,t,e,s)}),s.addEventListener("mouseOut",function(){null!==e.fnMouseout&&e.fnMouseout.call(n,t,e,s)}),s.addEventListener("mouseDown",function(){null!==e.fnClick&&e.fnClick.call(n,t,e,s)}),s.addEventListener("complete",function(l,o){null!==e.fnComplete&&e.fnComplete.call(n,t,e,s,o),n._fnCollectionHide(t,e)}),this._fnFlashGlue(s,t,e.sToolTip)},_fnFlashGlue:function(t,e,s){var l=this,o=e.getAttribute("id");n.getElementById(o)?t.glue(e,s):setTimeout(function(){l._fnFlashGlue(t,e,s)},100)},_fnFlashSetText:function(t,e){var n=this._fnChunkData(e,8192);t.clearText();for(var s=0,l=n.length;l>s;s++)t.appendText(n[s])},_fnColumnTargets:function(t){var e=[],n=this.s.dt;if("object"==typeof t){for(i=0,iLen=n.aoColumns.length;iLen>i;i++)e.push(!1);for(i=0,iLen=t.length;iLen>i;i++)e[t[i]]=!0}else if("visible"==t)for(i=0,iLen=n.aoColumns.length;iLen>i;i++)e.push(n.aoColumns[i].bVisible?!0:!1);else if("hidden"==t)for(i=0,iLen=n.aoColumns.length;iLen>i;i++)e.push(n.aoColumns[i].bVisible?!1:!0);else if("sortable"==t)for(i=0,iLen=n.aoColumns.length;iLen>i;i++)e.push(n.aoColumns[i].bSortable?!0:!1);else for(i=0,iLen=n.aoColumns.length;iLen>i;i++)e.push(!0);return e},_fnNewline:function(t){return"auto"==t.sNewLine?navigator.userAgent.match(/Windows/)?"\r\n":"\n":t.sNewLine},_fnGetDataTablesData:function(e){var n,s,l,o,i,a,c,r=[],f="",u=this.s.dt,d=new RegExp(e.sFieldBoundary,"g"),T=this._fnColumnTargets(e.mColumns),h="undefined"!=typeof e.bSelectedOnly?e.bSelectedOnly:!1;if(e.bHeader){for(i=[],n=0,s=u.aoColumns.length;s>n;n++)T[n]&&(f=u.aoColumns[n].sTitle.replace(/\n/g," ").replace(/<.*?>/g,"").replace(/^\s+|\s+$/g,""),f=this._fnHtmlDecode(f),i.push(this._fnBoundData(f,e.sFieldBoundary,d)));r.push(i.join(e.sFieldSeperator))}var b=u.aiDisplay,p=this.fnGetSelected();if("none"!==this.s.select.type&&h&&0!==p.length)for(b=[],n=0,s=p.length;s>n;n++)b.push(u.oInstance.fnGetPosition(p[n]));for(l=0,o=b.length;o>l;l++){for(c=u.aoData[b[l]].nTr,i=[],n=0,s=u.aoColumns.length;s>n;n++)if(T[n]){var _=u.oApi._fnGetCellData(u,b[l],n,"display");e.fnCellRender?f=e.fnCellRender(_,n,c,b[l])+"":"string"==typeof _?(f=_.replace(/\n/g," "),f=f.replace(/<img.*?\s+alt\s*=\s*(?:"([^"]+)"|'([^']+)'|([^\s>]+)).*?>/gi,"$1$2$3"),f=f.replace(/<.*?>/g,"")):f=_+"",f=f.replace(/^\s+/,"").replace(/\s+$/,""),f=this._fnHtmlDecode(f),i.push(this._fnBoundData(f,e.sFieldBoundary,d))}r.push(i.join(e.sFieldSeperator)),e.bOpenRows&&(a=t.grep(u.aoOpenRows,function(t){return t.nParent===c}),1===a.length&&(f=this._fnBoundData(t("td",a[0].nTr).html(),e.sFieldBoundary,d),r.push(f)))}if(e.bFooter&&null!==u.nTFoot){for(i=[],n=0,s=u.aoColumns.length;s>n;n++)T[n]&&null!==u.aoColumns[n].nTf&&(f=u.aoColumns[n].nTf.innerHTML.replace(/\n/g," ").replace(/<.*?>/g,""),f=this._fnHtmlDecode(f),i.push(this._fnBoundData(f,e.sFieldBoundary,d)));r.push(i.join(e.sFieldSeperator))}return _sLastData=r.join(this._fnNewline(e))},_fnBoundData:function(t,e,n){return""===e?t:e+t.replace(n,e+e)+e},_fnChunkData:function(t,e){for(var n=[],s=t.length,l=0;s>l;l+=e)n.push(s>l+e?t.substring(l,l+e):t.substring(l,s));return n},_fnHtmlDecode:function(t){if(-1===t.indexOf("&"))return t;var e=n.createElement("div");return t.replace(/&([^\s]*);/g,function(t,n){return"#"===t.substr(1,1)?String.fromCharCode(Number(n.substr(1))):(e.innerHTML=t,e.childNodes[0].nodeValue)})},_fnPrintStart:function(s){var l=this,o=this.s.dt;this._fnPrintHideNodes(o.nTable),this.s.print.saveStart=o._iDisplayStart,this.s.print.saveLength=o._iDisplayLength,s.bShowAll&&(o._iDisplayStart=0,o._iDisplayLength=-1,o.oApi._fnCalculateEnd(o),o.oApi._fnDraw(o)),(""!==o.oScroll.sX||""!==o.oScroll.sY)&&(this._fnPrintScrollStart(o),t(this.s.dt.nTable).bind("draw.DTTT_Print",function(){l._fnPrintScrollStart(o)}));var i=o.aanFeatures;for(var a in i)if("i"!=a&&"t"!=a&&1==a.length)for(var c=0,r=i[a].length;r>c;c++)this.dom.print.hidden.push({node:i[a][c],display:"block"}),i[a][c].style.display="none";t(n.body).addClass(this.classes.print.body),""!==s.sInfo&&this.fnInfo(s.sInfo,3e3),s.sMessage&&(this.dom.print.message=n.createElement("div"),this.dom.print.message.className=this.classes.print.message,this.dom.print.message.innerHTML=s.sMessage,n.body.insertBefore(this.dom.print.message,n.body.childNodes[0])),this.s.print.saveScroll=t(e).scrollTop(),e.scrollTo(0,0),t(n).bind("keydown.DTTT",function(t){27==t.keyCode&&(t.preventDefault(),l._fnPrintEnd.call(l,t))})},_fnPrintEnd:function(){var s=this.s.dt,l=this.s.print,o=this.dom.print;this._fnPrintShowNodes(),(""!==s.oScroll.sX||""!==s.oScroll.sY)&&(t(this.s.dt.nTable).unbind("draw.DTTT_Print"),this._fnPrintScrollEnd()),e.scrollTo(0,l.saveScroll),null!==o.message&&(n.body.removeChild(o.message),o.message=null),t(n.body).removeClass("DTTT_Print"),s._iDisplayStart=l.saveStart,s._iDisplayLength=l.saveLength,s.oApi._fnCalculateEnd(s),s.oApi._fnDraw(s),t(n).unbind("keydown.DTTT")},_fnPrintScrollStart:function(){var e=this.s.dt,n=e.nScrollHead.getElementsByTagName("div")[0],s=(n.getElementsByTagName("table")[0],e.nTable.parentNode),l=e.nTable.getElementsByTagName("thead");if(l.length>0&&e.nTable.removeChild(l[0]),null!==e.nTFoot){var o=e.nTable.getElementsByTagName("tfoot");o.length>0&&e.nTable.removeChild(o[0])}l=e.nTHead.cloneNode(!0),e.nTable.insertBefore(l,e.nTable.childNodes[0]),null!==e.nTFoot&&(o=e.nTFoot.cloneNode(!0),e.nTable.insertBefore(o,e.nTable.childNodes[1])),""!==e.oScroll.sX&&(e.nTable.style.width=t(e.nTable).outerWidth()+"px",s.style.width=t(e.nTable).outerWidth()+"px",s.style.overflow="visible"),""!==e.oScroll.sY&&(s.style.height=t(e.nTable).outerHeight()+"px",s.style.overflow="visible")},_fnPrintScrollEnd:function(){var t=this.s.dt,e=t.nTable.parentNode;""!==t.oScroll.sX&&(e.style.width=t.oApi._fnStringToCss(t.oScroll.sX),e.style.overflow="auto"),""!==t.oScroll.sY&&(e.style.height=t.oApi._fnStringToCss(t.oScroll.sY),e.style.overflow="auto")},_fnPrintShowNodes:function(){for(var t=this.dom.print.hidden,e=0,n=t.length;n>e;e++)t[e].node.style.display=t[e].display;t.splice(0,t.length)},_fnPrintHideNodes:function(e){for(var n=this.dom.print.hidden,s=e.parentNode,l=s.childNodes,o=0,i=l.length;i>o;o++)if(l[o]!=e&&1==l[o].nodeType){var a=t(l[o]).css("display");"none"!=a&&(n.push({node:l[o],display:a}),l[o].style.display="none")}"BODY"!=s.nodeName&&this._fnPrintHideNodes(s)}},TableTools._aInstances=[],TableTools._aListeners=[],TableTools.fnGetMasters=function(){for(var t=[],e=0,n=TableTools._aInstances.length;n>e;e++)TableTools._aInstances[e].s.master&&t.push(TableTools._aInstances[e]);return t},TableTools.fnGetInstance=function(t){"object"!=typeof t&&(t=n.getElementById(t));for(var e=0,s=TableTools._aInstances.length;s>e;e++)if(TableTools._aInstances[e].s.master&&TableTools._aInstances[e].dom.table==t)return TableTools._aInstances[e];return null},TableTools._fnEventListen=function(t,e,n){TableTools._aListeners.push({that:t,type:e,fn:n})},TableTools._fnEventDispatch=function(t,e,n,s){for(var l=TableTools._aListeners,o=0,i=l.length;i>o;o++)t.dom.table==l[o].that.dom.table&&l[o].type==e&&l[o].fn(n,s)},TableTools.buttonBase={sAction:"text",sTag:"default",sLinerTag:"default",sButtonClass:"DTTT_button_text",sButtonText:"Button text",sTitle:"",sToolTip:"",sCharSet:"utf8",bBomInc:!1,sFileName:"*.csv",sFieldBoundary:"",sFieldSeperator:"	",sNewLine:"auto",mColumns:"all",bHeader:!0,bFooter:!0,bOpenRows:!1,bSelectedOnly:!1,fnMouseover:null,fnMouseout:null,fnClick:null,fnSelect:null,fnComplete:null,fnInit:null,fnCellRender:null},TableTools.BUTTONS={csv:t.extend({},TableTools.buttonBase,{sAction:"flash_save",sButtonClass:"DTTT_button_csv",sButtonText:"CSV",sFieldBoundary:'"',sFieldSeperator:",",fnClick:function(t,e,n){this.fnSetText(n,this.fnGetTableData(e))}}),xls:t.extend({},TableTools.buttonBase,{sAction:"flash_save",sCharSet:"utf16le",bBomInc:!0,sButtonClass:"DTTT_button_xls",sButtonText:"Excel",fnClick:function(t,e,n){this.fnSetText(n,this.fnGetTableData(e))}}),copy:t.extend({},TableTools.buttonBase,{sAction:"flash_copy",sButtonClass:"DTTT_button_copy",sButtonText:"Copy",fnClick:function(t,e,n){this.fnSetText(n,this.fnGetTableData(e))},fnComplete:function(t,e,n,s){var l=s.split("\n").length,o=null===this.s.dt.nTFoot?l-1:l-2,i=1==o?"":"s";this.fnInfo("<h6>Table copied</h6><p>Copied "+o+" row"+i+" to the clipboard.</p>",1500)}}),pdf:t.extend({},TableTools.buttonBase,{sAction:"flash_pdf",sNewLine:"\n",sFileName:"*.pdf",sButtonClass:"DTTT_button_pdf",sButtonText:"PDF",sPdfOrientation:"portrait",sPdfSize:"A4",sPdfMessage:"",fnClick:function(t,e,n){this.fnSetText(n,"title:"+this.fnGetTitle(e)+"\nmessage:"+e.sPdfMessage+"\ncolWidth:"+this.fnCalcColRatios(e)+"\norientation:"+e.sPdfOrientation+"\nsize:"+e.sPdfSize+"\n--/TableToolsOpts--\n"+this.fnGetTableData(e))}}),print:t.extend({},TableTools.buttonBase,{sInfo:"<h6>Print view</h6><p>Please use your browser's print function to print this table. Press escape when finished.",sMessage:null,bShowAll:!0,sToolTip:"View print view",sButtonClass:"DTTT_button_print",sButtonText:"Print",fnClick:function(t,e){this.fnPrint(!0,e)}}),text:t.extend({},TableTools.buttonBase),select:t.extend({},TableTools.buttonBase,{sButtonText:"Select button",fnSelect:function(e){0!==this.fnGetSelected().length?t(e).removeClass(this.classes.buttons.disabled):t(e).addClass(this.classes.buttons.disabled)},fnInit:function(e){t(e).addClass(this.classes.buttons.disabled)}}),select_single:t.extend({},TableTools.buttonBase,{sButtonText:"Select button",fnSelect:function(e){var n=this.fnGetSelected().length;1==n?t(e).removeClass(this.classes.buttons.disabled):t(e).addClass(this.classes.buttons.disabled)},fnInit:function(e){t(e).addClass(this.classes.buttons.disabled)}}),select_all:t.extend({},TableTools.buttonBase,{sButtonText:"Select all",fnClick:function(){this.fnSelectAll()},fnSelect:function(e){this.fnGetSelected().length==this.s.dt.fnRecordsDisplay()?t(e).addClass(this.classes.buttons.disabled):t(e).removeClass(this.classes.buttons.disabled)}}),select_none:t.extend({},TableTools.buttonBase,{sButtonText:"Deselect all",fnClick:function(){this.fnSelectNone()},fnSelect:function(e){0!==this.fnGetSelected().length?t(e).removeClass(this.classes.buttons.disabled):t(e).addClass(this.classes.buttons.disabled)},fnInit:function(e){t(e).addClass(this.classes.buttons.disabled)}}),ajax:t.extend({},TableTools.buttonBase,{sAjaxUrl:"/xhr.php",sButtonText:"Ajax button",fnClick:function(e,n){var s=this.fnGetTableData(n);t.ajax({url:n.sAjaxUrl,data:[{name:"tableData",value:s}],success:n.fnAjaxComplete,dataType:"json",type:"POST",cache:!1,error:function(){alert("Error detected when sending table data to server")}})},fnAjaxComplete:function(){alert("Ajax complete")}}),div:t.extend({},TableTools.buttonBase,{sAction:"div",sTag:"div",sButtonClass:"DTTT_nonbutton",sButtonText:"Text button"}),collection:t.extend({},TableTools.buttonBase,{sAction:"collection",sButtonClass:"DTTT_button_collection",sButtonText:"Collection",fnClick:function(t,e){this._fnCollectionShow(t,e)}})},TableTools.classes={container:"DTTT_container",buttons:{normal:"DTTT_button",disabled:"DTTT_disabled"},collection:{container:"DTTT_collection",background:"DTTT_collection_background",buttons:{normal:"DTTT_button",disabled:"DTTT_disabled"}},select:{table:"DTTT_selectable",row:"DTTT_selected"},print:{body:"DTTT_Print",info:"DTTT_print_info",message:"DTTT_PrintMessage"}},TableTools.classes_themeroller={container:"DTTT_container ui-buttonset ui-buttonset-multi",buttons:{normal:"DTTT_button ui-button ui-state-default"},collection:{container:"DTTT_collection ui-buttonset ui-buttonset-multi"}},TableTools.DEFAULTS={sSwfPath:"media/swf/copy_csv_xls_pdf.swf",sRowSelect:"none",sSelectedClass:null,fnPreRowSelect:null,fnRowSelected:null,fnRowDeselected:null,aButtons:["copy","csv","xls","pdf","print"],oTags:{container:"div",button:"a",liner:"span",collection:{container:"div",button:"a",liner:"span"}}},TableTools.prototype.CLASS="TableTools",TableTools.VERSION="2.1.5",TableTools.prototype.VERSION=TableTools.VERSION,"function"==typeof t.fn.dataTable&&"function"==typeof t.fn.dataTableExt.fnVersionCheck&&t.fn.dataTableExt.fnVersionCheck("1.9.0")?t.fn.dataTableExt.aoFeatures.push({fnInit:function(t){var e="undefined"!=typeof t.oInit.oTableTools?t.oInit.oTableTools:{},n=new TableTools(t.oInstance,e);return TableTools._aInstances.push(n),n.dom.container},cFeature:"T",sFeature:"TableTools"}):alert("Warning: TableTools 2 requires DataTables 1.9.0 or newer - www.datatables.net/download"),t.fn.DataTable.TableTools=TableTools}(jQuery,window,document);